(function () {
  var __get_scope_binding_0_get_95scope_95binding = function (__selector) {
    var __captured;

    switch (__selector) {
      case 0:
        __captured = [41];
        break;

      case 1:
        __captured = [_Dd__95typeof, _Dd__95typeof, _C2__95get, _C2__95get];
        break;

      case 2:
        __captured = [_C6__95get, _C6__95get];
        break;

      case 3:
        __captured = [_Da__95typeof, _Da__95typeof];
        break;

      case 4:
        __captured = [_Db__95typeof, _Db__95typeof];
        break;

      case 5:
        __captured = [_FV__95typeof, _FV__95typeof, _F2__95getPrototypeOf, _F2__95getPrototypeOf];
        break;

      case 6:
        __captured = [_FX__95typeof, _FX__95typeof, _F4__95getPrototypeOf, _F4__95getPrototypeOf];
        break;

      case 7:
        __captured = [_FZ__95typeof, _FZ__95typeof, _F6__95getPrototypeOf, _F6__95getPrototypeOf];
        break;

      case 8:
        __captured = [_Fb__95typeof, _Fb__95typeof, _F8__95getPrototypeOf, _F8__95getPrototypeOf];
        break;

      case 9:
        __captured = [_Fd__95typeof, _Fd__95typeof, _FA__95getPrototypeOf, _FA__95getPrototypeOf];
        break;

      case 10:
        __captured = [_Ff__95typeof, _Ff__95typeof, _FC__95getPrototypeOf, _FC__95getPrototypeOf];
        break;

      case 11:
        __captured = [_E5__95typeof, _E5__95typeof];
        break;

      case 12:
        __captured = [_E6__95typeof, _E6__95typeof];
        break;

      case 13:
        __captured = [_ED__95typeof, _ED__95typeof];
        break;

      case 14:
        __captured = [_EE__95typeof, _EE__95typeof];
        break;

      case 15:
        __captured = [_EF__95typeof, _EF__95typeof];
        break;

      case 16:
        __captured = [_EG__95typeof, _EG__95typeof];
        break;

      case 17:
        __captured = [_EL__95typeof, _EL__95typeof];
        break;

      case 18:
        __captured = [_EN__95typeof, _EN__95typeof];
        break;

      case 19:
        __captured = [_FU__95typeof, _FU__95typeof];
        break;
    }

    __scope_0_main[__selector] = __captured;
    return __captured;
  };

  var __scope_0_main = new Array(20);

  var $$0_enumerable_58false_44configurable_58true_44writable_58true = {
    enumerable: false,
    configurable: true,
    writable: true
  };

  var _$1_global = this;

  var _$2_Object = _$1_global.Object;
  var _$3_Object_46getPrototypeOf = _$2_Object.getPrototypeOf;
  var _$4_Map = _$1_global.Map;
  var _$5_Object_46defineProperty = _$2_Object.defineProperty;
  var _$6_Object_46setPrototypeOf = _$2_Object.setPrototypeOf;
  var _$7_Reflect = _$1_global.Reflect;
  var _$8_Reflect_46get = _$7_Reflect.get;
  var _$9_global_46setTimeout = _$1_global.setTimeout;

  var _Cm__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Dk__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _CK_Abstraction = function (param, body) {
    _Dk__95classCallCheck(this, _CK_Abstraction);

    this.param = param;
    this.body = body;
  };

  var _Dl__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _CL_Application = function (lhs, rhs) {
    _Dl__95classCallCheck(this, _CL_Application);

    this.lhs = lhs;
    this.rhs = rhs;
  };

  var _Dj__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _CJ_Identifier = function (value, name) {
    _Dj__95classCallCheck(this, _CJ_Identifier);

    this.value = value;
    this.name = name;
  };

  var _Dm__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _CM_Constant = function (value) {
    _Dm__95classCallCheck(this, _CM_Constant);

    this.value = value;
  };

  var _Ey__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _DG_Operation = function (type, name) {
    _Ey__95classCallCheck(this, _DG_Operation);

    this.type = type;
    this.name = name;
  };

  var _CQ_ = _DG_Operation.prototype;

  var _FU__95typeof = function (obj) {
    var __captured__scope_K_ = __scope_0_main[19] || __get_scope_binding_0_get_95scope_95binding(19);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_K_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_K_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_K_[1](obj);
  };

  var _Do__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _F0__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_K_ = __scope_0_main[19] || __get_scope_binding_0_get_95scope_95binding(19);

    if (call && (__captured__scope_K_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Fi__95assertThisInitialized(self);
  };

  var _Fi__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _CR_UnaryOp = function (type, name, v1) {
    var _this;

    _Do__95classCallCheck(this, _CR_UnaryOp);

    _this = _F0__95possibleConstructorReturn(this, _Bo_(_CR_UnaryOp).call(this, type, name));
    _this.v1 = v1;
    return _this;
  };

  var _Dn__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Ez__95possibleConstructorReturn = function (self, call) {
    if (call && (_FT_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Fh__95assertThisInitialized(self);
  };

  var _Fh__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _CN_BinaryOp = function (type, name, v1, v2) {
    var _this;

    _Dn__95classCallCheck(this, _CN_BinaryOp);

    _this = _Ez__95possibleConstructorReturn(this, _Bo_(_CN_BinaryOp).call(this, type, name, v1));
    _this.v2 = v2;
    return _this;
  };

  var _Ds__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _CU_IfThenElse = function (cond, t1, t2) {
    _Ds__95classCallCheck(this, _CU_IfThenElse);

    this.cond = cond;
    this.t1 = t1;
    this.t2 = t2;
  };

  var _Du__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _CX_Recursion = function (param, body) {
    _Du__95classCallCheck(this, _CX_Recursion);

    this.param = param;
    this.body = body;
  };

  var _Dw__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Ca_ProvisionalConstant = function (term) {
    _Dw__95classCallCheck(this, _Ca_ProvisionalConstant);

    this.term = term;
  };

  var _E0__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cf_Change = function (param, body) {
    _E0__95classCallCheck(this, _Cf_Change);

    this.param = param;
    this.body = body;
  };

  var _E1__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cg_Assign = function (param, body) {
    _E1__95classCallCheck(this, _Cg_Assign);

    this.param = param;
    this.body = body;
  };

  var _E3__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cj_Propagation = function () {
    _E3__95classCallCheck(this, _Cj_Propagation);
  };

  var _Dx__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cb_Deprecation = function (term) {
    _Dx__95classCallCheck(this, _Cb_Deprecation);

    this.term = term;
  };

  var _Dz__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Ce_Dereference = function (term) {
    _Dz__95classCallCheck(this, _Ce_Dereference);

    this.term = term;
  };

  var _Dh__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _FS__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _EP_Token = function (type, value, pred) {
    _FS__95classCallCheck(this, _EP_Token);

    this.type = type;
    this.value = value;
    this.pred = pred;
  };

  var _CF_Lexer = function (input) {
    _Dh__95classCallCheck(this, _CF_Lexer);

    this._input = input;
    this._index = 0;
    this._token = undefined;

    this._nextToken();
  };

  var _CG_ = _CF_Lexer.prototype;

  var _D2_ = function () {
    if (this._index >= this._input.length) {
      return '\0';
    }

    return this._input[this._index++];
  };

  var _D3_ = function () {
    var c;

    do {
      c = this._nextChar();
    } while (/\s/.test(c));

    switch (c) {
      case 'λ':
      case '\\':
        this._token = new _EP_Token(_EP_Token.LAMBDA);
        break;

      case '.':
        this._token = new _EP_Token(_EP_Token.DOT);
        break;

      case ',':
        this._token = new _EP_Token(_EP_Token.COMMA);
        break;

      case ';':
        this._token = new _EP_Token(_EP_Token.SEQ);
        break;

      case '(':
        this._token = new _EP_Token(_EP_Token.LPAREN);
        break;

      case ')':
        this._token = new _EP_Token(_EP_Token.RPAREN);
        break;

      case '{':
        this._token = new _EP_Token(_EP_Token.CLPAREN);
        break;

      case '}':
        this._token = new _EP_Token(_EP_Token.CRPAREN);
        break;

      case '\0':
        this._token = new _EP_Token(_EP_Token.EOF);
        break;

      case '~':
        this._token = new _EP_Token(_EP_Token.NOT);
        break;

      case '&':
        if (this._nextChar() == '&') this._token = new _EP_Token(_EP_Token.AND, null, 5);else {
          this._index--;
          this.fail();
        }
        break;

      case '|':
        var c2 = this._nextChar();

        if (c2 == '|') this._token = new _EP_Token(_EP_Token.OR, null, 4);else {
          this._index--;
          this.fail();
        }
        break;

      case '+':
        this._token = new _EP_Token(_EP_Token.PLUS, null, 12);
        break;

      case '-':
        this._token = new _EP_Token(_EP_Token.SUB, null, 12);
        break;

      case '*':
        this._token = new _EP_Token(_EP_Token.MULT, null, 13);
        break;

      case '/':
        this._token = new _EP_Token(_EP_Token.DIV, null, 13);
        break;

      case '<':
        if (this._nextChar() == '=') this._token = new _EP_Token(_EP_Token.LTE, null, 10);else {
          this._index--;
          this.fail();
        }
        break;

      case '=':
        this._token = new _EP_Token(_EP_Token.DEFINE);
        break;

      default:
        // text for string
        if (/[a-z]|_|'/.test(c)) {
          var str = '';

          do {
            str += c;
            c = this._nextChar();
          } while (/[a-zA-Z]|'|_|[0-9]/.test(c)); // put back the last char which is not part of the identifier


          this._index--;
          if (str == "let") this._token = new _EP_Token(_EP_Token.LET);else if (str == "in") this._token = new _EP_Token(_EP_Token.IN);else if (str == "rec") this._token = new _EP_Token(_EP_Token.REC);else if (str == "true") this._token = new _EP_Token(_EP_Token.TRUE);else if (str == "false") this._token = new _EP_Token(_EP_Token.FALSE);else if (str == "if") this._token = new _EP_Token(_EP_Token.IF);else if (str == "then") this._token = new _EP_Token(_EP_Token.THEN);else if (str == "else") this._token = new _EP_Token(_EP_Token.ELSE);else if (str == "link") this._token = new _EP_Token(_EP_Token.CHANGE);else if (str == "set") this._token = new _EP_Token(_EP_Token.SET);else if (str == "to") this._token = new _EP_Token(_EP_Token.TO);else if (str == "step") this._token = new _EP_Token(_EP_Token.PROP);else if (str == "peek") this._token = new _EP_Token(_EP_Token.DEP);else if (str == "deref") this._token = new _EP_Token(_EP_Token.DEREF);else this._token = new _EP_Token(_EP_Token.LCID, str);
        } // text for numbers
        else if (/[0-9]/.test(c)) {
            var _str = '';

            do {
              _str += c;
              c = this._nextChar();
            } while (/[0-9]/.test(c));

            if (c == '.') {
              do {
                _str += c;
                c = this._nextChar();
              } while (/[0-9]/.test(c));
            } // put back the last char which is not part of the identifier


            this._index--;
            this._token = new _EP_Token(_EP_Token.INT, parseFloat(_str));
          } else {
            this.fail();
          }

    }
  };

  var _D4_ = function (type) {
    if (!type) {
      return this._token.value;
    }

    var token = this._token;
    this.match(type);
    return token.value;
  };

  var _D5_ = function () {
    return this._token;
  };

  var _D6_ = function () {
    throw new Error("Unexpected token at offset ".concat(this._index));
  };

  var _D7_ = function (type) {
    return this._token.type == type;
  };

  var _D8_ = function (type) {
    if (this.next(type)) {
      this._nextToken();

      return;
    }

    console.error("".concat(this._index, ": Invalid token: Expected '").concat(type, "' found '").concat(this._token.type, "'"));
    throw new Error('Parse Error');
  };

  var _D9_ = function (type) {
    if (this.next(type)) {
      this._nextToken();

      return true;
    }

    return false;
  };

  var _Di__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _CH_Parser = function (lexer) {
    _Di__95classCallCheck(this, _CH_Parser);

    this.lexer = lexer;
  };

  var _CI_ = _CH_Parser.prototype;

  var _DA_ = function () {
    var result = this.term([]); // make sure we consumed all the program, otherwise there was a syntax error

    this.lexer.match(_EP_Token.EOF);
    return result;
  };

  var _DB_ = function (ctx) {
    if (this.lexer.skip(_EP_Token.LAMBDA)) {
      var id = this.lexer.token(_EP_Token.LCID);
      this.lexer.match(_EP_Token.DOT);
      var term = this.term([id].concat(ctx));
      return new _CK_Abstraction(id, term);
    } else if (this.lexer.skip(_EP_Token.LET)) {
      var _id = this.lexer.token(_EP_Token.LCID);

      this.lexer.match(_EP_Token.DEFINE);
      var N = this.term(ctx);
      this.lexer.match(_EP_Token.IN);
      var M = this.term([_id].concat(ctx));
      return new _CL_Application(new _CK_Abstraction(_id, M), N);
    } else if (this.lexer.skip(_EP_Token.REC)) {
      var _id2 = this.lexer.token(_EP_Token.LCID);

      this.lexer.match(_EP_Token.DOT);

      var _term = this.term([_id2].concat(ctx));

      return new _CX_Recursion(_id2, _term);
    } else if (this.lexer.skip(_EP_Token.IF)) {
      var cond = this.term(ctx);
      this.lexer.match(_EP_Token.THEN);
      var t1 = this.term(ctx);
      this.lexer.match(_EP_Token.ELSE);
      var t2 = this.term(ctx);
      return new _CU_IfThenElse(cond, t1, t2);
    } else {
      return this.application(ctx);
    }
  };

  var _DC_ = function (token) {
    return token.type == _EP_Token.AND || token.type == _EP_Token.OR || token.type == _EP_Token.PLUS || token.type == _EP_Token.SUB || token.type == _EP_Token.MULT || token.type == _EP_Token.DIV || token.type == _EP_Token.LTE;
  };

  var _DD_ = function (ctx, lhs, pred) {
    var nextToken = this.lexer.lookahead();

    while (this.isBinaryOp(nextToken) && nextToken.pred >= pred) {
      var op = nextToken;

      this.lexer._nextToken();

      var rhs = this.atom(ctx); //var rhs = this.term(ctx);

      nextToken = this.lexer.lookahead();

      while (this.isBinaryOp(nextToken) && nextToken.pred > op.pred) {
        rhs = this.parseBinop(ctx, rhs, nextToken.pred);
        nextToken = this.lexer.lookahead();
      }

      if (op.type == _EP_Token.AND) {
        lhs = new _CN_BinaryOp(_BW_BinOpType.And, "&&", lhs, rhs);
      } else if (op.type == _EP_Token.OR) {
        lhs = new _CN_BinaryOp(_BW_BinOpType.Or, "||", lhs, rhs);
      } else if (op.type == _EP_Token.PLUS) {
        lhs = new _CN_BinaryOp(_BW_BinOpType.Plus, "+", lhs, rhs);
      } else if (op.type == _EP_Token.SUB) {
        lhs = new _CN_BinaryOp(_BW_BinOpType.Sub, "-", lhs, rhs);
      } else if (op.type == _EP_Token.MULT) {
        lhs = new _CN_BinaryOp(_BW_BinOpType.Mult, "*", lhs, rhs);
      } else if (op.type == _EP_Token.DIV) {
        lhs = new _CN_BinaryOp(_BW_BinOpType.Div, "/", lhs, rhs);
      } else if (op.type == _EP_Token.LTE) {
        lhs = new _CN_BinaryOp(_BW_BinOpType.Lte, "<=", lhs, rhs);
      }
    }

    return lhs;
  };

  var _DE_ = function (ctx) {
    var lhs = this.atom(ctx);

    while (true) {
      var rhs;

      if (this.isBinaryOp(this.lexer.lookahead())) {
        lhs = this.parseBinop(ctx, lhs, 0);
      } else {
        rhs = this.atom(ctx);

        if (!rhs) {
          return lhs;
        } else {
          lhs = new _CL_Application(lhs, rhs);
        }
      }
    }
  };

  var _DF_ = function (ctx) {
    if (this.lexer.skip(_EP_Token.LPAREN)) {
      var _term2 = this.term(ctx);

      this.lexer.match(_EP_Token.RPAREN);
      return _term2;
    } else if (this.lexer.next(_EP_Token.LCID)) {
      var id = this.lexer.token(_EP_Token.LCID);
      return new _CJ_Identifier(ctx.indexOf(id), id);
    } else if (this.lexer.next(_EP_Token.INT)) {
      var n = this.lexer.token(_EP_Token.INT);
      return new _CM_Constant(n);
    } else if (this.lexer.skip(_EP_Token.TRUE)) {
      return new _CM_Constant(true);
    } else if (this.lexer.skip(_EP_Token.FALSE)) {
      return new _CM_Constant(false);
    } else if (this.lexer.skip(_EP_Token.NOT)) {
      var _term3 = this.term(ctx);

      return new _CR_UnaryOp(_Dp_UnOpType.Not, "~", _term3);
    } else if (this.lexer.skip(_EP_Token.PROP)) {
      return new _Cj_Propagation();
    } else if (this.lexer.skip(_EP_Token.DEP)) {
      var term = this.term(ctx);
      return new _Cb_Deprecation(term);
    } else if (this.lexer.skip(_EP_Token.DEREF)) {
      var term = this.term(ctx);
      return new _Ce_Dereference(term);
    } else if (this.lexer.skip(_EP_Token.CLPAREN)) {
      var term = this.term(ctx);
      this.lexer.match(_EP_Token.CRPAREN);
      return new _Ca_ProvisionalConstant(term);
    } else if (this.lexer.skip(_EP_Token.CHANGE)) {
      var _id3 = this.lexer.token(_EP_Token.LCID);

      this.lexer.match(_EP_Token.TO);

      var _term4 = this.term(ctx);

      return new _Cf_Change(_id3, _term4);
    } else if (this.lexer.skip(_EP_Token.SET)) {
      var _id4 = this.lexer.token(_EP_Token.LCID);

      this.lexer.match(_EP_Token.TO);

      var _term5 = this.term(ctx);

      return new _Cg_Assign(_id4, _term5);
    } else {
      return undefined;
    }
  };

  var _CD__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Am_MachineToken = function (machine) {
    _CD__95classCallCheck(this, _Am_MachineToken);

    this.machine = machine;
    this.reset();
  };

  var _8u_ = _Am_MachineToken.prototype;

  var _Bd_ = function () {
    return _BA_CompData;
  };

  var _Be_ = function () {
    return _BH_RewriteFlag;
  };

  var _Aj_ = function (link) {
    if (this.link != null) {
      //this.link.tokens.splice(this.link.tokens.indexOf(this), 1);
      this.link.clearFocus();
    }

    this.link = link;

    if (this.link != null) {
      //this.link.tokens.push(this);
      if (this.isMain) this.link.focus("red");else this.link.focus("green");
    }
  };

  var _Ak_ = function () {
    this.forward = true;
    this.rewrite = false;
    this.transited = false;
    this.link = null;
    this.rewriteFlag = _BH_RewriteFlag.EMPTY;
    this.dataStack = [_BA_CompData.PROMPT];
    this.boxStack = [];
  };

  var _Al_ = function () {
    this.setLink(null);
    this.machine.evalTokens.splice(this.machine.evalTokens.indexOf(this), 1);
  };

  var _Bg__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Bh_isNumber = function (n) {
    return !isNaN(parseFloat(n)) && isFinite(n);
  };

  var _9E_Link = function (from, to, fromPort, toPort, reverse) {
    _Bg__95classCallCheck(this, _9E_Link);

    this.from = from;
    this.to = to;
    this.fromPort = fromPort;
    this.toPort = toPort;
    this.reverse = reverse;
    this.colour = null;
    this.penWidth = null;
    this.addToGraph(_B9_.graph); // cheating

    this.addToNode(); // cheating
  };

  var _K_ = _9E_Link.prototype;

  var _94_ = function () {
    var fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.push(this);
    var toNode = this.graph.findNodeByKey(this.to);
    toNode.links.push(this);
  };

  var _95_ = function (graph) {
    if (graph != null) graph.addLink(this);
    this.graph = graph;
    return this; // to provide chain operation
  };

  var _96_ = function (group) {
    group.addLink(this);
    this.group = group;
    return this; // to provide chain operation
  };

  var _97_ = function (group) {
    this.group.removeLink(this);
    this.addToGroup(group);
    return this;
  };

  var _98_ = function (key, port) {
    var fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.splice(fromNode.links.indexOf(this), 1);
    this.from = key;
    this.fromPort = port;
    fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.push(this);
  };

  var _99_ = function (key, port) {
    var toNode = this.graph.findNodeByKey(this.to);
    toNode.links.splice(toNode.links.indexOf(this), 1);
    this.to = key;
    this.toPort = port;
    toNode = this.graph.findNodeByKey(this.to);
    toNode.links.push(this);
  };

  var _9A_ = function (colour) {
    this.colour = colour;
    this.penWidth = "20";
  };

  var _9B_ = function () {
    this.colour = null;
    this.penWidth = null;
  };

  var _9C_ = function () {
    var fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.splice(fromNode.links.indexOf(this), 1);
    var toNode = this.graph.findNodeByKey(this.to);
    toNode.links.splice(toNode.links.indexOf(this), 1);
    this.group.removeLink(this);
    this.graph.removeLink(this);
  };

  var _9D_ = function () {
    return this.from + "->" + this.to;
  };

  var _CC__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Da__95typeof = function (obj) {
    var __captured__scope_4_ = __scope_0_main[3] || __get_scope_binding_0_get_95scope_95binding(3);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_4_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_4_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_4_[1](obj);
  };

  var _Bm__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Bn__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_4_ = __scope_0_main[3] || __get_scope_binding_0_get_95scope_95binding(3);

    if (call && (__captured__scope_4_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _E8__95assertThisInitialized(self);
  };

  var _E8__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Bj__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _9S_Node = function (shape, text, colour, name) {
    _Bj__95classCallCheck(this, _9S_Node);

    this.key = null;
    this.shape = shape;
    this.text = text;
    this.colour = colour;
    this.name = name; // identifier name or constant name if any

    this.graph = null;
    this.group = null;
    this.width = null;
    this.height = null;
    this.links = [];
    this.addToGraph(_B9_.graph); // cheating!
  };

  var _1X_ = _9S_Node.prototype;

  var _9I_ = function (graph) {
    if (graph != null) graph.addNode(this);
    this.graph = graph;
    return this; // to provide chain operation
  };

  var _9J_ = function (group) {
    group.addNode(this);
    this.group = group;
    return this; // to provide chain operation
  };

  var _9K_ = function (group) {
    this.group.removeNode(this);
    this.addToGroup(group);
    return this;
  };

  var _9L_ = function () {
    return this.links;
  };

  var _9M_ = function (toPort) {
    var links = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = this.links[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var link = _step.value;
        if (link.to == this.key && (toPort == null ? true : link.toPort == toPort)) links.push(link);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return links;
  };

  var _9N_ = function (fromPort) {
    var links = [];
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = this.links[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var link = _step2.value;
        if (link.from == this.key && (fromPort == null ? true : link.fromPort == fromPort)) links.push(link);
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }

    return links;
  };

  var _9O_ = function (graph) {
    var newNode = new _9S_Node(this.shape, this.text, this.name).addToGraph(graph);
    newNode.width = this.width;
    newNode.height = this.height;
  };

  var _9P_ = function () {
    this.group.removeNode(this);
    this.graph.removeNode(this);
  };

  var _9Q_ = function (token, link) {
    return link;
  };

  var _9R_ = function (token, nextLink) {
    token.rewrite = false;
    return nextLink;
  };

  var _9Y_Group = function () {
    var _this;

    _Bm__95classCallCheck(this, _9Y_Group);

    _this = _Bn__95possibleConstructorReturn(this, _Bo_(_9Y_Group).call(this, null, null, null)); // shape, text, name

    _this.nodes = [];
    _this.links = []; // for copying

    return _this;
  };

  var _9Z_ = function (node) {
    this.nodes.push(node);
  };

  var _9a_ = function (node) {
    return this.nodes.splice(this.nodes.indexOf(node), 1);
  };

  var _9b_ = function (link) {
    this.links.push(link);
  };

  var _9c_ = function (link) {
    var i = this.links.indexOf(link);
    if (i != -1) this.links.splice(i, 1);
  };

  var _9d_ = function () {
    var _arr = Array.from(this.nodes);

    for (var _i = 0; _i < _arr.length; _i++) {
      var node = _arr[_i];
      node.delete();
    }

    _Bp_(_Bo_(_9Y_Group.prototype), "delete", this).call(this);
  };

  var _Ai_Graph = function (machine) {
    _CC__95classCallCheck(this, _Ai_Graph);

    this.machine = machine;
    this.clear();
  };

  var _8m_ = _Ai_Graph.prototype;

  var _Ac_ = function () {
    this.key = 0;
    this.linkKey = 0;
    this.allNodes = new Map(); // for efficiency searching

    this.allLinks = []; // for printing ONLY

    this.child = new _9Y_Group();
  };

  var _Ad_ = function (node) {
    node.key = 'nd' + this.key;
    this.allNodes.set(node.key, node);
    this.key++;
  };

  var _Ae_ = function (node) {
    var _arr = Array.from(node.findLinksConnected());

    for (var _i = 0; _i < _arr.length; _i++) {
      var link = _arr[_i];
      link.delete();
    }

    return this.allNodes.delete(node.key);
  };

  var _Af_ = function (key) {
    return this.allNodes.get(key);
  };

  var _Ag_ = function (link) {
    this.allLinks.push(link);
  };

  var _Ah_ = function (link) {
    this.allLinks.splice(this.allLinks.indexOf(link), 1);
  };

  var _Bv__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cr__95possibleConstructorReturn = function (self, call) {
    if (call && (_EC_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FH__95assertThisInitialized(self);
  };

  var _FH__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _C4__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _C5__95possibleConstructorReturn = function (self, call) {
    if (call && (_Df_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Dg__95assertThisInitialized(self);
  };

  var _Dg__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _C6__95get = function (target, property, receiver) {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    if (typeof Reflect !== "undefined" && Reflect.get) {
      __captured__scope_3_[1] = Reflect.get;
    } else {
      __captured__scope_3_[1] = function _get(target, property, receiver) {
        var base = _EJ__95superPropBase(target, property);

        if (!base) return;
        var desc = Object.getOwnPropertyDescriptor(base, property);

        if (desc.get) {
          return desc.get.call(receiver);
        }

        return desc.value;
      };
    }

    return __captured__scope_3_[1](target, property, receiver || target);
  };

  var _EJ__95superPropBase = function (object, property) {
    while (!Object.prototype.hasOwnProperty.call(object, property)) {
      object = _Bo_(object);
      if (object === null) break;
    }

    return object;
  };

  var _Db__95typeof = function (obj) {
    var __captured__scope_5_ = __scope_0_main[4] || __get_scope_binding_0_get_95scope_95binding(4);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_5_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_5_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_5_[1](obj);
  };

  var _Br__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Bs__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_5_ = __scope_0_main[4] || __get_scope_binding_0_get_95scope_95binding(4);

    if (call && (__captured__scope_5_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _EA__95assertThisInitialized(self);
  };

  var _EA__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _9i_Expo = function (shape, text, name) {
    var _this;

    _Br__95classCallCheck(this, _9i_Expo);

    _this = _Bs__95possibleConstructorReturn(this, _Bo_(_9i_Expo).call(this, shape, text, "cyan", name));
    _this.width = ".3";
    _this.height = ".3";
    return _this;
  };

  var _9j_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      return nextLink;
    } else if (link.from == this.key) {
      var nextLink = this.findLinksInto(null)[0];
      return nextLink;
    }
  };

  var _9k_ = function () {
    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];

    if (outLink != null && inLink != null) {
      inLink.changeTo(outLink.to, outLink.toPort);
    }

    _Bp_(_Bo_(_9i_Expo.prototype), "delete", this).call(this);
  };

  var _9l_ = function () {
    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];

    if (inLink != null && outLink != null) {
      outLink.changeFrom(inLink.from, inLink.fromPort);
    }

    _Bp_(_Bo_(_9i_Expo.prototype), "delete", this).call(this);
  };

  var _AJ_Pax = function (name) {
    _C4__95classCallCheck(this, _AJ_Pax);

    return _C5__95possibleConstructorReturn(this, _Bo_(_AJ_Pax).call(this, null, "?", name));
  };

  var _AK_ = function () {
    return new _AJ_Pax(this.name);
  };

  var _AL_ = function () {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    this.group.auxs.splice(this.group.auxs.indexOf(this), 1);

    __captured__scope_3_[1](_Bo_(_AJ_Pax.prototype), "delete", this).call(this);
  };

  var _C9__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cz__95possibleConstructorReturn = function (self, call) {
    if (call && (_EM_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FP__95assertThisInitialized(self);
  };

  var _FP__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _AR_Contract = function (name) {
    _C9__95classCallCheck(this, _AR_Contract);

    return _Cz__95possibleConstructorReturn(this, _Bo_(_AR_Contract).call(this, null, "C", name));
  };

  var _AS_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.boxStack.push(link);
      token.rewriteFlag = _BH_RewriteFlag.F_C;
      return nextLink;
    } else if (link.from == this.key && token.boxStack.length > 0) {
      var nextLink = token.boxStack.pop();
      return nextLink;
    }
  };

  var _AT_ = function (token, nextLink) {
    if (token.rewriteFlag == _BH_RewriteFlag.F_C && nextLink.from == this.key) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;

      if (this.findLinksInto(null).length == 1) {
        token.boxStack.pop();
        /*
                    for (let _token of nextLink.tokens)
                    	_token.boxStack.pop();
                    */

        var inLink = this.findLinksInto(null)[0];
        /*
                    for (let _token of inLink.tokens)
                    	_token.setLink(nextLink);
                    */

        nextLink.changeFrom(inLink.from, inLink.fromPort);
        this.delete();
      } else {
        var i = token.boxStack[token.boxStack.length - 1];
        var prev = this.graph.findNodeByKey(i.from);

        if (prev instanceof _AR_Contract) {
          token.boxStack.pop();
          /*
                        for (let _token of Array.from(nextLink.tokens)) {
                        	if (_token.boxStack[token.boxStack.length - 1] == i)
                        		_token.boxStack.pop();
                        }
                        for (let _token of Array.from(i.tokens)) {
                        	_token.setLink(nextLink);
                        	_token.rewriteFlag = RewriteFlag.F_C;
                        }
                        */

          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            for (var _iterator = prev.findLinksInto(null)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var link = _step.value;
              link.changeTo(this.key, "s");
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }

          prev.delete();
          token.rewriteFlag = _BH_RewriteFlag.F_C;
        }
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _AU_ = function () {
    var con = new _AR_Contract(this.name);
    con.text = this.text;
    return con;
  };

  var _9u_Term = function (prin, auxs) {
    var _this;

    _Bv__95classCallCheck(this, _9u_Term);

    _this = _Cr__95possibleConstructorReturn(this, _Bo_(_9u_Term).call(this));

    _this.set(prin, auxs);

    return _this;
  };

  var _9v_ = function (prin, auxs) {
    this.prin = prin;
    this.auxs = auxs;
    return this;
  };

  var _9w_ = function (auxs) {
    var newPaxs = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = auxs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var pax = _step.value;
        var newPax = new _AJ_Pax(pax.name).addToGroup(this);
        if (pax.findLinksOutOf(null).length == 0) new _9E_Link(pax.key, newPax.key, "n", "s").addToGroup(this);else {
          var outLink = pax.findLinksOutOf(null)[0];
          new _9E_Link(newPax.key, outLink.to, "n", outLink.toPort).addToGroup(this.group);
          outLink.changeTo(newPax.key, "s");
          outLink.changeToGroup(this);
        }
        newPaxs.push(newPax);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return newPaxs;
  };

  var _BT_ = function (leftAuxs, rightAuxs, group) {
    var newAuxs = leftAuxs.concat(rightAuxs);
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      outter: for (var _iterator2 = leftAuxs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var leftAux = _step2.value;
        var _iteratorNormalCompletion3 = true;
        var _didIteratorError3 = false;
        var _iteratorError3 = undefined;

        try {
          for (var _iterator3 = rightAuxs[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
            var rightAux = _step3.value;

            if (leftAux.name == rightAux.name) {
              var con = new _AR_Contract(leftAux.name).addToGroup(group);
              var outLink = leftAux.findLinksOutOf(null)[0];

              if (typeof outLink != 'undefined') {
                outLink.changeFrom(con.key, outLink.fromPort);
              }

              new _9E_Link(rightAux.key, con.key, "n", "s").addToGroup(group);
              new _9E_Link(leftAux.key, con.key, "n", "s").addToGroup(group);
              newAuxs.splice(newAuxs.indexOf(leftAux), 1);
              newAuxs.splice(newAuxs.indexOf(rightAux), 1);
              newAuxs.push(con);
              continue outter;
            }
          }
        } catch (err) {
          _didIteratorError3 = true;
          _iteratorError3 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
              _iterator3.return();
            }
          } finally {
            if (_didIteratorError3) {
              throw _iteratorError3;
            }
          }
        }
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }

    return newAuxs;
  };

  var _Bt__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Bu__95possibleConstructorReturn = function (self, call) {
    if (call && (_Dc_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _EB__95assertThisInitialized(self);
  };

  var _EB__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Bl__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cp__95possibleConstructorReturn = function (self, call) {
    if (call && (_E7_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FF__95assertThisInitialized(self);
  };

  var _FF__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _9W_Box = function () {
    var _this;

    _Bl__95classCallCheck(this, _9W_Box);

    _this = _Cp__95possibleConstructorReturn(this, _Bo_(_9W_Box).call(this));
    _this.nodes = [];
    _this.links = [];
    return _this;
  };

  var _9X_ = function (graph) {// this shouldnt be call, since every box should be inside a wrapper
  };

  var _Bq__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cq__95possibleConstructorReturn = function (self, call) {
    if (call && (_E9_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FG__95assertThisInitialized(self);
  };

  var _FG__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _C7__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cx__95possibleConstructorReturn = function (self, call) {
    if (call && (_EK_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FN__95assertThisInitialized(self);
  };

  var _FN__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _AM_Der = function (name) {
    _C7__95classCallCheck(this, _AM_Der);

    return _Cx__95possibleConstructorReturn(this, _Bo_(_AM_Der).call(this, null, "D", name));
  };

  var _AN_ = function () {
    var der = new _AM_Der(this.name);
    return der;
  };

  var _9e_Promo = function () {
    _Bq__95classCallCheck(this, _9e_Promo);

    return _Cq__95possibleConstructorReturn(this, _Bo_(_9e_Promo).call(this, null, "!"));
  };

  var _9f_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.rewriteFlag = _BH_RewriteFlag.F_PROMO;
      return nextLink;
    } else if (link.from == this.key) {
      var nextLink = this.findLinksInto(null)[0];
      return nextLink;
    }
  };

  var _9g_ = function (token, nextLink) {
    if (token.rewriteFlag == _BH_RewriteFlag.F_PROMO) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var prev = this.graph.findNodeByKey(this.findLinksInto(null)[0].from);

      if (prev instanceof _AM_Der) {
        var oldGroup = this.group;
        oldGroup.moveOut(); // this.group is a box-wrapper

        oldGroup.deleteAndPreserveLink();
        var newNextLink = prev.findLinksInto(null)[0];
        prev.deleteAndPreserveInLink(); // preserve inLink

        token.rewrite = true;
        return newNextLink;
      } else if (prev instanceof _AR_Contract && token.boxStack.length >= 1) {
        if (nextLink.from == this.key) {
          var link = token.boxStack.pop();
          var inLinks = prev.findLinksInto(null);

          if (inLinks.length == 1) {// this will not happen as the C-node should have taken care of it
          } else {
            var newBoxWrapper = this.group.copy().addToGroup(this.group.group);

            _9u_Term.joinAuxs(this.group.auxs, newBoxWrapper.auxs, newBoxWrapper.group);

            var prevLink = prev.findLinksOutOf(null)[0];
            prevLink.changeTo(newBoxWrapper.prin.key, prev.findLinksOutOf(null)[0].toPort);
            link.changeTo(this.key, "s");
          }

          token.rewriteFlag = _BH_RewriteFlag.F_PROMO;
          token.rewrite = true;
          return nextLink;
        }
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _9h_ = function () {
    return new _9e_Promo();
  };

  var _9m_BoxWrapper = function (prin, box, auxs) {
    var _this;

    _Bt__95classCallCheck(this, _9m_BoxWrapper);

    _this = _Bu__95possibleConstructorReturn(this, _Bo_(_9m_BoxWrapper).call(this, prin, auxs));
    _this.box = box;
    return _this;
  };

  var _9n_ = function (prin, box, auxs) {
    _Bp_(_Bo_(_9m_BoxWrapper.prototype), "set", this).call(this, prin, auxs);

    this.box = box;
  };

  var _9o_ = function (aux) {
    this.auxs.splice(this.auxs.indexOf(aux), 1);
    aux.deleteAndPreserveOutLink();
  };

  var _9p_ = function () {
    var _arr = Array.from(this.box.links);

    for (var _i = 0; _i < _arr.length; _i++) {
      var link = _arr[_i];
      link.changeToGroup(this.group);
    }

    var _arr2 = Array.from(this.links);

    for (var _i2 = 0; _i2 < _arr2.length; _i2++) {
      var _link = _arr2[_i2];

      _link.changeToGroup(this.group);
    }

    var _arr3 = Array.from(this.box.nodes);

    for (var _i3 = 0; _i3 < _arr3.length; _i3++) {
      var node = _arr3[_i3];
      node.changeToGroup(this.group);
    }

    var _arr4 = Array.from(this.auxs);

    for (var _i4 = 0; _i4 < _arr4.length; _i4++) {
      var aux = _arr4[_i4];
      aux.changeToGroup(this.group);
    }

    this.prin.changeToGroup(this.group);

    var _arr5 = Array.from(this.nodes);

    for (var _i5 = 0; _i5 < _arr5.length; _i5++) {
      var _node = _arr5[_i5];

      _node.changeToGroup(this.group);
    }
  };

  var _9q_ = function (map) {
    var newBoxWrapper = new _9m_BoxWrapper();
    var newPrin = this.prin.copy().addToGroup(newBoxWrapper);
    newBoxWrapper.prin = newPrin;
    map.set(this.prin.key, newPrin.key);
    var newBox = new _9W_Box().addToGroup(newBoxWrapper);
    newBoxWrapper.box = newBox;
    newBoxWrapper.auxs = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = this.box.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var node = _step.value;
        var newNode;

        if (node instanceof _9m_BoxWrapper) {
          newNode = node.copyBox(map).addToGroup(newBox);
        } else {
          var newNode = node.copy().addToGroup(newBox);
          map.set(node.key, newNode.key);
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = this.auxs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var aux = _step2.value;
        var newAux = aux.copy().addToGroup(newBoxWrapper);
        newBoxWrapper.auxs.push(newAux);
        map.set(aux.key, newAux.key);
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }

    var _iteratorNormalCompletion3 = true;
    var _didIteratorError3 = false;
    var _iteratorError3 = undefined;

    try {
      for (var _iterator3 = this.box.links[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
        var link = _step3.value;
        var newLink = new _9E_Link(map.get(link.from), map.get(link.to), link.fromPort, link.toPort).addToGroup(newBox);
        newLink.reverse = link.reverse;
      }
    } catch (err) {
      _didIteratorError3 = true;
      _iteratorError3 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
          _iterator3.return();
        }
      } finally {
        if (_didIteratorError3) {
          throw _iteratorError3;
        }
      }
    }

    var _iteratorNormalCompletion4 = true;
    var _didIteratorError4 = false;
    var _iteratorError4 = undefined;

    try {
      for (var _iterator4 = this.links[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
        var _link2 = _step4.value;
        var newLink = new _9E_Link(map.get(_link2.from), map.get(_link2.to), _link2.fromPort, _link2.toPort).addToGroup(newBoxWrapper);
        newLink.reverse = _link2.reverse;
      }
    } catch (err) {
      _didIteratorError4 = true;
      _iteratorError4 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion4 && _iterator4.return != null) {
          _iterator4.return();
        }
      } finally {
        if (_didIteratorError4) {
          throw _iteratorError4;
        }
      }
    }

    return newBoxWrapper;
  };

  var _9r_ = function () {
    var map = new Map();
    return this.copyBox(map);
  };

  var _9s_ = function () {
    this.box.delete();

    var _arr6 = Array.from(this.auxs);

    for (var _i6 = 0; _i6 < _arr6.length; _i6++) {
      var aux = _arr6[_i6];
      aux.delete();
    }

    this.prin.delete();

    _Bp_(_Bo_(_9m_BoxWrapper.prototype), "delete", this).call(this);
  };

  var _9t_ = function () {
    this.box.delete();

    var _arr7 = Array.from(this.auxs);

    for (var _i7 = 0; _i7 < _arr7.length; _i7++) {
      var aux = _arr7[_i7];
      this.removeAux(aux); // preserve outLink
    }

    this.prin.deleteAndPreserveInLink(); //preserve inLink

    _Bp_(_Bo_(_9m_BoxWrapper.prototype), "delete", this).call(this);
  };

  var _BS_ = function () {
    var wrapper = new _9m_BoxWrapper();
    var box = new _9W_Box().addToGroup(wrapper);
    var promo = new _9e_Promo().addToGroup(wrapper);
    wrapper.set(promo, box, []);
    return wrapper;
  };

  var _EF__95typeof = function (obj) {
    var __captured__scope_G_ = __scope_0_main[15] || __get_scope_binding_0_get_95scope_95binding(15);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_G_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_G_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_G_[1](obj);
  };

  var _By__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cu__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_G_ = __scope_0_main[15] || __get_scope_binding_0_get_95scope_95binding(15);

    if (call && (__captured__scope_G_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FK__95assertThisInitialized(self);
  };

  var _FK__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _EE__95typeof = function (obj) {
    var __captured__scope_F_ = __scope_0_main[14] || __get_scope_binding_0_get_95scope_95binding(14);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_F_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_F_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_F_[1](obj);
  };

  var _Bx__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Ct__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_F_ = __scope_0_main[14] || __get_scope_binding_0_get_95scope_95binding(14);

    if (call && (__captured__scope_F_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FJ__95assertThisInitialized(self);
  };

  var _FJ__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _A1_App = function () {
    _Bx__95classCallCheck(this, _A1_App);

    return _Ct__95possibleConstructorReturn(this, _Bo_(_A1_App).call(this, null, "@", "yellow"));
  };

  var _A2_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_BA_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "e") {
      var nextLink = this.findLinksOutOf("w")[0];
      token.dataStack.pop();
      token.dataStack.push(_BA_CompData.R);
      token.forward = true;
      return nextLink;
    }
  };

  var _A3_ = function () {
    return new _A1_App();
  };

  var _A4_Abs = function () {
    _By__95classCallCheck(this, _A4_Abs);

    return _Cu__95possibleConstructorReturn(this, _Bo_(_A4_Abs).call(this, null, "λ", "yellow"));
  };

  var _A5_ = function (token, link) {
    if (link.to == this.key && link.toPort == "s") {
      var data = token.dataStack[token.dataStack.length - 1];

      if (data == _BA_CompData.PROMPT) {
        token.dataStack.pop();
        token.dataStack.push([_BA_CompData.LAMBDA, _BA_CompData.EMPTY]);
        token.forward = false;
        return link;
      } else if (data == _BA_CompData.R) {
        var nextLink = this.findLinksOutOf(null)[0];
        token.dataStack.pop();
        token.rewriteFlag = _BH_RewriteFlag.F_LAMBDA;
        return nextLink;
      }
    }
  };

  var _A6_ = function (token, nextLink) {
    if (token.rewriteFlag == _BH_RewriteFlag.F_LAMBDA && nextLink.from == this.key) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var prev = this.graph.findNodeByKey(this.findLinksInto("s")[0].from);

      if (prev instanceof _A1_App) {
        // M rule
        var appLink = prev.findLinksInto(null)[0];
        var appOtherLink = prev.findLinksOutOf("e")[0];
        var otherNextLink = this.findLinksInto("w")[0];
        nextLink.changeFrom(appLink.from, appLink.fromPort);
        nextLink.changeToGroup(appLink.group);
        otherNextLink.changeTo(appOtherLink.to, appOtherLink.toPort);
        otherNextLink.reverse = false;
        var otherNode = this.graph.findNodeByKey(otherNextLink.from);
        if (otherNode instanceof _9i_Expo) otherNextLink.fromPort = "n";
        otherNextLink.changeToGroup(appOtherLink.group);
        this.delete();
        prev.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _A7_ = function () {
    return new _A4_Abs();
  };

  var _EN__95typeof = function (obj) {
    var __captured__scope_J_ = __scope_0_main[18] || __get_scope_binding_0_get_95scope_95binding(18);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_J_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_J_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_J_[1](obj);
  };

  var _CA__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _D0__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_J_ = __scope_0_main[18] || __get_scope_binding_0_get_95scope_95binding(18);

    if (call && (__captured__scope_J_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FQ__95assertThisInitialized(self);
  };

  var _FQ__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _E6__95typeof = function (obj) {
    var __captured__scope_D_ = __scope_0_main[12] || __get_scope_binding_0_get_95scope_95binding(12);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_D_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_D_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_D_[1](obj);
  };

  var _Bk__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Co__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_D_ = __scope_0_main[12] || __get_scope_binding_0_get_95scope_95binding(12);

    if (call && (__captured__scope_D_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FE__95assertThisInitialized(self);
  };

  var _FE__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _9T_Const = function (name) {
    _Bk__95classCallCheck(this, _9T_Const);

    return _Co__95possibleConstructorReturn(this, _Bo_(_9T_Const).call(this, null, name, "mediumpurple1", name));
  };

  var _9U_ = function (token, link) {
    if (token.dataStack[token.dataStack.length - 1] == _BA_CompData.PROMPT) {
      token.dataStack.pop();
      token.dataStack.push([this.name, _BA_CompData.EMPTY]);
      token.forward = false;
      return link;
    }
  };

  var _9V_ = function () {
    return new _9T_Const(this.name);
  };

  var _AV_BinOp = function (text) {
    var _this;

    _CA__95classCallCheck(this, _AV_BinOp);

    _this = _D0__95possibleConstructorReturn(this, _Bo_(_AV_BinOp).call(this, null, text, "mediumpurple1"));
    _this.subType = null;
    return _this;
  };

  var _AW_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_BA_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "e") {
      var nextLink = this.findLinksOutOf("w")[0];
      token.dataStack.push(_BA_CompData.PROMPT);
      token.forward = true;
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "w") {
      if (token.dataStack[token.dataStack.length - 3] == _BA_CompData.PROMPT) {
        var l = token.dataStack.pop();
        var r = token.dataStack.pop();
        token.dataStack.pop();
        var result = this.binOpApply(this.subType, l[0], r[0]);
        token.dataStack.push([result, _BA_CompData.EMPTY]);
        token.rewriteFlag = _BH_RewriteFlag.F_OP;
        return this.findLinksInto(null)[0];
        ;
      }
    }
  };

  var _AX_ = function (token, nextLink) {
    if (token.rewriteFlag == _BH_RewriteFlag.F_OP && nextLink.to == this.key) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var left = this.graph.findNodeByKey(this.findLinksOutOf("w")[0].to);
      var right = this.graph.findNodeByKey(this.findLinksOutOf("e")[0].to);

      if (left instanceof _9e_Promo && right instanceof _9e_Promo) {
        var wrapper = _9m_BoxWrapper.create().addToGroup(this.group);

        var newConst = new _9T_Const(token.dataStack[token.dataStack.length - 1][0]).addToGroup(wrapper.box);
        new _9E_Link(wrapper.prin.key, newConst.key, "n", "s").addToGroup(wrapper);
        nextLink.changeTo(wrapper.prin.key, "s");
        left.group.delete();
        right.group.delete();
        this.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _AY_ = function (type, v1, v2) {
    switch (type) {
      case _BW_BinOpType.And:
        return v1 && v2;

      case _BW_BinOpType.Or:
        return v1 || v2;

      case _BW_BinOpType.Plus:
        return parseFloat(v1) + parseFloat(v2);

      case _BW_BinOpType.Sub:
        return parseFloat(v1) - parseFloat(v2);

      case _BW_BinOpType.Mult:
        return parseFloat(v1) * parseFloat(v2);

      case _BW_BinOpType.Div:
        return parseFloat(v1) / parseFloat(v2);

      case _BW_BinOpType.Lte:
        return parseFloat(v1) <= parseFloat(v2);
    }
  };

  var _AZ_ = function () {
    var newNode = new _AV_BinOp(this.text);
    newNode.subType = this.subType;
    return newNode;
  };

  var _BU_ = function () {
    var node = new _AV_BinOp("+");
    node.subType = _BW_BinOpType.Plus;
    return node;
  };

  var _BV_ = function () {
    var node = new _AV_BinOp("*");
    node.subType = _BW_BinOpType.Mult;
    return node;
  };

  var _CB__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _D1__95possibleConstructorReturn = function (self, call) {
    if (call && (_EO_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FR__95assertThisInitialized(self);
  };

  var _FR__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Aa_Var = function (name) {
    var _this;

    _CB__95classCallCheck(this, _Aa_Var);

    _this = _D1__95possibleConstructorReturn(this, _Bo_(_Aa_Var).call(this, name));
    _this.text = "V";
    return _this;
  };

  var _Ab_ = function () {
    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];
    var inNode = this.graph.findNodeByKey(inLink.from);

    if (inLink != null && outLink != null) {
      if (this.graph.findNodeByKey(outLink.to) instanceof _A4_Abs && inNode instanceof _9i_Expo) outLink.changeFrom(inLink.from, "nw");else outLink.changeFrom(inLink.from, inLink.fromPort);
    }

    this.delete();
  };

  var _FX__95typeof = function (obj) {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_7_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_7_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_7_[1](obj);
  };

  var _Dt__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _F3__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    if (call && (__captured__scope_7_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FY__95assertThisInitialized(self);
  };

  var _FY__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _F4__95getPrototypeOf = function (o) {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    __captured__scope_7_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_7_[3](o);
  };

  var _C3__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cw__95possibleConstructorReturn = function (self, call) {
    if (call && (_EI_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FM__95assertThisInitialized(self);
  };

  var _FM__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _AH_Weak = function () {
    _C3__95classCallCheck(this, _AH_Weak);

    return _Cw__95possibleConstructorReturn(this, _Bo_(_AH_Weak).call(this, null, 'C0'));
  };

  var _AI_ = function () {
    return new _AH_Weak();
  };

  var _CV_If = function () {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    _Dt__95classCallCheck(this, _CV_If);

    return _F3__95possibleConstructorReturn(this, __captured__scope_7_[3](_CV_If).call(this, null, "if", "mediumpurple1"));
  };

  var _DL_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("w")[0];
      token.dataStack.push(_BA_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "w") {
      var left = this.graph.findNodeByKey(this.findLinksOutOf("w")[0].to);

      if (left instanceof _9e_Promo) {
        if (token.dataStack[token.dataStack.length - 1][0] == true) {
          var nextLink = this.findLinksOutOf("n")[0];
          token.dataStack.pop();
          token.rewriteFlag = _BH_RewriteFlag.F_IF;
          token.forward = true;
          return nextLink;
        } else if (token.dataStack[token.dataStack.length - 1][0] == false) {
          var nextLink = this.findLinksOutOf("e")[0];
          token.dataStack.pop();
          token.rewriteFlag = _BH_RewriteFlag.F_IF;
          token.forward = true;
          return nextLink;
        }
      } else {
        var nextLink = this.findLinksOutOf("n")[0];
        var data = token.dataStack.pop();
        token.dataStack.push(data[0]);
        token.dataStack.push(_BA_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      }
    } else if (link.from == this.key) {
      if (link.fromPort == "n") {
        var nextLink = this.findLinksOutOf("e")[0];
        token.dataStack.push(_BA_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      } else if (link.fromPort == "e") {
        var nextLink = this.findLinksInto("s")[0];
        var y = token.dataStack.pop();
        var x = token.dataStack.pop();
        var cond = token.dataStack.pop();
        var result;
        if (cond) result = x;else result = y;
        token.dataStack.pop();
        token.dataStack.push(result);
        token.forward = false;
        return nextLink;
      }
    }
  };

  var _DM_ = function (token, nextLink) {
    if (token.rewriteFlag == _BH_RewriteFlag.F_IF && nextLink.from == this.key) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var left = this.graph.findNodeByKey(this.findLinksOutOf("w")[0].to);

      if (left instanceof _9e_Promo) {
        var downLink = this.findLinksInto(null)[0];
        var otherLink = this.findLinksOutOf(nextLink.fromPort == "n" ? "e" : "n")[0];
        nextLink.changeFrom(downLink.from, downLink.fromPort);
        var weak = new _AH_Weak(this.graph.findNodeByKey(otherLink.to).name).addToGroup(this.group);
        otherLink.changeFrom(weak.key, "n");
        this.delete();
        left.group.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _DN_ = function () {
    return new _CV_If();
  };

  var _FZ__95typeof = function (obj) {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_8_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_8_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_8_[1](obj);
  };

  var _Dv__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _F5__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    if (call && (__captured__scope_8_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Fa__95assertThisInitialized(self);
  };

  var _Fa__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _F6__95getPrototypeOf = function (o) {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    __captured__scope_8_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_8_[3](o);
  };

  var _CY_Recur = function () {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    _Dv__95classCallCheck(this, _CY_Recur);

    return _F5__95possibleConstructorReturn(this, __captured__scope_8_[3](_CY_Recur).call(this, null, "μ", "mediumpurple1"));
  };

  var _DO_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.rewriteFlag = _BH_RewriteFlag.F_RECUR;
      return nextLink;
    }
  };

  var _DP_ = function (token, nextLink) {
    if (token.rewriteFlag == _BH_RewriteFlag.F_RECUR && nextLink.from == this.key) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var wrapper = this.group.copy().addToGroup(this.group);

      _9u_Term.joinAuxs(this.group.auxs, wrapper.auxs, wrapper.group);

      var oldGroup = this.group;
      var oldBox = this.group.box;
      this.group.moveOut();
      var leftLink = this.findLinksInto("w")[0];
      leftLink.changeTo(wrapper.prin.key, "s");
      leftLink.fromPort = "n";
      leftLink.reverse = false;
      var inLink = this.findLinksInto("s")[0];
      var outLink = this.findLinksOutOf("e")[0];
      outLink.changeFrom(inLink.from, inLink.fromPort);
      oldGroup.deleteAndPreserveLink();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _DQ_ = function () {
    return new _CY_Recur();
  };

  var _E5__95typeof = function (obj) {
    var __captured__scope_C_ = __scope_0_main[11] || __get_scope_binding_0_get_95scope_95binding(11);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_C_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_C_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_C_[1](obj);
  };

  var _Bi__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cn__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_C_ = __scope_0_main[11] || __get_scope_binding_0_get_95scope_95binding(11);

    if (call && (__captured__scope_C_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FD__95assertThisInitialized(self);
  };

  var _FD__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _9F_Start = function () {
    _Bi__95classCallCheck(this, _9F_Start);

    return _Cn__95possibleConstructorReturn(this, _Bo_(_9F_Start).call(this, "point", "", "black"));
  };

  var _9G_ = function (token) {
    if (token.link == null && token.dataStack[token.dataStack.length - 1] == _BA_CompData.PROMPT) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.forward = true;
      return nextLink;
    } else return null;
  };

  var _9H_ = function () {
    return new _9F_Start();
  };

  var _FV__95typeof = function (obj) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_6_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_6_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_6_[1](obj);
  };

  var _Dr__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _F1__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    if (call && (__captured__scope_6_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FW__95assertThisInitialized(self);
  };

  var _FW__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _F2__95getPrototypeOf = function (o) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    __captured__scope_6_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_6_[3](o);
  };

  var _CS_UnOp = function (text) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    var _this;

    _Dr__95classCallCheck(this, _CS_UnOp);

    _this = _F1__95possibleConstructorReturn(this, __captured__scope_6_[3](_CS_UnOp).call(this, null, text, "mediumpurple1"));
    _this.subType = null;
    return _this;
  };

  var _DH_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.dataStack.push(_BA_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (token.dataStack[token.dataStack.length - 2] == _BA_CompData.PROMPT) {
        var v1 = token.dataStack.pop();
        token.dataStack.pop();
        token.dataStack.push([this.unOpApply(this.subType, v1[0]), _BA_CompData.EMPTY]);
        token.rewriteFlag = _BH_RewriteFlag.F_OP;
        return this.findLinksInto(null)[0];
      }
    }
  };

  var _DI_ = function (token, nextLink) {
    if (token.rewriteFlag == _BH_RewriteFlag.F_OP && nextLink.to == this.key) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var prev = this.graph.findNodeByKey(this.findLinksOutOf(null)[0].to);

      if (prev instanceof _9e_Promo) {
        var wrapper = _9m_BoxWrapper.create().addToGroup(this.group);

        var newConst = new _9T_Const(token.dataStack[token.dataStack.length - 1][0]).addToGroup(wrapper.box);
        new _9E_Link(wrapper.prin.key, newConst.key, "n", "s").addToGroup(wrapper);
        nextLink.changeTo(wrapper.prin.key, "s");
        prev.group.delete();
        this.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _DJ_ = function (type, v1) {
    switch (type) {
      case _Dp_UnOpType.Not:
        return !v1;
    }
  };

  var _DK_ = function () {
    var newNode = new _CS_UnOp(this.text);
    newNode.subType = this.subType;
    return newNode;
  };

  var _EG__95typeof = function (obj) {
    var __captured__scope_H_ = __scope_0_main[16] || __get_scope_binding_0_get_95scope_95binding(16);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_H_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_H_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_H_[1](obj);
  };

  var _Bz__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cv__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_H_ = __scope_0_main[16] || __get_scope_binding_0_get_95scope_95binding(16);

    if (call && (__captured__scope_H_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FL__95assertThisInitialized(self);
  };

  var _FL__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _A8_Delta = function () {
    _Bz__95classCallCheck(this, _A8_Delta);

    return _Cv__95possibleConstructorReturn(this, _Bo_(_A8_Delta).call(this, null, "Δ", "indianred1"));
  };

  var _A9_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_BA_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (link.fromPort == "e") {
        var nextLink = this.findLinksOutOf("w")[0];
        token.dataStack.pop();
        token.dataStack.push(_BA_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      } else if (link.fromPort == "w") {
        if (token.dataStack[token.dataStack.length - 2] == _BA_CompData.PROMPT) {
          var data = token.dataStack.pop();
          token.dataStack.pop();
          token.dataStack.push([_BA_CompData.UNIT, _BA_CompData.EMPTY]);
          token.rewriteFlag = _BH_RewriteFlag.F_DELTA + data[1];
          return this.findLinksInto(null)[0];
        }
      }
    }
  };

  var _AA_ = function (token, nextLink) {
    if (token.rewriteFlag.substring(0, 3) == _BH_RewriteFlag.F_DELTA && nextLink.to == this.key) {
      var key = token.rewriteFlag.substring(3, token.rewriteFlag.length);
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var data = token.dataStack[token.dataStack.length - 1];
      var weak1 = new _AH_Weak().addToGroup(this.group);
      this.findLinksOutOf("w")[0].changeFrom(weak1.key, "n");
      var mod = this.graph.findNodeByKey(key);
      var weak2 = new _AH_Weak().addToGroup(this.group);
      mod.findLinksOutOf('e')[0].changeFrom(weak2.key, 'n');
      this.findLinksOutOf("e")[0].changeFrom(mod.key, "e");

      var wrapper = _9m_BoxWrapper.create().addToGroup(this.group);

      var con = new _9T_Const(data[0]).addToGroup(wrapper.box);
      new _9E_Link(wrapper.prin.key, con.key, "n", "s").addToGroup(wrapper);
      this.findLinksInto(null)[0].changeTo(wrapper.prin.key, "s");
      this.delete();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _AB_ = function () {
    return new _A8_Delta();
  };

  var _Fd__95typeof = function (obj) {
    var __captured__scope_A_ = __scope_0_main[9] || __get_scope_binding_0_get_95scope_95binding(9);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_A_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_A_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_A_[1](obj);
  };

  var _E2__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _F9__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_A_ = __scope_0_main[9] || __get_scope_binding_0_get_95scope_95binding(9);

    if (call && (__captured__scope_A_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Fe__95assertThisInitialized(self);
  };

  var _Fe__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _FA__95getPrototypeOf = function (o) {
    var __captured__scope_A_ = __scope_0_main[9] || __get_scope_binding_0_get_95scope_95binding(9);

    __captured__scope_A_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_A_[3](o);
  };

  var _Ch_Set = function () {
    var __captured__scope_A_ = __scope_0_main[9] || __get_scope_binding_0_get_95scope_95binding(9);

    _E2__95classCallCheck(this, _Ch_Set);

    return _F9__95possibleConstructorReturn(this, __captured__scope_A_[3](_Ch_Set).call(this, null, "<<~", "indianred1"));
  };

  var _DU_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_BA_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (link.fromPort == "e") {
        var nextLink = this.findLinksOutOf("w")[0]; //token.dataStack.pop();

        token.dataStack.push(_BA_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      } else if (link.fromPort == "w") {
        if (token.dataStack[token.dataStack.length - 3] == _BA_CompData.PROMPT) {
          var data = token.dataStack.pop();
          var new_v = token.dataStack.pop();
          token.dataStack.pop();
          token.dataStack.push([_BA_CompData.UNIT, _BA_CompData.EMPTY]);
          token.rewriteFlag = _BH_RewriteFlag.F_DELTA + data[1] + ';' + new_v[0];
          return this.findLinksInto(null)[0];
        }
      }
    }
  };

  var _DV_ = function (token, nextLink) {
    if (token.rewriteFlag.substring(0, 3) == _BH_RewriteFlag.F_DELTA && nextLink.to == this.key) {
      var string = token.rewriteFlag.substring(3, token.rewriteFlag.length);
      var s = string.split(";");
      var key = s[0];
      var data = s[1];
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var data = token.dataStack[token.dataStack.length - 1];
      var weak1 = new _AH_Weak().addToGroup(this.group);
      this.findLinksOutOf("w")[0].changeFrom(weak1.key, "n");
      var mod = this.graph.findNodeByKey(key);
      var weak2 = new _AH_Weak().addToGroup(this.group);
      mod.findLinksOutOf('e')[0].changeFrom(weak2.key, 'n');
      this.findLinksOutOf("e")[0].changeFrom(mod.key, "e");
      this.graph.findNodeByKey(mod.findLinksOutOf('e')[0].to).name = s[1];

      var wrapper = _9m_BoxWrapper.create().addToGroup(this.group);

      var con = new _9T_Const(data[0]).addToGroup(wrapper.box);
      new _9E_Link(wrapper.prin.key, con.key, "n", "s").addToGroup(wrapper);
      this.findLinksInto(null)[0].changeTo(wrapper.prin.key, "s");
      this.delete();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _DW_ = function () {
    return new _Ch_Set();
  };

  var _Fb__95typeof = function (obj) {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_9_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_9_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_9_[1](obj);
  };

  var _Dy__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _F7__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    if (call && (__captured__scope_9_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Fc__95assertThisInitialized(self);
  };

  var _Fc__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _F8__95getPrototypeOf = function (o) {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    __captured__scope_9_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_9_[3](o);
  };

  var _Cc_Dep = function () {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    _Dy__95classCallCheck(this, _Cc_Dep);

    return _F7__95possibleConstructorReturn(this, __captured__scope_9_[3](_Cc_Dep).call(this, null, 'p', "mediumpurple1"));
  };

  var _DR_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.dataStack.push(_BA_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (token.dataStack[token.dataStack.length - 2] == _BA_CompData.PROMPT) {
        var data = token.dataStack.pop();
        token.dataStack.pop();
        token.dataStack.push([data[0], _BA_CompData.EMPTY]);
        token.rewriteFlag = _BH_RewriteFlag.F_DEP;
        return this.findLinksInto(null)[0];
      }
    }
  };

  var _DS_ = function (token, nextLink) {
    if (nextLink.to == this.key && token.rewriteFlag == _BH_RewriteFlag.F_DEP) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var data = token.dataStack[token.dataStack.length - 1];

      if (_B9_.isNumber(data[0]) || typeof data[0] === "boolean") {
        var outLink = this.findLinksOutOf(null)[0];
        var weak = new _AH_Weak(outLink.text).addToGroup(this.group);
        outLink.changeFrom(weak.key, "n");

        var wrapper = _9m_BoxWrapper.create().addToGroup(this.group);

        var newConst = new _9T_Const(data[0]).addToGroup(wrapper.box);
        new _9E_Link(wrapper.prin.key, newConst.key, "n", "s").addToGroup(wrapper);
        nextLink.changeTo(wrapper.prin.key, "s");
        this.delete();
        token.rewrite = true;
      }

      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _DT_ = function () {
    return new _Cc_Dep();
  };

  var _EL__95typeof = function (obj) {
    var __captured__scope_I_ = __scope_0_main[17] || __get_scope_binding_0_get_95scope_95binding(17);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_I_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_I_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_I_[1](obj);
  };

  var _C8__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cy__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_I_ = __scope_0_main[17] || __get_scope_binding_0_get_95scope_95binding(17);

    if (call && (__captured__scope_I_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FO__95assertThisInitialized(self);
  };

  var _FO__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _AO_Deref = function () {
    _C8__95classCallCheck(this, _AO_Deref);

    return _Cy__95possibleConstructorReturn(this, _Bo_(_AO_Deref).call(this, null, "d", "mediumpurple1"));
  };

  var _AP_ = function (token, link) {
    if (link.to == this.key) return this.findLinksOutOf(null)[0];else if (link.from == this.key) return this.findLinksInto(null)[0];
  };

  var _AQ_ = function () {
    return new _AO_Deref();
  };

  var _ED__95typeof = function (obj) {
    var __captured__scope_E_ = __scope_0_main[13] || __get_scope_binding_0_get_95scope_95binding(13);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_E_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_E_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_E_[1](obj);
  };

  var _Bw__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Cs__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_E_ = __scope_0_main[13] || __get_scope_binding_0_get_95scope_95binding(13);

    if (call && (__captured__scope_E_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _FI__95assertThisInitialized(self);
  };

  var _FI__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _9x_Mod = function () {
    var _this;

    _Bw__95classCallCheck(this, _9x_Mod);

    _this = _Cs__95possibleConstructorReturn(this, _Bo_(_9x_Mod).call(this, null, "M", "indianred1"));

    _this.graph.machine.cells.push(_this.key);

    return _this;
  };

  var _9y_ = function (token, link) {
    if (link.to == this.key) {
      return this.findLinksOutOf("w")[0];
    } else if (link.from == this.key && link.fromPort == "w") {
      var data = token.dataStack.pop();
      token.dataStack.push([data[0], this.key]);
      return this.findLinksInto(null)[0];
    } else if (link.from == this.key && link.fromPort == "e") {
      token.machine.newValues.set(this.key, token.dataStack[token.dataStack.length - 1][0]);
      token.delete();
      return null;
    }
  };

  var _9z_ = function (data) {
    var leftLink = this.findLinksOutOf("w")[0];

    if (_B9_.isNumber(data) || typeof data === "boolean") {
      var value = this.graph.findNodeByKey(leftLink.to);
      var oldData = value.name;
      value.text = data;
      value.name = data;
      return oldData;
    }
  };

  var _A0_ = function () {
    var mod = new _9x_Mod();
    return mod;
  };

  var _Ff__95typeof = function (obj) {
    var __captured__scope_B_ = __scope_0_main[10] || __get_scope_binding_0_get_95scope_95binding(10);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_B_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_B_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_B_[1](obj);
  };

  var _E4__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _FB__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_B_ = __scope_0_main[10] || __get_scope_binding_0_get_95scope_95binding(10);

    if (call && (__captured__scope_B_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Fg__95assertThisInitialized(self);
  };

  var _Fg__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _FC__95getPrototypeOf = function (o) {
    var __captured__scope_B_ = __scope_0_main[10] || __get_scope_binding_0_get_95scope_95binding(10);

    __captured__scope_B_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_B_[3](o);
  };

  var _Ck_Prop = function () {
    var __captured__scope_B_ = __scope_0_main[10] || __get_scope_binding_0_get_95scope_95binding(10);

    _E4__95classCallCheck(this, _Ck_Prop);

    return _FB__95possibleConstructorReturn(this, __captured__scope_B_[3](_Ck_Prop).call(this, null, "s", "indianred1"));
  };

  var _DX_ = function (token, link) {
    if (link.to == this.key) {
      if (token.dataStack[token.dataStack.length - 1] == _BA_CompData.PROMPT) {
        token.dataStack.pop();
        token.dataStack.push(false);
        token.rewriteFlag = _BH_RewriteFlag.F_PROP;
        token.forward = false;
        token.machine.startPropagation();
        return link;
      }
    }
  };

  var _DY_ = function (token, nextLink) {
    if (token.rewriteFlag == _BH_RewriteFlag.F_PROP && nextLink.to == this.key) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var data = token.machine.hasUpdate;
      token.dataStack.pop();
      token.dataStack.push([data, _BA_CompData.EMPTY]);

      var wrapper = _9m_BoxWrapper.create().addToGroup(this.group);

      var con = new _9T_Const(data).addToGroup(wrapper.box);
      new _9E_Link(wrapper.prin.key, con.key, "n", "s").addToGroup(wrapper);
      nextLink.changeTo(wrapper.prin.key, "s");
      this.delete();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _DZ_ = function () {
    return new _Ck_Prop();
  };

  var _Dd__95typeof = function (obj) {
    var __captured__scope_2_ = __scope_0_main[1] || __get_scope_binding_0_get_95scope_95binding(1);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_2_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_2_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_2_[1](obj);
  };

  var _C0__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _C1__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_2_ = __scope_0_main[1] || __get_scope_binding_0_get_95scope_95binding(1);

    if (call && (__captured__scope_2_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _De__95assertThisInitialized(self);
  };

  var _De__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _C2__95get = function (target, property, receiver) {
    var __captured__scope_2_ = __scope_0_main[1] || __get_scope_binding_0_get_95scope_95binding(1);

    if (typeof Reflect !== "undefined" && Reflect.get) {
      __captured__scope_2_[3] = Reflect.get;
    } else {
      __captured__scope_2_[3] = function _get(target, property, receiver) {
        var base = _EH__95superPropBase(target, property);

        if (!base) return;
        var desc = Object.getOwnPropertyDescriptor(base, property);

        if (desc.get) {
          return desc.get.call(receiver);
        }

        return desc.value;
      };
    }

    return __captured__scope_2_[3](target, property, receiver || target);
  };

  var _EH__95superPropBase = function (object, property) {
    while (!Object.prototype.hasOwnProperty.call(object, property)) {
      object = _Bo_(object);
      if (object === null) break;
    }

    return object;
  };

  var _AC_Prov = function () {
    var _this;

    _C0__95classCallCheck(this, _AC_Prov);

    _this = _C1__95possibleConstructorReturn(this, _Bo_(_AC_Prov).call(this, 'diamond', '', "indianred1"));
    _this.width = ".3";
    _this.height = ".3";
    return _this;
  };

  var _AD_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.dataStack.push(_BA_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      var data = token.dataStack.pop();
      token.dataStack.pop();
      token.dataStack.push(data);
      token.rewriteFlag = _BH_RewriteFlag.F_MOD;
      return this.findLinksInto(null)[0];
    }
  };

  var _AE_ = function (token, nextLink) {
    if (nextLink.to == this.key && token.rewriteFlag == _BH_RewriteFlag.F_MOD) {
      token.rewriteFlag = _BH_RewriteFlag.EMPTY;
      var data = token.dataStack.pop();

      if (_B9_.isNumber(data[0]) || typeof data[0] === "boolean") {
        var mod = new _9x_Mod().addToGroup(this.group);
        var con = new _9T_Const(data[0]).addToGroup(this.group);
        new _9E_Link(mod.key, con.key, "w", "s").addToGroup(this.group);
        var outLink = this.findLinksOutOf(null)[0];
        outLink.changeFrom(mod.key, "e");
        var inLink = this.findLinksInto(null)[0];
        inLink.changeTo(mod.key, "s");
        this.delete();
        token.rewrite = true;
        token.dataStack.push([data[0], mod.key]);
      }

      return nextLink;
    } else if (token.rewriteFlag == _BH_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _AF_ = function () {
    var __captured__scope_2_ = __scope_0_main[1] || __get_scope_binding_0_get_95scope_95binding(1);

    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];

    if (outLink != null && inLink != null) {
      inLink.changeTo(outLink.to, outLink.toPort);
    }

    __captured__scope_2_[3](_Bo_(_AC_Prov.prototype), "delete", this).call(this);
  };

  var _AG_ = function () {
    return new _AC_Prov();
  };

  var _CE__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Aq_GC = function (graph) {
    _CE__95classCallCheck(this, _Aq_GC);

    this.graph = graph;
    this.noMore = false;
  };

  var _8w_ = _Aq_GC.prototype;

  var _An_ = function () {
    /*
            do {
            	this.noMore = true;
            	this.collectInGroup(this.graph.child);
            } while (!this.noMore)
            */
  };

  var _Ao_ = function (group) {
    var _arr = Array.from(group.nodes);

    for (var _i = 0; _i < _arr.length; _i++) {
      var node = _arr[_i];

      if (node instanceof _AH_Weak || node instanceof _AR_Contract && node.findLinksInto(null).length == 0) {
        var link = node.findLinksOutOf(null)[0];
        var nextNode = this.graph.findNodeByKey(link.to);

        if (!(nextNode instanceof _A4_Abs && link.toPort == "w")) {
          this.noMore = false;
          this.collectFromBottom(node);
        }
      } else if (node instanceof _9Y_Group) {
        this.collectInGroup(node);
      }
    }
  };

  var _Ap_ = function (node) {
    if (node instanceof _AR_Contract && node.findLinksInto(null).length != 0) {} else if (node instanceof _9e_Promo || node instanceof _CY_Recur) {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = node.group.auxs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var aux = _step.value;
          this.collectFromBottom(aux);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      node.group.delete();
    } else {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = node.findLinksOutOf(null)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var link = _step2.value;
          this.collectFromBottom(this.graph.findNodeByKey(link.to));
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      node.delete();
    }
  };

  var _B6_GoIMachine = function () {
    _Cm__95classCallCheck(this, _B6_GoIMachine);

    this.graph = new _Ai_Graph(this);
    _B9_.graph = this.graph; // cheating!

    this.token = new _Am_MachineToken(this);
    this.gc = new _Aq_GC(this.graph);
    this.count = 0;
    this.token.isMain = true;
    this.evalTokens = [];
    this.cells = [];
    this.evaluating = false;
    this.newValues = new Map();
    this.hasUpdate = false;
    this.play = false;
    this.playing = false;
    this.finished = false;
  };

  var _92_ = _B6_GoIMachine.prototype;

  var _Ar_ = function () {
    return this.playing;
  };

  var _As_ = function (playValue) {
    this.play = playValue;
  };

  var _At_ = function () {
    return this.playing;
  };

  var _Au_ = function (playingValue) {
    this.playing = playingValue;
  };

  var _Av_ = function () {
    return this.finished;
  };

  var _Aw_ = function (finishedValue) {
    this.finished = finishedValue;
  };

  var _Ax_ = function (source) {
    var lexer = new _CF_Lexer(source + '\0');
    var parser = new _CH_Parser(lexer);
    var ast = parser.parse(); // init

    this.graph.clear();
    this.token.reset();
    this.count = 0;
    this.evalTokens = [];
    this.cells = [];
    this.readyEvalTokens = 0;
    this.evaluating = false;
    this.newValues.clear();
    this.hasUpdate = false; // create graph

    var start = new _9F_Start().addToGroup(this.graph.child);
    var term = this.toGraph(ast, this.graph.child);
    new _9E_Link(start.key, term.prin.key, "n", "s").addToGroup(this.graph.child);
    this.deleteVarNode(this.graph.child);
  };

  var _Ay_ = function (ast, group) {
    var graph = this.graph;

    if (ast instanceof _CJ_Identifier) {
      var v = new _Aa_Var(ast.name).addToGroup(group);
      return new _9u_Term(v, [v]);
    } else if (ast instanceof _CK_Abstraction) {
      var param = ast.param;

      var wrapper = _9m_BoxWrapper.create().addToGroup(group);

      var abs = new _A4_Abs().addToGroup(wrapper.box);
      var term = this.toGraph(ast.body, wrapper.box);
      new _9E_Link(wrapper.prin.key, abs.key, "n", "s").addToGroup(wrapper);
      new _9E_Link(abs.key, term.prin.key, "e", "s").addToGroup(abs.group);
      var auxs = Array.from(term.auxs);
      var paramUsed = false;
      var auxNode;
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = term.auxs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _aux = _step.value;

          if (_aux.name == param) {
            paramUsed = true;
            auxNode = _aux;
            break;
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      if (paramUsed) {
        auxs.splice(auxs.indexOf(auxNode), 1);
      } else {
        auxNode = new _AH_Weak(param).addToGroup(abs.group);
      }

      new _9E_Link(auxNode.key, abs.key, "nw", "w", true).addToGroup(abs.group);
      wrapper.auxs = wrapper.createPaxsOnTopOf(auxs);
      return new _9u_Term(wrapper.prin, wrapper.auxs);
    } else if (ast instanceof _CL_Application) {
      var app = new _A1_App().addToGroup(group); //lhs

      var left = this.toGraph(ast.lhs, group);
      var der = new _AM_Der(left.prin.name).addToGroup(group);
      new _9E_Link(der.key, left.prin.key, "n", "s").addToGroup(group); // rhs

      var right = this.toGraph(ast.rhs, group);
      new _9E_Link(app.key, der.key, "w", "s").addToGroup(group);
      new _9E_Link(app.key, right.prin.key, "e", "s").addToGroup(group);
      return new _9u_Term(app, _9u_Term.joinAuxs(left.auxs, right.auxs, group));
    } else if (ast instanceof _CM_Constant) {
      var wrapper = _9m_BoxWrapper.create().addToGroup(group);

      var constant = new _9T_Const(ast.value).addToGroup(wrapper.box);
      new _9E_Link(wrapper.prin.key, constant.key, "n", "s").addToGroup(wrapper);
      return new _9u_Term(wrapper.prin, wrapper.auxs);
    } else if (ast instanceof _CN_BinaryOp) {
      var binop = new _AV_BinOp(ast.name).addToGroup(group);
      binop.subType = ast.type;
      var left = this.toGraph(ast.v1, group);
      var right = this.toGraph(ast.v2, group);
      new _9E_Link(binop.key, left.prin.key, "w", "s").addToGroup(group);
      new _9E_Link(binop.key, right.prin.key, "e", "s").addToGroup(group);
      return new _9u_Term(binop, _9u_Term.joinAuxs(left.auxs, right.auxs, group));
    } else if (ast instanceof _CR_UnaryOp) {
      var unop = new _CS_UnOp(ast.name).addToGroup(group);
      unop.subType = ast.type;
      var box = this.toGraph(ast.v1, group);
      new _9E_Link(unop.key, box.prin.key, "n", "s").addToGroup(group);
      return new _9u_Term(unop, box.auxs);
    } else if (ast instanceof _CU_IfThenElse) {
      var ifnode = new _CV_If().addToGroup(group);
      var cond = this.toGraph(ast.cond, group);
      var t1 = this.toGraph(ast.t1, group);
      var t2 = this.toGraph(ast.t2, group);
      new _9E_Link(ifnode.key, cond.prin.key, "w", "s").addToGroup(group);
      new _9E_Link(ifnode.key, t1.prin.key, "n", "s").addToGroup(group);
      new _9E_Link(ifnode.key, t2.prin.key, "e", "s").addToGroup(group);
      return new _9u_Term(ifnode, _9u_Term.joinAuxs(_9u_Term.joinAuxs(t1.auxs, t2.auxs, group), cond.auxs, group));
    } else if (ast instanceof _CX_Recursion) {
      var p1 = ast.param; // recur term

      var wrapper = _9m_BoxWrapper.create().addToGroup(group);

      wrapper.prin.delete();
      var recur = new _CY_Recur().addToGroup(wrapper);
      wrapper.prin = recur;
      var box = this.toGraph(ast.body, wrapper.box);
      wrapper.auxs = wrapper.createPaxsOnTopOf(box.auxs);
      new _9E_Link(recur.key, box.prin.key, "e", "s").addToGroup(wrapper);
      var p1Used = false;
      var auxNode1;

      for (var i = 0; i < wrapper.auxs.length; i++) {
        var aux = wrapper.auxs[i];

        if (aux.name == p1) {
          p1Used = true;
          auxNode1 = this.graph.findNodeByKey(aux.findLinksInto(null)[0].from);
          aux.delete();
          break;
        }
      }

      if (p1Used) {// wrapper.auxs.splice(wrapper.auxs.indexOf(auxNode1), 1);
      } else {
        auxNode1 = new _AH_Weak(p1).addToGroup(wrapper.box);
      }

      new _9E_Link(auxNode1.key, recur.key, "nw", "w", true).addToGroup(wrapper);
      return new _9u_Term(wrapper.prin, wrapper.auxs);
    } else if (ast instanceof _Ca_ProvisionalConstant) {
      var term = this.toGraph(ast.term, group);
      var prov = new _AC_Prov().addToGroup(group);
      new _9E_Link(prov.key, term.prin.key, "n", "s").addToGroup(group);
      return new _9u_Term(prov, term.auxs);
    } else if (ast instanceof _Cb_Deprecation) {
      var term = this.toGraph(ast.term, group);
      var dep = new _Cc_Dep().addToGroup(group);
      new _9E_Link(dep.key, term.prin.key, "n", "s").addToGroup(group);
      return new _9u_Term(dep, term.auxs);
    } else if (ast instanceof _Ce_Dereference) {
      var term = this.toGraph(ast.term, group);
      var deref = new _AO_Deref().addToGroup(group);
      new _9E_Link(deref.key, term.prin.key, "n", "s").addToGroup(group);
      return new _9u_Term(deref, term.auxs);
    } else if (ast instanceof _Cf_Change) {
      var param = ast.param;
      var delta = new _A8_Delta().addToGroup(group);
      var term = this.toGraph(ast.body, group);
      var v = new _Aa_Var(param).addToGroup(group);
      new _9E_Link(delta.key, v.key, "w", "s").addToGroup(group);
      new _9E_Link(delta.key, term.prin.key, "e", "s").addToGroup(group);
      var auxs = Array.from(term.auxs);
      var p1Used = false;
      var auxNode1;

      for (var i = 0; i < term.auxs.length; i++) {
        var aux = auxs[i];

        if (aux.name == param) {
          p1Used = true;
          auxs.splice(i, 1);
          var con = new _AR_Contract(aux.name).addToGroup(group);
          new _9E_Link(aux.key, con.key, "n", "s").addToGroup(group);
          new _9E_Link(v.key, con.key, "n", "s").addToGroup(group);
          auxs.push(con);
          break;
        }
      }

      if (!p1Used) auxs.push(v);
      return new _9u_Term(delta, auxs);
    } else if (ast instanceof _Cg_Assign) {
      var param = ast.param;
      var setn = new _Ch_Set().addToGroup(group);
      var term = this.toGraph(ast.body, group);
      var v = new _Aa_Var(param).addToGroup(group);
      new _9E_Link(setn.key, v.key, "w", "s").addToGroup(group);
      new _9E_Link(setn.key, term.prin.key, "e", "s").addToGroup(group);
      var auxs = Array.from(term.auxs);
      var p1Used = false;
      var auxNode1;

      for (var i = 0; i < term.auxs.length; i++) {
        var aux = auxs[i];

        if (aux.name == param) {
          p1Used = true;
          auxs.splice(i, 1);
          var con = new _AR_Contract(aux.name).addToGroup(group);
          new _9E_Link(aux.key, con.key, "n", "s").addToGroup(group);
          new _9E_Link(v.key, con.key, "n", "s").addToGroup(group);
          auxs.push(con);
          break;
        }
      }

      if (!p1Used) auxs.push(v);
      return new _9u_Term(setn, auxs);
    } else if (ast instanceof _Cj_Propagation) {
      var prop = new _Ck_Prop().addToGroup(group);
      return new _9u_Term(prop, []);
    }
  };

  var _Az_ = function (group) {
    var _arr = Array.from(group.nodes);

    for (var _i = 0; _i < _arr.length; _i++) {
      var node = _arr[_i];
      if (node instanceof _9Y_Group) this.deleteVarNode(node);else if (node instanceof _Aa_Var) node.deleteAndPreserveOutLink();
    }
  };

  var _B0_ = function () {
    this.evaluating = true;
    this.hasUpdate = false;
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = this.cells[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var key = _step2.value;
        var cell = this.graph.findNodeByKey(key);
        var evalToken = new _Am_MachineToken(this);
        evalToken.isMain = false;
        evalToken.setLink(cell.findLinksOutOf('e')[0]);
        this.evalTokens.push(evalToken);
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }
  };

  var _B1_ = function (a) {
    var j, x, i;

    for (i = a.length - 1; i > 0; i--) {
      j = Math.floor(Math.random() * (i + 1));
      x = a[i];
      a[i] = a[j];
      a[j] = x;
    }
  };

  var _B2_ = function (tokens) {
    // random	

    /*	
            var arr = Array.from(new Array(tokens.length),(val,index)=>index+1);	
            this.shuffle(arr);	
            for (var i=0; i<arr.length; i++) {	
            	var token = arr_2[arr[i]-1];	
            	this.tokenPass(token, flag, dataStack, boxStack, modStack);	
            }	
            */
    var arr_2 = Array.from(tokens); // all progress 1 step

    for (var i = 0; i < arr_2.length; i++) {
      var token = arr_2[i];
      this.tokenPass(token);
    }
  };

  var _B3_ = function () {
    if (!this.isFinished()) {
      /*	
                this.count++;	
                if (this.count == 200) {	
                	this.count = 0;	
                	this.gc.collect();	
                }	
                */
      if (this.evaluating) {
        this.batchPass(this.evalTokens);

        if (this.evalTokens.length == 0) {
          this.evaluating = false;
          var machine = this;
          this.newValues.forEach(function (value, key, map) {
            var mod = machine.graph.findNodeByKey(key);
            var oldData = mod.update(value);
            if (oldData != value) machine.hasUpdate = true;
          });
          this.newValues.clear();
          return;
        }
      } else this.tokenPass(this.token);
    }

    return this.getData(this.token);
  };

  var _B4_ = function (token) {
    var node;

    if (!token.transited) {
      if (token.link != null) {
        var target = token.forward ? token.link.to : token.link.from;
        node = this.graph.findNodeByKey(target);
      } else node = this.graph.findNodeByKey("nd1");

      var nextLink;
      token.rewrite = false;
      nextLink = node.transition(token, token.link);

      if (nextLink != null) {
        token.setLink(nextLink);
        token.transited = true;

        if (token.isMain) {// prints progress
          // console.log(this.getData(token));
        }
      } else {
        token.transited = false;

        if (token.isMain) {
          token.setLink(null); //this.gc.collect();

          this.setPlay(false);
          this.setPlaying(false);
          this.setFinished(true);
        } else token.setLink(token.link);
      }
    } else {
      var target = token.forward ? token.link.from : token.link.to;
      node = this.graph.findNodeByKey(target);
      var nextLink = node.rewrite(token, token.link);

      if (!token.rewrite) {
        token.transited = false;
        this.tokenPass(token);
      } else {
        token.setLink(nextLink);
      }
    }
  };

  var _B5_ = function (token) {
    var dataStack = Array.from(token.dataStack).reverse();
    dataStack.push('□'); // the latest value is stored in the first element in the dataStack

    var data = dataStack[0]; // data consists of the last node and it's link

    if (data[0] === 'λ') {
      // abstraction
      var machine = this; // this means it doesn't return a simple value

      return function (source) {
        // create AST of the future abstract arguments
        var lexer = new _CF_Lexer(source + '\0');
        var parser = new _CH_Parser(lexer);
        var ast = parser.parse(); // init

        machine.token.reset();
        machine.count = 0;
        machine.evalTokens = [];
        machine.cells = [];
        machine.readyEvalTokens = 0;
        machine.evaluating = false;
        machine.newValues.clear();
        machine.hasUpdate = false; // get the start node

        var start = machine.graph.findNodeByKey("nd1"); // the start node will point to the node that'll be the lhs of the application

        var left = machine.graph.findNodeByKey(start.links[0].to);
        var leftAuxs = left.group.auxs; // need to remove link out of start nodes

        start.findLinksConnected().forEach(function (link) {
          link.delete();
        }); // follow the same steps from Application in toGraph

        var der = new _AM_Der(left.name).addToGroup(machine.graph.child);
        new _9E_Link(der.key, left.key, "n", "s").addToGroup(machine.graph.child); // create the rhs from the source AST

        var right = machine.toGraph(ast, machine.graph.child);
        var app = new _A1_App().addToGroup(machine.graph.child);
        new _9E_Link(app.key, der.key, "w", "s").addToGroup(machine.graph.child);
        new _9E_Link(app.key, right.prin.key, "e", "s").addToGroup(machine.graph.child);
        var term = new _9u_Term(app, _9u_Term.joinAuxs(leftAuxs, right.auxs, machine.graph.child));
        new _9E_Link(start.key, term.prin.key, "n", "s").addToGroup(machine.graph.child);
        machine.deleteVarNode(machine.graph.child);
      };
    } else if (data[1] !== '-') {
      var machine = Object.assign(Object.create(Object.getPrototypeOf(_B6_GoIMachine)), this);
      return {
        data: data[0],
        machine: machine
      };
    } else {
      if (data[0] === '•') {
        // this represents the unit so it doesn't return anything
        return undefined;
      } else {
        return data[0];
      }
    }
  };

  var _2_autoPlay = function (callback) {
    var __captured__scope_1_ = __scope_0_main[0] || __get_scope_binding_0_get_95scope_95binding(0);

    __captured__scope_1_[0]++;

    _5_.setPlaying(true);

    var result;

    if (!_5_.isFinished()) {
      result = _5_.pass();
    }

    if (_5_.isFinished()) {
      if (typeof result === 'function') {
        callback(null, function () {
          _5_.setPlay(false);

          _5_.setPlaying(false); // can only receive one argument at a time so this work


          if (arguments.length !== 0) {
            result(arguments[0]);
          }

          _5_.setPlay(true);

          _5_.setFinished(false);

          if (!_5_.isPlaying()) {
            _2_autoPlay(callback);
          }
        });
      } else {
        callback(null, result);
      }
    } else {
      if (_5_.isPlay()) {
        if (_B7_.__residual) {
          // if we're in Prepack, and weve reached its maximum nubmer of calls
          if (__captured__scope_1_[0] > 125 / 3) {
            if (__captured__scope_1_[0] > 125) {
              // set to 0 because up till now Prepack evaluated everything
              __captured__scope_1_[0] = 0;

              _B7_.__residual("void", function (autoPlay, callback) {
                autoPlay(callback);
              }, _2_autoPlay, callback);
            } else {
              // decrease now because we have already added a timeout
              __captured__scope_1_[0]--;
              setTimeout(function () {
                _2_autoPlay(callback);
              }, 0);
            }
          } else {
            // just call the function as it is
            _2_autoPlay(callback);
          }
        } else {
          // otherwise, if we've reached the maximum number of calls on the stack
          if (__captured__scope_1_[0] > 125) {
            // call the function with a timeout
            setTimeout(function () {
              _2_autoPlay(callback);
            }, 0);
          } else {
            // just call the function as it is
            _2_autoPlay(callback);
          }
        }
      } else {
        _5_.setPlaying(false);
      }
    }
  };

  var _3_ = function (err, result) {
    ;

    _Bf_(err, result);
  };

  var _FT_ = function (obj) {
    return typeof obj;
  };

  var _EC_ = function (obj) {
    return typeof obj;
  };

  var _Dc_ = function (obj) {
    return typeof obj;
  };

  var _E7_ = function (obj) {
    return typeof obj;
  };

  var _E9_ = function (obj) {
    return typeof obj;
  };

  var _EK_ = function (obj) {
    return typeof obj;
  };

  var _EO_ = function (obj) {
    return typeof obj;
  };

  var _EI_ = function (obj) {
    return typeof obj;
  };

  var _Df_ = function (obj) {
    return typeof obj;
  };

  var _EM_ = function (obj) {
    return typeof obj;
  };

  var _1_ = function () {
    _2_autoPlay(_3_);
  };

  var __constructor = function () {};

  var _Bo_ = _$3_Object_46getPrototypeOf;

  var _6_graph = (__constructor.prototype = _8m_, new __constructor());

  _6_graph.key = 82;
  _6_graph.linkKey = 0;

  var _9_ = new _$4_Map();

  _6_graph.allNodes = _9_;
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _94_, _$5_Object_46defineProperty(_K_, "addToNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _95_, _$5_Object_46defineProperty(_K_, "addToGraph", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _96_, _$5_Object_46defineProperty(_K_, "addToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _97_, _$5_Object_46defineProperty(_K_, "changeToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _98_, _$5_Object_46defineProperty(_K_, "changeFrom", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _99_, _$5_Object_46defineProperty(_K_, "changeTo", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9A_, _$5_Object_46defineProperty(_K_, "focus", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9B_, _$5_Object_46defineProperty(_K_, "clearFocus", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9C_, _$5_Object_46defineProperty(_K_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9D_, _$5_Object_46defineProperty(_K_, "toString", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _32_ = (__constructor.prototype = _K_, new __constructor());

  _32_.from = "nd15";
  _32_.to = "nd16";
  _32_.fromPort = "n";
  _32_.toPort = "s";
  _32_.reverse = void 0;
  _32_.colour = null;
  _32_.penWidth = null;
  _32_.graph = _6_graph;

  var _2W_ = (__constructor.prototype = _K_, new __constructor());

  _2W_.from = "nd18";
  _2W_.to = "nd15";
  _2W_.fromPort = "n";
  _2W_.toPort = "s";
  _2W_.reverse = void 0;
  _2W_.colour = null;
  _2W_.penWidth = null;
  _2W_.graph = _6_graph;

  var _2b_ = (__constructor.prototype = _K_, new __constructor());

  _2b_.from = "nd12";
  _2b_.to = "nd18";
  _2b_.fromPort = "e";
  _2b_.toPort = "s";
  _2b_.reverse = void 0;
  _2b_.colour = null;
  _2b_.penWidth = null;
  _2b_.graph = _6_graph;

  var _2K_ = (__constructor.prototype = _K_, new __constructor());

  _2K_.from = "nd10";
  _2K_.to = "nd11";
  _2K_.fromPort = "n";
  _2K_.toPort = "s";
  _2K_.reverse = void 0;
  _2K_.colour = null;
  _2K_.penWidth = null;
  _2K_.graph = _6_graph;

  var _2e_ = (__constructor.prototype = _K_, new __constructor());

  _2e_.from = "nd11";
  _2e_.to = "nd12";
  _2e_.fromPort = "e";
  _2e_.toPort = "s";
  _2e_.reverse = void 0;
  _2e_.colour = null;
  _2e_.penWidth = null;
  _2e_.graph = _6_graph;

  var _2h_ = (__constructor.prototype = _K_, new __constructor());

  _2h_.from = "nd22";
  _2h_.to = "nd11";
  _2h_.fromPort = "nw";
  _2h_.toPort = "w";
  _2h_.reverse = true;
  _2h_.colour = null;
  _2h_.penWidth = null;
  _2h_.graph = _6_graph;

  var _2O_outLink = (__constructor.prototype = _K_, new __constructor());

  _2O_outLink.from = "nd12";
  _2O_outLink.to = "nd23";
  _2O_outLink.fromPort = "w";
  _2O_outLink.toPort = "s";
  _2O_outLink.reverse = void 0;
  _2O_outLink.colour = null;
  _2O_outLink.penWidth = null;
  _2O_outLink.graph = _6_graph;

  var _P_link = (__constructor.prototype = _K_, new __constructor());

  _P_link.from = "nd25";
  _P_link.to = "nd10";
  _P_link.fromPort = "n";
  _P_link.toPort = "s";
  _P_link.reverse = void 0;
  _P_link.colour = null;
  _P_link.penWidth = null;
  _P_link.graph = _6_graph;

  var _t_link = (__constructor.prototype = _K_, new __constructor());

  _t_link.from = "nd37";
  _t_link.to = "nd42";
  _t_link.fromPort = "e";
  _t_link.toPort = "s";
  _t_link.reverse = void 0;
  _t_link.colour = null;
  _t_link.penWidth = null;
  _t_link.graph = _6_graph;

  var _x_link = (__constructor.prototype = _K_, new __constructor());

  _x_link.from = "nd37";
  _x_link.to = "nd42";
  _x_link.fromPort = "w";
  _x_link.toPort = "s";
  _x_link.reverse = void 0;
  _x_link.colour = null;
  _x_link.penWidth = null;
  _x_link.graph = _6_graph;

  var _10_link = (__constructor.prototype = _K_, new __constructor());

  _10_link.from = "nd44";
  _10_link.to = "nd49";
  _10_link.fromPort = "e";
  _10_link.toPort = "s";
  _10_link.reverse = void 0;
  _10_link.colour = null;
  _10_link.penWidth = null;
  _10_link.graph = _6_graph;

  var _15_link = (__constructor.prototype = _K_, new __constructor());

  _15_link.from = "nd44";
  _15_link.to = "nd49";
  _15_link.fromPort = "w";
  _15_link.toPort = "s";
  _15_link.reverse = void 0;
  _15_link.colour = null;
  _15_link.penWidth = null;
  _15_link.graph = _6_graph;

  var _18_link = (__constructor.prototype = _K_, new __constructor());

  _18_link.from = "nd36";
  _18_link.to = "nd37";
  _18_link.fromPort = "w";
  _18_link.toPort = "s";
  _18_link.reverse = void 0;
  _18_link.colour = null;
  _18_link.penWidth = null;
  _18_link.graph = _6_graph;

  var _1C_link = (__constructor.prototype = _K_, new __constructor());

  _1C_link.from = "nd36";
  _1C_link.to = "nd44";
  _1C_link.fromPort = "e";
  _1C_link.toPort = "s";
  _1C_link.reverse = void 0;
  _1C_link.colour = null;
  _1C_link.penWidth = null;
  _1C_link.graph = _6_graph;

  var _1F_nextLink = (__constructor.prototype = _K_, new __constructor());

  _1F_nextLink.from = "nd7";
  _1F_nextLink.to = "nd36";
  _1F_nextLink.fromPort = "e";
  _1F_nextLink.toPort = "s";
  _1F_nextLink.reverse = void 0;
  _1F_nextLink.colour = "red";
  _1F_nextLink.penWidth = "20";
  _1F_nextLink.graph = _6_graph;

  var _1K_otherNextLink = (__constructor.prototype = _K_, new __constructor());

  _1K_otherNextLink.from = "nd49";
  _1K_otherNextLink.to = "nd64";
  _1K_otherNextLink.fromPort = "n";
  _1K_otherNextLink.toPort = "s";
  _1K_otherNextLink.reverse = false;
  _1K_otherNextLink.colour = null;
  _1K_otherNextLink.penWidth = null;
  _1K_otherNextLink.graph = _6_graph;

  var _p_outLink = (__constructor.prototype = _K_, new __constructor());

  _p_outLink.from = "nd42";
  _p_outLink.to = "nd58";
  _p_outLink.fromPort = "n";
  _p_outLink.toPort = "s";
  _p_outLink.reverse = false;
  _p_outLink.colour = null;
  _p_outLink.penWidth = null;
  _p_outLink.graph = _6_graph;

  var _47_link = (__constructor.prototype = _K_, new __constructor());

  _47_link.from = "nd64";
  _47_link.to = "nd65";
  _47_link.fromPort = "n";
  _47_link.toPort = "s";
  _47_link.reverse = void 0;
  _47_link.colour = null;
  _47_link.penWidth = null;
  _47_link.graph = _6_graph;

  var _U_link = (__constructor.prototype = _K_, new __constructor());

  _U_link.from = "nd7";
  _U_link.to = "nd25";
  _U_link.fromPort = "w";
  _U_link.toPort = "s";
  _U_link.reverse = void 0;
  _U_link.colour = null;
  _U_link.penWidth = null;
  _U_link.graph = _6_graph;

  var _Y_link = (__constructor.prototype = _K_, new __constructor());

  _Y_link.from = "nd58";
  _Y_link.to = "nd68";
  _Y_link.fromPort = "n";
  _Y_link.toPort = "s";
  _Y_link.reverse = void 0;
  _Y_link.colour = null;
  _Y_link.penWidth = null;
  _Y_link.graph = _6_graph;

  var _d_link = (__constructor.prototype = _K_, new __constructor());

  _d_link.from = "nd23";
  _d_link.to = "nd68";
  _d_link.fromPort = "n";
  _d_link.toPort = "s";
  _d_link.reverse = void 0;
  _d_link.colour = null;
  _d_link.penWidth = null;
  _d_link.graph = _6_graph;

  var _h_link = (__constructor.prototype = _K_, new __constructor());

  _h_link.from = "nd1";
  _h_link.to = "nd7";
  _h_link.fromPort = "n";
  _h_link.toPort = "s";
  _h_link.reverse = void 0;
  _h_link.colour = null;
  _h_link.penWidth = null;
  _h_link.graph = _6_graph;

  var _l_nextLink = (__constructor.prototype = _K_, new __constructor());

  _l_nextLink.from = "nd68";
  _l_nextLink.to = "nd80";
  _l_nextLink.fromPort = "n";
  _l_nextLink.toPort = "s";
  _l_nextLink.reverse = false;
  _l_nextLink.colour = null;
  _l_nextLink.penWidth = null;
  _l_nextLink.graph = _6_graph;

  var _1b_link = (__constructor.prototype = _K_, new __constructor());

  _1b_link.from = "nd74";
  _1b_link.to = "nd75";
  _1b_link.fromPort = "n";
  _1b_link.toPort = "s";
  _1b_link.reverse = void 0;
  _1b_link.colour = null;
  _1b_link.penWidth = null;
  _1b_link.graph = _6_graph;

  var _F_link = (__constructor.prototype = _K_, new __constructor());

  _F_link.from = "nd80";
  _F_link.to = "nd74";
  _F_link.fromPort = "e";
  _F_link.toPort = "s";
  _F_link.reverse = void 0;
  _F_link.colour = null;
  _F_link.penWidth = null;
  _F_link.graph = _6_graph;

  var _L_link = (__constructor.prototype = _K_, new __constructor());

  _L_link.from = "nd80";
  _L_link.to = "nd81";
  _L_link.fromPort = "w";
  _L_link.toPort = "s";
  _L_link.reverse = void 0;
  _L_link.colour = null;
  _L_link.penWidth = null;
  _L_link.graph = _6_graph;
  var _8k_ = [_32_, _2W_, _2b_, _2K_, _2e_, _2h_, _2O_outLink, _P_link, _t_link, _x_link, _10_link, _15_link, _18_link, _1C_link, _1F_nextLink, _1K_otherNextLink, _p_outLink, _47_link, _U_link, _Y_link, _d_link, _h_link, _l_nextLink, _1b_link, _F_link, _L_link,,,,,,,,,,,,,,,,,,,,,,];
  _8k_.length = 26;
  _6_graph.allLinks = _8k_;
  var _B9_ = {
    isNumber: _Bh_isNumber,
    graph: _6_graph
  };

  var _1W_ = (__constructor.prototype = _1X_, new __constructor());

  _9F_Start.prototype = _1W_;

  _$6_Object_46setPrototypeOf(_9F_Start, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9F_Start, _$5_Object_46defineProperty(_1W_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _BA_CompData = {
    EMPTY: "-",
    PROMPT: "*",
    LAMBDA: "\u03BB",
    R: "@",
    UNIT: "\u2022",
    IF0: "if0",
    IF1: "if1"
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9G_, _$5_Object_46defineProperty(_1W_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9H_, _$5_Object_46defineProperty(_1W_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1Q_fromNode = (__constructor.prototype = _1W_, new __constructor());

  _1Q_fromNode.key = "nd1";
  _1Q_fromNode.shape = "point";
  _1Q_fromNode.text = "";
  _1Q_fromNode.colour = "black";
  _1Q_fromNode.name = void 0;
  _1Q_fromNode.graph = _6_graph;
  _1Q_fromNode.width = null;
  _1Q_fromNode.height = null;
  var _1U_ = [_h_link,,];
  _1U_.length = 1;
  _1Q_fromNode.links = _1U_;

  _9_.set("nd1", _1Q_fromNode);

  var _2G_ = (__constructor.prototype = _1X_, new __constructor());

  _A1_App.prototype = _2G_;

  _$6_Object_46setPrototypeOf(_A1_App, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A1_App, _$5_Object_46defineProperty(_2G_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A2_, _$5_Object_46defineProperty(_2G_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A3_, _$5_Object_46defineProperty(_2G_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _2B_fromNode = (__constructor.prototype = _2G_, new __constructor());

  _2B_fromNode.key = "nd7";
  _2B_fromNode.shape = null;
  _2B_fromNode.text = "@";
  _2B_fromNode.colour = "yellow";
  _2B_fromNode.name = void 0;
  _2B_fromNode.graph = _6_graph;
  _2B_fromNode.width = null;
  _2B_fromNode.height = null;
  var _2E_ = [_U_link, _h_link, _1F_nextLink,,];
  _2E_.length = 3;
  _2B_fromNode.links = _2E_;

  _9_.set("nd7", _2B_fromNode);

  var _1y_ = (__constructor.prototype = _1X_, new __constructor());

  _9i_Expo.prototype = _1y_;

  _$6_Object_46setPrototypeOf(_9i_Expo, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9i_Expo, _$5_Object_46defineProperty(_1y_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9j_, _$5_Object_46defineProperty(_1y_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _Bp_ = _$8_Reflect_46get;
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9k_, _$5_Object_46defineProperty(_1y_, "deleteAndPreserveInLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9l_, _$5_Object_46defineProperty(_1y_, "deleteAndPreserveOutLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1x_ = (__constructor.prototype = _1y_, new __constructor());

  _9e_Promo.prototype = _1x_;

  _$6_Object_46setPrototypeOf(_9e_Promo, _9i_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9e_Promo, _$5_Object_46defineProperty(_1x_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _BH_RewriteFlag = {
    EMPTY: "\u25A1",
    F_LAMBDA: "<\u03BB>",
    F_OP: "<$>",
    F_IF: "<if>",
    F_C: "<C>",
    F_PROMO: "<!>",
    F_RECUR: "<\u03BC>",
    F_MOD: "<M>",
    F_DEP: "<p>",
    F_DELTA: "<\u0394>",
    F_PROP: "<s>"
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9f_, _$5_Object_46defineProperty(_1x_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3x_ = (__constructor.prototype = _1y_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AM_Der, _$5_Object_46defineProperty(_3x_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AN_, _$5_Object_46defineProperty(_3x_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _AM_Der.prototype = _3x_;

  _$6_Object_46setPrototypeOf(_AM_Der, _9i_Expo);

  var _4Y_ = (__constructor.prototype = _1y_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AR_Contract, _$5_Object_46defineProperty(_4Y_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AS_, _$5_Object_46defineProperty(_4Y_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AT_, _$5_Object_46defineProperty(_4Y_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AU_, _$5_Object_46defineProperty(_4Y_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _AR_Contract.prototype = _4Y_;

  _$6_Object_46setPrototypeOf(_AR_Contract, _9i_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _BT_, _$5_Object_46defineProperty(_9u_Term, "joinAuxs", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_9u_Term, _9Y_Group);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9g_, _$5_Object_46defineProperty(_1x_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9h_, _$5_Object_46defineProperty(_1x_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3c_node = (__constructor.prototype = _1x_, new __constructor());

  _3c_node.key = "nd10";
  _3c_node.shape = null;
  _3c_node.text = "!";
  _3c_node.colour = "cyan";
  _3c_node.name = void 0;
  _3c_node.graph = _6_graph;
  _3c_node.width = ".3";
  _3c_node.height = ".3";
  var _3h_ = [_2K_, _P_link];
  _3c_node.links = _3h_;

  _9_.set("nd10", _3c_node);

  var _2s_ = (__constructor.prototype = _1X_, new __constructor());

  _A4_Abs.prototype = _2s_;

  _$6_Object_46setPrototypeOf(_A4_Abs, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A4_Abs, _$5_Object_46defineProperty(_2s_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A5_, _$5_Object_46defineProperty(_2s_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A6_, _$5_Object_46defineProperty(_2s_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A7_, _$5_Object_46defineProperty(_2s_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _2o_node = (__constructor.prototype = _2s_, new __constructor());

  _2o_node.key = "nd11";
  _2o_node.shape = null;
  _2o_node.text = "\u03BB";
  _2o_node.colour = "yellow";
  _2o_node.name = void 0;
  _2o_node.graph = _6_graph;
  _2o_node.width = null;
  _2o_node.height = null;
  var _2r_ = [_2K_, _2e_, _2h_];
  _2o_node.links = _2r_;

  _9_.set("nd11", _2o_node);

  var _2y_ = (__constructor.prototype = _1X_, new __constructor());

  _A8_Delta.prototype = _2y_;

  _$6_Object_46setPrototypeOf(_A8_Delta, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A8_Delta, _$5_Object_46defineProperty(_2y_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A9_, _$5_Object_46defineProperty(_2y_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3a_ = (__constructor.prototype = _1y_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AH_Weak, _$5_Object_46defineProperty(_3a_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AI_, _$5_Object_46defineProperty(_3a_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _AH_Weak.prototype = _3a_;

  _$6_Object_46setPrototypeOf(_AH_Weak, _9i_Expo);

  _$6_Object_46setPrototypeOf(_9W_Box, _9Y_Group);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _BS_, _$5_Object_46defineProperty(_9m_BoxWrapper, "create", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_9m_BoxWrapper, _9u_Term);

  var _1o_ = (__constructor.prototype = _1X_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9T_Const, _$5_Object_46defineProperty(_1o_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9U_, _$5_Object_46defineProperty(_1o_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9V_, _$5_Object_46defineProperty(_1o_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _9T_Const.prototype = _1o_;

  _$6_Object_46setPrototypeOf(_9T_Const, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AA_, _$5_Object_46defineProperty(_2y_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AB_, _$5_Object_46defineProperty(_2y_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _2t_fromNode = (__constructor.prototype = _2y_, new __constructor());

  _2t_fromNode.key = "nd12";
  _2t_fromNode.shape = null;
  _2t_fromNode.text = "\u0394";
  _2t_fromNode.colour = "indianred1";
  _2t_fromNode.name = void 0;
  _2t_fromNode.graph = _6_graph;
  _2t_fromNode.width = null;
  _2t_fromNode.height = null;
  var _2w_ = [_2b_, _2e_, _2O_outLink,,];
  _2w_.length = 3;
  _2t_fromNode.links = _2w_;

  _9_.set("nd12", _2t_fromNode);

  var _3F_node = (__constructor.prototype = _1x_, new __constructor());

  _3F_node.key = "nd15";
  _3F_node.shape = null;
  _3F_node.text = "!";
  _3F_node.colour = "cyan";
  _3F_node.name = void 0;
  _3F_node.graph = _6_graph;
  _3F_node.width = ".3";
  _3F_node.height = ".3";
  var _3K_ = [_32_, _2W_];
  _3F_node.links = _3K_;

  _9_.set("nd15", _3F_node);

  var _3B_node = (__constructor.prototype = _1o_, new __constructor());

  _3B_node.key = "nd16";
  _3B_node.shape = null;
  _3B_node.text = 1;
  _3B_node.colour = "mediumpurple1";
  _3B_node.name = 1;
  _3B_node.graph = _6_graph;
  _3B_node.width = null;
  _3B_node.height = null;
  var _3E_ = [_32_];
  _3B_node.links = _3E_;

  _9_.set("nd16", _3B_node);

  var _3T_ = (__constructor.prototype = _1X_, new __constructor());

  _AC_Prov.prototype = _3T_;

  _$6_Object_46setPrototypeOf(_AC_Prov, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AC_Prov, _$5_Object_46defineProperty(_3T_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AD_, _$5_Object_46defineProperty(_3T_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _27_ = (__constructor.prototype = _1X_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9x_Mod, _$5_Object_46defineProperty(_27_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9y_, _$5_Object_46defineProperty(_27_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9z_, _$5_Object_46defineProperty(_27_, "update", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _A0_, _$5_Object_46defineProperty(_27_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _9x_Mod.prototype = _27_;

  _$6_Object_46setPrototypeOf(_9x_Mod, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AE_, _$5_Object_46defineProperty(_3T_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AF_, _$5_Object_46defineProperty(_3T_, "deleteAndPreserveInLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AG_, _$5_Object_46defineProperty(_3T_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3M_node = (__constructor.prototype = _3T_, new __constructor());

  _3M_node.key = "nd18";
  _3M_node.shape = "diamond";
  _3M_node.text = "";
  _3M_node.colour = "indianred1";
  _3M_node.name = void 0;
  _3M_node.graph = _6_graph;
  _3M_node.width = ".3";
  _3M_node.height = ".3";
  var _3S_ = [_2W_, _2b_];
  _3M_node.links = _3S_;

  _9_.set("nd18", _3M_node);

  var _3U_node = (__constructor.prototype = _3a_, new __constructor());

  _3U_node.key = "nd22";
  _3U_node.shape = null;
  _3U_node.text = "C0";
  _3U_node.colour = "cyan";
  _3U_node.name = void 0;
  _3U_node.graph = _6_graph;
  _3U_node.width = ".3";
  _3U_node.height = ".3";
  var _3Z_ = [_2h_];
  _3U_node.links = _3Z_;

  _9_.set("nd22", _3U_node);

  var _3p_ = (__constructor.prototype = _1y_, new __constructor());

  _AJ_Pax.prototype = _3p_;

  _$6_Object_46setPrototypeOf(_AJ_Pax, _9i_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AJ_Pax, _$5_Object_46defineProperty(_3p_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AK_, _$5_Object_46defineProperty(_3p_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AL_, _$5_Object_46defineProperty(_3p_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3i_node = (__constructor.prototype = _3p_, new __constructor());

  _3i_node.key = "nd23";
  _3i_node.shape = null;
  _3i_node.text = "?";
  _3i_node.colour = "cyan";
  _3i_node.name = "c";
  _3i_node.graph = _6_graph;
  _3i_node.width = ".3";
  _3i_node.height = ".3";
  var _3o_ = [_2O_outLink, _d_link];
  _3i_node.links = _3o_;

  _9_.set("nd23", _3i_node);

  var _3r_node = (__constructor.prototype = _3x_, new __constructor());

  _3r_node.key = "nd25";
  _3r_node.shape = null;
  _3r_node.text = "D";
  _3r_node.colour = "cyan";
  _3r_node.name = void 0;
  _3r_node.graph = _6_graph;
  _3r_node.width = ".3";
  _3r_node.height = ".3";
  var _3w_ = [_P_link, _U_link];
  _3r_node.links = _3w_;

  _9_.set("nd25", _3r_node);

  var _4e_ = (__constructor.prototype = _1X_, new __constructor());

  _AV_BinOp.prototype = _4e_;
  var _BW_BinOpType = {
    And: 0,
    Or: 1,
    Plus: 2,
    Sub: 3,
    Mult: 4,
    Div: 7,
    Lte: 5
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _BU_, _$5_Object_46defineProperty(_AV_BinOp, "createPlus", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _BV_, _$5_Object_46defineProperty(_AV_BinOp, "createMult", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_AV_BinOp, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AV_BinOp, _$5_Object_46defineProperty(_4e_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AW_, _$5_Object_46defineProperty(_4e_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AX_, _$5_Object_46defineProperty(_4e_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AY_, _$5_Object_46defineProperty(_4e_, "binOpApply", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AZ_, _$5_Object_46defineProperty(_4e_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _4Z_node = (__constructor.prototype = _4e_, new __constructor());

  _4Z_node.key = "nd36";
  _4Z_node.shape = null;
  _4Z_node.text = "+";
  _4Z_node.colour = "mediumpurple1";
  _4Z_node.name = void 0;
  _4Z_node.graph = _6_graph;
  _4Z_node.width = null;
  _4Z_node.height = null;
  var _4c_ = [_18_link, _1C_link, _1F_nextLink];
  _4Z_node.links = _4c_;
  _4Z_node.subType = 2;

  _9_.set("nd36", _4Z_node);

  var _4f_node = (__constructor.prototype = _4e_, new __constructor());

  _4f_node.key = "nd37";
  _4f_node.shape = null;
  _4f_node.text = "+";
  _4f_node.colour = "mediumpurple1";
  _4f_node.name = void 0;
  _4f_node.graph = _6_graph;
  _4f_node.width = null;
  _4f_node.height = null;
  var _4i_ = [_18_link, _x_link, _t_link,,];
  _4i_.length = 3;
  _4f_node.links = _4i_;
  _4f_node.subType = 2;

  _9_.set("nd37", _4f_node);

  var _4k_fromNode = (__constructor.prototype = _4Y_, new __constructor());

  _4k_fromNode.key = "nd42";
  _4k_fromNode.shape = null;
  _4k_fromNode.text = "C";
  _4k_fromNode.colour = "cyan";
  _4k_fromNode.name = "x";
  _4k_fromNode.graph = _6_graph;
  _4k_fromNode.width = ".3";
  _4k_fromNode.height = ".3";
  var _4q_ = [_t_link, _x_link, _p_outLink,,];
  _4q_.length = 3;
  _4k_fromNode.links = _4q_;

  _9_.set("nd42", _4k_fromNode);

  var _4s_node = (__constructor.prototype = _4e_, new __constructor());

  _4s_node.key = "nd44";
  _4s_node.shape = null;
  _4s_node.text = "+";
  _4s_node.colour = "mediumpurple1";
  _4s_node.name = void 0;
  _4s_node.graph = _6_graph;
  _4s_node.width = null;
  _4s_node.height = null;
  var _4v_ = [_1C_link, _15_link, _10_link,,];
  _4v_.length = 3;
  _4s_node.links = _4v_;
  _4s_node.subType = 2;

  _9_.set("nd44", _4s_node);

  var _4x_otherNode = (__constructor.prototype = _4Y_, new __constructor());

  _4x_otherNode.key = "nd49";
  _4x_otherNode.shape = null;
  _4x_otherNode.text = "C";
  _4x_otherNode.colour = "cyan";
  _4x_otherNode.name = "y";
  _4x_otherNode.graph = _6_graph;
  _4x_otherNode.width = ".3";
  _4x_otherNode.height = ".3";
  var _53_ = [_10_link, _15_link, _1K_otherNextLink];
  _4x_otherNode.links = _53_;

  _9_.set("nd49", _4x_otherNode);

  var _43_ = (__constructor.prototype = _1X_, new __constructor());

  _AO_Deref.prototype = _43_;

  _$6_Object_46setPrototypeOf(_AO_Deref, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AO_Deref, _$5_Object_46defineProperty(_43_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AP_, _$5_Object_46defineProperty(_43_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _AQ_, _$5_Object_46defineProperty(_43_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3y_toNode = (__constructor.prototype = _43_, new __constructor());

  _3y_toNode.key = "nd58";
  _3y_toNode.shape = null;
  _3y_toNode.text = "d";
  _3y_toNode.colour = "mediumpurple1";
  _3y_toNode.name = void 0;
  _3y_toNode.graph = _6_graph;
  _3y_toNode.width = null;
  _3y_toNode.height = null;
  var _41_ = [_Y_link, _p_outLink,,];
  _41_.length = 2;
  _3y_toNode.links = _41_;

  _9_.set("nd58", _3y_toNode);

  var _4K_toNode = (__constructor.prototype = _1x_, new __constructor());

  _4K_toNode.key = "nd64";
  _4K_toNode.shape = null;
  _4K_toNode.text = "!";
  _4K_toNode.colour = "cyan";
  _4K_toNode.name = void 0;
  _4K_toNode.graph = _6_graph;
  _4K_toNode.width = ".3";
  _4K_toNode.height = ".3";
  var _4P_ = [_47_link, _1K_otherNextLink,,];
  _4P_.length = 2;
  _4K_toNode.links = _4P_;

  _9_.set("nd64", _4K_toNode);

  var _4G_node = (__constructor.prototype = _1o_, new __constructor());

  _4G_node.key = "nd65";
  _4G_node.shape = null;
  _4G_node.text = 2;
  _4G_node.colour = "mediumpurple1";
  _4G_node.name = 2;
  _4G_node.graph = _6_graph;
  _4G_node.width = null;
  _4G_node.height = null;
  var _4J_ = [_47_link];
  _4G_node.links = _4J_;

  _9_.set("nd65", _4G_node);

  var _4S_otherNode = (__constructor.prototype = _4Y_, new __constructor());

  _4S_otherNode.key = "nd68";
  _4S_otherNode.shape = null;
  _4S_otherNode.text = "C";
  _4S_otherNode.colour = "cyan";
  _4S_otherNode.name = "c";
  _4S_otherNode.graph = _6_graph;
  _4S_otherNode.width = ".3";
  _4S_otherNode.height = ".3";
  var _4X_ = [_Y_link, _d_link, _l_nextLink];
  _4S_otherNode.links = _4X_;

  _9_.set("nd68", _4S_otherNode);

  var _1r_node = (__constructor.prototype = _1x_, new __constructor());

  _1r_node.key = "nd74";
  _1r_node.shape = null;
  _1r_node.text = "!";
  _1r_node.colour = "cyan";
  _1r_node.name = void 0;
  _1r_node.graph = _6_graph;
  _1r_node.width = ".3";
  _1r_node.height = ".3";
  var _1w_ = [_1b_link, _F_link];
  _1r_node.links = _1w_;

  _9_.set("nd74", _1r_node);

  var _1k_node = (__constructor.prototype = _1o_, new __constructor());

  _1k_node.key = "nd75";
  _1k_node.shape = null;
  _1k_node.text = 0;
  _1k_node.colour = "mediumpurple1";
  _1k_node.name = 0;
  _1k_node.graph = _6_graph;
  _1k_node.width = null;
  _1k_node.height = null;
  var _1n_ = [_1b_link];
  _1k_node.links = _1n_;

  _9_.set("nd75", _1k_node);

  var _22_toNode = (__constructor.prototype = _27_, new __constructor());

  _22_toNode.key = "nd80";
  _22_toNode.shape = null;
  _22_toNode.text = "M";
  _22_toNode.colour = "indianred1";
  _22_toNode.name = void 0;
  _22_toNode.graph = _6_graph;
  _22_toNode.width = null;
  _22_toNode.height = null;
  var _25_ = [_L_link, _F_link, _l_nextLink,,];
  _25_.length = 3;
  _22_toNode.links = _25_;

  _9_.set("nd80", _22_toNode);

  var _28_toNode = (__constructor.prototype = _1o_, new __constructor());

  _28_toNode.key = "nd81";
  _28_toNode.shape = null;
  _28_toNode.text = 0;
  _28_toNode.colour = "mediumpurple1";
  _28_toNode.name = 0;
  _28_toNode.graph = _6_graph;
  _28_toNode.width = null;
  _28_toNode.height = null;
  var _2A_ = [_L_link];
  _28_toNode.links = _2A_;

  _9_.set("nd81", _28_toNode);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9I_, _$5_Object_46defineProperty(_1X_, "addToGraph", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9J_, _$5_Object_46defineProperty(_1X_, "addToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9K_, _$5_Object_46defineProperty(_1X_, "changeToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9L_, _$5_Object_46defineProperty(_1X_, "findLinksConnected", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9M_, _$5_Object_46defineProperty(_1X_, "findLinksInto", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9N_, _$5_Object_46defineProperty(_1X_, "findLinksOutOf", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9O_, _$5_Object_46defineProperty(_1X_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9P_, _$5_Object_46defineProperty(_1X_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9Q_, _$5_Object_46defineProperty(_1X_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9R_, _$5_Object_46defineProperty(_1X_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1q_ = (__constructor.prototype = _1X_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9Y_Group, _$5_Object_46defineProperty(_1q_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9Z_, _$5_Object_46defineProperty(_1q_, "addNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9a_, _$5_Object_46defineProperty(_1q_, "removeNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9b_, _$5_Object_46defineProperty(_1q_, "addLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9c_, _$5_Object_46defineProperty(_1q_, "removeLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9d_, _$5_Object_46defineProperty(_1q_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _B_ = (__constructor.prototype = _1q_, new __constructor());

  _B_.key = "nd0";
  _B_.shape = null;
  _B_.text = null;
  _B_.colour = null;
  _B_.name = void 0;
  _B_.graph = _6_graph;
  _B_.group = null;
  _B_.width = null;
  _B_.height = null;
  var _E_ = [_F_link, _L_link, _P_link, _U_link, _Y_link, _d_link, _h_link, _l_nextLink, _p_outLink, _t_link, _x_link, _10_link, _15_link, _18_link, _1C_link, _1F_nextLink, _1K_otherNextLink,,,,,,,];
  _E_.length = 17;
  _B_.links = _E_;

  var _21_ = (__constructor.prototype = _1q_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9u_Term, _$5_Object_46defineProperty(_21_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9v_, _$5_Object_46defineProperty(_21_, "set", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9w_, _$5_Object_46defineProperty(_21_, "createPaxsOnTopOf", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _20_ = (__constructor.prototype = _21_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9m_BoxWrapper, _$5_Object_46defineProperty(_20_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9n_, _$5_Object_46defineProperty(_20_, "set", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9o_, _$5_Object_46defineProperty(_20_, "removeAux", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9p_, _$5_Object_46defineProperty(_20_, "moveOut", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9q_, _$5_Object_46defineProperty(_20_, "copyBox", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9r_, _$5_Object_46defineProperty(_20_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9s_, _$5_Object_46defineProperty(_20_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9t_, _$5_Object_46defineProperty(_20_, "deleteAndPreserveLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1Y_node = (__constructor.prototype = _20_, new __constructor());

  _1Y_node.key = "nd72";
  _1Y_node.shape = null;
  _1Y_node.text = null;
  _1Y_node.colour = null;
  _1Y_node.name = void 0;
  _1Y_node.graph = _6_graph;
  _1Y_node.group = _B_;
  _1Y_node.width = null;
  _1Y_node.height = null;
  var _1a_ = [_1b_link];
  _1Y_node.links = _1a_;

  var _1p_ = (__constructor.prototype = _1q_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9W_Box, _$5_Object_46defineProperty(_1p_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _9X_, _$5_Object_46defineProperty(_1p_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1g_node = (__constructor.prototype = _1p_, new __constructor());

  _1g_node.key = "nd73";
  _1g_node.shape = null;
  _1g_node.text = null;
  _1g_node.colour = null;
  _1g_node.name = void 0;
  _1g_node.graph = _6_graph;
  _1g_node.group = _1Y_node;
  _1g_node.width = null;
  _1g_node.height = null;
  var _1i_ = [];
  _1g_node.links = _1i_;
  var _1j_ = [_1k_node];
  _1g_node.nodes = _1j_;
  var _1f_ = [_1g_node, _1r_node];
  _1Y_node.nodes = _1f_;
  _1Y_node.prin = _1r_node;
  var _1z_ = [];
  _1Y_node.auxs = _1z_;
  _1Y_node.box = _1g_node;

  var _2H_node = (__constructor.prototype = _20_, new __constructor());

  _2H_node.key = "nd8";
  _2H_node.shape = null;
  _2H_node.text = null;
  _2H_node.colour = null;
  _2H_node.name = void 0;
  _2H_node.graph = _6_graph;
  _2H_node.group = _B_;
  _2H_node.width = null;
  _2H_node.height = null;
  var _2J_ = [_2K_, _2O_outLink];
  _2H_node.links = _2J_;

  var _2T_node = (__constructor.prototype = _1p_, new __constructor());

  _2T_node.key = "nd9";
  _2T_node.shape = null;
  _2T_node.text = null;
  _2T_node.colour = null;
  _2T_node.name = void 0;
  _2T_node.graph = _6_graph;
  _2T_node.group = _2H_node;
  _2T_node.width = null;
  _2T_node.height = null;
  var _2V_ = [_2W_, _2b_, _2e_, _2h_,,];
  _2V_.length = 4;
  _2T_node.links = _2V_;

  var _2z_node = (__constructor.prototype = _20_, new __constructor());

  _2z_node.key = "nd13";
  _2z_node.shape = null;
  _2z_node.text = null;
  _2z_node.colour = null;
  _2z_node.name = void 0;
  _2z_node.graph = _6_graph;
  _2z_node.group = _2T_node;
  _2z_node.width = null;
  _2z_node.height = null;
  var _31_ = [_32_];
  _2z_node.links = _31_;

  var _37_node = (__constructor.prototype = _1p_, new __constructor());

  _37_node.key = "nd14";
  _37_node.shape = null;
  _37_node.text = null;
  _37_node.colour = null;
  _37_node.name = void 0;
  _37_node.graph = _6_graph;
  _37_node.group = _2z_node;
  _37_node.width = null;
  _37_node.height = null;
  var _39_ = [];
  _37_node.links = _39_;
  var _3A_ = [_3B_node];
  _37_node.nodes = _3A_;
  var _36_ = [_37_node, _3F_node];
  _2z_node.nodes = _36_;
  _2z_node.prin = _3F_node;
  var _3L_ = [];
  _2z_node.auxs = _3L_;
  _2z_node.box = _37_node;
  var _2n_ = [_2o_node, _2t_fromNode, _2z_node, _3M_node, _3U_node,,];
  _2n_.length = 5;
  _2T_node.nodes = _2n_;
  var _2S_ = [_2T_node, _3c_node, _3i_node];
  _2H_node.nodes = _2S_;
  _2H_node.prin = _3c_node;
  var _3q_newPaxs = [_3i_node];
  _2H_node.auxs = _3q_newPaxs;
  _2H_node.box = _2T_node;

  var _44_node = (__constructor.prototype = _20_, new __constructor());

  _44_node.key = "nd62";
  _44_node.shape = null;
  _44_node.text = null;
  _44_node.colour = null;
  _44_node.name = void 0;
  _44_node.graph = _6_graph;
  _44_node.group = _B_;
  _44_node.width = null;
  _44_node.height = null;
  var _46_ = [_47_link];
  _44_node.links = _46_;

  var _4C_node = (__constructor.prototype = _1p_, new __constructor());

  _4C_node.key = "nd63";
  _4C_node.shape = null;
  _4C_node.text = null;
  _4C_node.colour = null;
  _4C_node.name = void 0;
  _4C_node.graph = _6_graph;
  _4C_node.group = _44_node;
  _4C_node.width = null;
  _4C_node.height = null;
  var _4E_ = [];
  _4C_node.links = _4E_;
  var _4F_ = [_4G_node];
  _4C_node.nodes = _4F_;
  var _4B_ = [_4C_node, _4K_toNode];
  _44_node.nodes = _4B_;
  _44_node.prin = _4K_toNode;
  var _4R_ = [];
  _44_node.auxs = _4R_;
  _44_node.box = _4C_node;
  var _1P_ = [_1Q_fromNode, _1Y_node, _22_toNode, _28_toNode, _2B_fromNode, _2H_node, _3r_node, _3y_toNode, _44_node, _4S_otherNode, _4Z_node, _4f_node, _4k_fromNode, _4s_node, _4x_otherNode,,,,,,,,];
  _1P_.length = 15;
  _B_.nodes = _1P_;
  _6_graph.child = _B_;

  _9_.set("nd0", _B_);

  _9_.set("nd8", _2H_node);

  _9_.set("nd9", _2T_node);

  _9_.set("nd13", _2z_node);

  _9_.set("nd14", _37_node);

  var _56_term = (__constructor.prototype = _21_, new __constructor());

  _56_term.key = "nd17";
  _56_term.shape = null;
  _56_term.text = null;
  _56_term.colour = null;
  _56_term.name = void 0;
  _56_term.graph = _6_graph;
  _56_term.group = null;
  _56_term.width = null;
  _56_term.height = null;
  var _57_ = [];
  _56_term.links = _57_;
  var _58_ = [];
  _56_term.nodes = _58_;
  _56_term.prin = _3F_node;
  _56_term.auxs = _3L_;

  _9_.set("nd17", _56_term);

  var _5A_term = (__constructor.prototype = _21_, new __constructor());

  _5A_term.key = "nd19";
  _5A_term.shape = null;
  _5A_term.text = null;
  _5A_term.colour = null;
  _5A_term.name = void 0;
  _5A_term.graph = _6_graph;
  _5A_term.group = null;
  _5A_term.width = null;
  _5A_term.height = null;
  var _5B_ = [];
  _5A_term.links = _5B_;
  var _5C_ = [];
  _5A_term.nodes = _5C_;
  _5A_term.prin = _3M_node;
  _5A_term.auxs = _3L_;

  _9_.set("nd19", _5A_term);

  var _5E_term = (__constructor.prototype = _21_, new __constructor());

  _5E_term.key = "nd21";
  _5E_term.shape = null;
  _5E_term.text = null;
  _5E_term.colour = null;
  _5E_term.name = void 0;
  _5E_term.graph = _6_graph;
  _5E_term.group = null;
  _5E_term.width = null;
  _5E_term.height = null;
  var _5F_ = [];
  _5E_term.links = _5F_;
  var _5G_ = [];
  _5E_term.nodes = _5G_;
  _5E_term.prin = _2t_fromNode;

  var _5Q_ = (__constructor.prototype = _3x_, new __constructor());

  _Aa_Var.prototype = _5Q_;

  _$6_Object_46setPrototypeOf(_Aa_Var, _AM_Der);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Aa_Var, _$5_Object_46defineProperty(_5Q_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ab_, _$5_Object_46defineProperty(_5Q_, "deleteAndPreserveOutLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _5I_toNode = (__constructor.prototype = _5Q_, new __constructor());

  _5I_toNode.key = "nd20";
  _5I_toNode.shape = null;
  _5I_toNode.text = "V";
  _5I_toNode.colour = "cyan";
  _5I_toNode.name = "c";
  _5I_toNode.graph = _6_graph;
  _5I_toNode.group = _2T_node;
  _5I_toNode.width = ".3";
  _5I_toNode.height = ".3";
  var _5O_ = [,,];
  _5O_.length = 0;
  _5I_toNode.links = _5O_;
  var _5H_auxs = [_5I_toNode];
  _5E_term.auxs = _5H_auxs;

  _9_.set("nd21", _5E_term);

  var _5S_left = (__constructor.prototype = _21_, new __constructor());

  _5S_left.key = "nd24";
  _5S_left.shape = null;
  _5S_left.text = null;
  _5S_left.colour = null;
  _5S_left.name = void 0;
  _5S_left.graph = _6_graph;
  _5S_left.group = null;
  _5S_left.width = null;
  _5S_left.height = null;
  var _5T_ = [];
  _5S_left.links = _5T_;
  var _5U_ = [];
  _5S_left.nodes = _5U_;
  _5S_left.prin = _3c_node;
  _5S_left.auxs = _3q_newPaxs;

  _9_.set("nd24", _5S_left);

  var _5W_left = (__constructor.prototype = _21_, new __constructor());

  _5W_left.key = "nd39";
  _5W_left.shape = null;
  _5W_left.text = null;
  _5W_left.colour = null;
  _5W_left.name = void 0;
  _5W_left.graph = _6_graph;
  _5W_left.group = null;
  _5W_left.width = null;
  _5W_left.height = null;
  var _5X_ = [];
  _5W_left.links = _5X_;
  var _5Y_ = [];
  _5W_left.nodes = _5Y_;

  var _5Z_toNode = (__constructor.prototype = _5Q_, new __constructor());

  _5Z_toNode.key = "nd38";
  _5Z_toNode.shape = null;
  _5Z_toNode.text = "V";
  _5Z_toNode.colour = "cyan";
  _5Z_toNode.name = "x";
  _5Z_toNode.graph = _6_graph;

  var _5d__95node = (__constructor.prototype = _1p_, new __constructor());

  _5d__95node.key = "nd33";
  _5d__95node.shape = null;
  _5d__95node.text = null;
  _5d__95node.colour = null;
  _5d__95node.name = void 0;
  _5d__95node.graph = _6_graph;
  _5d__95node.group = _B_;
  _5d__95node.width = null;
  _5d__95node.height = null;
  var _5f_ = [,,,,,,,,,,,,];
  _5f_.length = 0;
  _5d__95node.links = _5f_;
  var _5h_ = [,,,,,,,,,,];
  _5h_.length = 0;
  _5d__95node.nodes = _5h_;
  _5Z_toNode.group = _5d__95node;
  _5Z_toNode.width = ".3";
  _5Z_toNode.height = ".3";
  var _5l_ = [,,];
  _5l_.length = 0;
  _5Z_toNode.links = _5l_;
  _5W_left.prin = _5Z_toNode;
  var _5n_ = [_5Z_toNode];
  _5W_left.auxs = _5n_;

  _9_.set("nd39", _5W_left);

  var _5p_right = (__constructor.prototype = _21_, new __constructor());

  _5p_right.key = "nd41";
  _5p_right.shape = null;
  _5p_right.text = null;
  _5p_right.colour = null;
  _5p_right.name = void 0;
  _5p_right.graph = _6_graph;
  _5p_right.group = null;
  _5p_right.width = null;
  _5p_right.height = null;
  var _5q_ = [];
  _5p_right.links = _5q_;
  var _5r_ = [];
  _5p_right.nodes = _5r_;

  var _5s_toNode = (__constructor.prototype = _5Q_, new __constructor());

  _5s_toNode.key = "nd40";
  _5s_toNode.shape = null;
  _5s_toNode.text = "V";
  _5s_toNode.colour = "cyan";
  _5s_toNode.name = "x";
  _5s_toNode.graph = _6_graph;
  _5s_toNode.group = _5d__95node;
  _5s_toNode.width = ".3";
  _5s_toNode.height = ".3";
  var _5z_ = [,,];
  _5z_.length = 0;
  _5s_toNode.links = _5z_;
  _5p_right.prin = _5s_toNode;
  var _61_ = [_5s_toNode];
  _5p_right.auxs = _61_;

  _9_.set("nd41", _5p_right);

  var _63_left = (__constructor.prototype = _21_, new __constructor());

  _63_left.key = "nd43";
  _63_left.shape = null;
  _63_left.text = null;
  _63_left.colour = null;
  _63_left.name = void 0;
  _63_left.graph = _6_graph;
  _63_left.group = null;
  _63_left.width = null;
  _63_left.height = null;
  var _64_ = [];
  _63_left.links = _64_;
  var _65_ = [];
  _63_left.nodes = _65_;
  _63_left.prin = _4f_node;
  var _66_newAuxs = [_4k_fromNode,,];
  _66_newAuxs.length = 1;
  _63_left.auxs = _66_newAuxs;

  _9_.set("nd43", _63_left);

  var _69_left = (__constructor.prototype = _21_, new __constructor());

  _69_left.key = "nd46";
  _69_left.shape = null;
  _69_left.text = null;
  _69_left.colour = null;
  _69_left.name = void 0;
  _69_left.graph = _6_graph;
  _69_left.group = null;
  _69_left.width = null;
  _69_left.height = null;
  var _6A_ = [];
  _69_left.links = _6A_;
  var _6B_ = [];
  _69_left.nodes = _6B_;

  var _6C_toNode = (__constructor.prototype = _5Q_, new __constructor());

  _6C_toNode.key = "nd45";
  _6C_toNode.shape = null;
  _6C_toNode.text = "V";
  _6C_toNode.colour = "cyan";
  _6C_toNode.name = "y";
  _6C_toNode.graph = _6_graph;
  _6C_toNode.group = _5d__95node;
  _6C_toNode.width = ".3";
  _6C_toNode.height = ".3";
  var _6I_ = [,,];
  _6I_.length = 0;
  _6C_toNode.links = _6I_;
  _69_left.prin = _6C_toNode;
  var _6K_ = [_6C_toNode];
  _69_left.auxs = _6K_;

  _9_.set("nd46", _69_left);

  var _6M_right = (__constructor.prototype = _21_, new __constructor());

  _6M_right.key = "nd48";
  _6M_right.shape = null;
  _6M_right.text = null;
  _6M_right.colour = null;
  _6M_right.name = void 0;
  _6M_right.graph = _6_graph;
  _6M_right.group = null;
  _6M_right.width = null;
  _6M_right.height = null;
  var _6N_ = [];
  _6M_right.links = _6N_;
  var _6O_ = [];
  _6M_right.nodes = _6O_;

  var _6P_toNode = (__constructor.prototype = _5Q_, new __constructor());

  _6P_toNode.key = "nd47";
  _6P_toNode.shape = null;
  _6P_toNode.text = "V";
  _6P_toNode.colour = "cyan";
  _6P_toNode.name = "y";
  _6P_toNode.graph = _6_graph;
  _6P_toNode.group = _5d__95node;
  _6P_toNode.width = ".3";
  _6P_toNode.height = ".3";
  var _6W_ = [,,];
  _6W_.length = 0;
  _6P_toNode.links = _6W_;
  _6M_right.prin = _6P_toNode;
  var _6Y_ = [_6P_toNode];
  _6M_right.auxs = _6Y_;

  _9_.set("nd48", _6M_right);

  var _6a_right = (__constructor.prototype = _21_, new __constructor());

  _6a_right.key = "nd50";
  _6a_right.shape = null;
  _6a_right.text = null;
  _6a_right.colour = null;
  _6a_right.name = void 0;
  _6a_right.graph = _6_graph;
  _6a_right.group = null;
  _6a_right.width = null;
  _6a_right.height = null;
  var _6b_ = [];
  _6a_right.links = _6b_;
  var _6c_ = [];
  _6a_right.nodes = _6c_;
  _6a_right.prin = _4s_node;
  var _6d_newAuxs = [_4x_otherNode,,];
  _6d_newAuxs.length = 1;
  _6a_right.auxs = _6d_newAuxs;

  _9_.set("nd50", _6a_right);

  var _6g_term = (__constructor.prototype = _21_, new __constructor());

  _6g_term.key = "nd51";
  _6g_term.shape = null;
  _6g_term.text = null;
  _6g_term.colour = null;
  _6g_term.name = void 0;
  _6g_term.graph = _6_graph;
  _6g_term.group = null;
  _6g_term.width = null;
  _6g_term.height = null;
  var _6h_ = [];
  _6g_term.links = _6h_;
  var _6i_ = [];
  _6g_term.nodes = _6i_;
  _6g_term.prin = _4Z_node;
  var _6j_newAuxs = [_4k_fromNode, _4x_otherNode];
  _6g_term.auxs = _6j_newAuxs;

  _9_.set("nd51", _6g_term);

  var _6l_term = (__constructor.prototype = _21_, new __constructor());

  _6l_term.key = "nd53";
  _6l_term.shape = null;
  _6l_term.text = null;
  _6l_term.colour = null;
  _6l_term.name = void 0;
  _6l_term.graph = _6_graph;
  _6l_term.group = null;
  _6l_term.width = null;
  _6l_term.height = null;
  var _6m_ = [];
  _6l_term.links = _6m_;
  var _6n_ = [];
  _6l_term.nodes = _6n_;

  var _6o_fromNode = (__constructor.prototype = _1x_, new __constructor());

  _6o_fromNode.key = "nd34";
  _6o_fromNode.shape = null;
  _6o_fromNode.text = "!";
  _6o_fromNode.colour = "cyan";
  _6o_fromNode.name = void 0;
  _6o_fromNode.graph = _6_graph;
  _6o_fromNode.group = _B_;
  _6o_fromNode.width = ".3";
  _6o_fromNode.height = ".3";
  var _6u_ = [,,];
  _6u_.length = 0;
  _6o_fromNode.links = _6u_;
  _6l_term.prin = _6o_fromNode;
  var _6w_newPaxs = [,];
  _6w_newPaxs.length = 0;
  _6l_term.auxs = _6w_newPaxs;

  _9_.set("nd53", _6l_term);

  var _6z_left = (__constructor.prototype = _21_, new __constructor());

  _6z_left.key = "nd54";
  _6z_left.shape = null;
  _6z_left.text = null;
  _6z_left.colour = null;
  _6z_left.name = void 0;
  _6z_left.graph = _6_graph;
  _6z_left.group = null;
  _6z_left.width = null;
  _6z_left.height = null;
  var _70_ = [];
  _6z_left.links = _70_;
  var _71_ = [];
  _6z_left.nodes = _71_;

  var _72_fromNode = (__constructor.prototype = _1x_, new __constructor());

  _72_fromNode.key = "nd30";
  _72_fromNode.shape = null;
  _72_fromNode.text = "!";
  _72_fromNode.colour = "cyan";
  _72_fromNode.name = void 0;
  _72_fromNode.graph = _6_graph;
  _72_fromNode.group = _B_;
  _72_fromNode.width = ".3";
  _72_fromNode.height = ".3";
  var _78_ = [,,];
  _78_.length = 0;
  _72_fromNode.links = _78_;
  _6z_left.prin = _72_fromNode;
  var _7A_newPaxs = [];
  _6z_left.auxs = _7A_newPaxs;

  _9_.set("nd54", _6z_left);

  var _7C_term = (__constructor.prototype = _21_, new __constructor());

  _7C_term.key = "nd57";
  _7C_term.shape = null;
  _7C_term.text = null;
  _7C_term.colour = null;
  _7C_term.name = void 0;
  _7C_term.graph = _6_graph;
  _7C_term.group = null;
  _7C_term.width = null;
  _7C_term.height = null;
  var _7D_ = [];
  _7C_term.links = _7D_;
  var _7E_ = [];
  _7C_term.nodes = _7E_;

  var _7F_toNode = (__constructor.prototype = _5Q_, new __constructor());

  _7F_toNode.key = "nd56";
  _7F_toNode.shape = null;
  _7F_toNode.text = "V";
  _7F_toNode.colour = "cyan";
  _7F_toNode.name = "c";
  _7F_toNode.graph = _6_graph;

  var _7K__95node = (__constructor.prototype = _1p_, new __constructor());

  _7K__95node.key = "nd4";
  _7K__95node.shape = null;
  _7K__95node.text = null;
  _7K__95node.colour = null;
  _7K__95node.name = void 0;
  _7K__95node.graph = _6_graph;
  _7K__95node.group = _B_;
  _7K__95node.width = null;
  _7K__95node.height = null;
  var _7M_ = [,,,,,,,,,,,,,,];
  _7M_.length = 0;
  _7K__95node.links = _7M_;
  var _7O_ = [,,,,,,,,,,,,,];
  _7O_.length = 0;
  _7K__95node.nodes = _7O_;
  _7F_toNode.group = _7K__95node;
  _7F_toNode.width = ".3";
  _7F_toNode.height = ".3";
  var _7S_ = [,,];
  _7S_.length = 0;
  _7F_toNode.links = _7S_;
  _7C_term.prin = _7F_toNode;
  var _7U_ = [_7F_toNode];
  _7C_term.auxs = _7U_;

  _9_.set("nd57", _7C_term);

  var _7W_right = (__constructor.prototype = _21_, new __constructor());

  _7W_right.key = "nd59";
  _7W_right.shape = null;
  _7W_right.text = null;
  _7W_right.colour = null;
  _7W_right.name = void 0;
  _7W_right.graph = _6_graph;
  _7W_right.group = null;
  _7W_right.width = null;
  _7W_right.height = null;
  var _7X_ = [];
  _7W_right.links = _7X_;
  var _7Y_ = [];
  _7W_right.nodes = _7Y_;
  _7W_right.prin = _3y_toNode;
  _7W_right.auxs = _7U_;

  _9_.set("nd59", _7W_right);

  var _7a_left = (__constructor.prototype = _21_, new __constructor());

  _7a_left.key = "nd60";
  _7a_left.shape = null;
  _7a_left.text = null;
  _7a_left.colour = null;
  _7a_left.name = void 0;
  _7a_left.graph = _6_graph;
  _7a_left.group = null;
  _7a_left.width = null;
  _7a_left.height = null;
  var _7b_ = [];
  _7a_left.links = _7b_;
  var _7c_ = [];
  _7a_left.nodes = _7c_;

  var _7d_toNode = (__constructor.prototype = _2G_, new __constructor());

  _7d_toNode.key = "nd27";
  _7d_toNode.shape = null;
  _7d_toNode.text = "@";
  _7d_toNode.colour = "yellow";
  _7d_toNode.name = void 0;
  _7d_toNode.graph = _6_graph;
  _7d_toNode.group = _B_;
  _7d_toNode.width = null;
  _7d_toNode.height = null;
  var _7h_ = [,,,];
  _7h_.length = 0;
  _7d_toNode.links = _7h_;
  _7a_left.prin = _7d_toNode;
  var _7j_newAuxs = [_7F_toNode];
  _7a_left.auxs = _7j_newAuxs;

  _9_.set("nd60", _7a_left);

  _9_.set("nd62", _44_node);

  _9_.set("nd63", _4C_node);

  var _7l_right = (__constructor.prototype = _21_, new __constructor());

  _7l_right.key = "nd66";
  _7l_right.shape = null;
  _7l_right.text = null;
  _7l_right.colour = null;
  _7l_right.name = void 0;
  _7l_right.graph = _6_graph;
  _7l_right.group = null;
  _7l_right.width = null;
  _7l_right.height = null;
  var _7m_ = [];
  _7l_right.links = _7m_;
  var _7n_ = [];
  _7l_right.nodes = _7n_;
  _7l_right.prin = _4K_toNode;
  _7l_right.auxs = _4R_;

  _9_.set("nd66", _7l_right);

  var _7p_right = (__constructor.prototype = _21_, new __constructor());

  _7p_right.key = "nd67";
  _7p_right.shape = null;
  _7p_right.text = null;
  _7p_right.colour = null;
  _7p_right.name = void 0;
  _7p_right.graph = _6_graph;
  _7p_right.group = null;
  _7p_right.width = null;
  _7p_right.height = null;
  var _7q_ = [];
  _7p_right.links = _7q_;
  var _7r_ = [];
  _7p_right.nodes = _7r_;

  var _7s_toNode = (__constructor.prototype = _2G_, new __constructor());

  _7s_toNode.key = "nd26";
  _7s_toNode.shape = null;
  _7s_toNode.text = "@";
  _7s_toNode.colour = "yellow";
  _7s_toNode.name = void 0;
  _7s_toNode.graph = _6_graph;
  _7s_toNode.group = _B_;
  _7s_toNode.width = null;
  _7s_toNode.height = null;
  var _7w_ = [,,,];
  _7w_.length = 0;
  _7s_toNode.links = _7w_;
  _7p_right.prin = _7s_toNode;
  var _7y_newAuxs = [_7F_toNode];
  _7p_right.auxs = _7y_newAuxs;

  _9_.set("nd67", _7p_right);

  var _80_term = (__constructor.prototype = _21_, new __constructor());

  _80_term.key = "nd69";
  _80_term.shape = null;
  _80_term.text = null;
  _80_term.colour = null;
  _80_term.name = void 0;
  _80_term.graph = _6_graph;
  _80_term.group = null;
  _80_term.width = null;
  _80_term.height = null;
  var _81_ = [];
  _80_term.links = _81_;
  var _82_ = [];
  _80_term.nodes = _82_;
  _80_term.prin = _2B_fromNode;
  var _83_newAuxs = [_4S_otherNode,,];
  _83_newAuxs.length = 1;
  _80_term.auxs = _83_newAuxs;

  _9_.set("nd69", _80_term);

  var _86_left = (__constructor.prototype = _21_, new __constructor());

  _86_left.key = "nd70";
  _86_left.shape = null;
  _86_left.text = null;
  _86_left.colour = null;
  _86_left.name = void 0;
  _86_left.graph = _6_graph;
  _86_left.group = null;
  _86_left.width = null;
  _86_left.height = null;
  var _87_ = [];
  _86_left.links = _87_;
  var _88_ = [];
  _86_left.nodes = _88_;

  var _89_fromNode = (__constructor.prototype = _1x_, new __constructor());

  _89_fromNode.key = "nd5";
  _89_fromNode.shape = null;
  _89_fromNode.text = "!";
  _89_fromNode.colour = "cyan";
  _89_fromNode.name = void 0;
  _89_fromNode.graph = _6_graph;
  _89_fromNode.group = _B_;
  _89_fromNode.width = ".3";
  _89_fromNode.height = ".3";
  var _8F_ = [,,];
  _8F_.length = 0;
  _89_fromNode.links = _8F_;
  _86_left.prin = _89_fromNode;
  var _8H_newPaxs = [];
  _86_left.auxs = _8H_newPaxs;

  _9_.set("nd70", _86_left);

  _9_.set("nd72", _1Y_node);

  _9_.set("nd73", _1g_node);

  var _8J_term = (__constructor.prototype = _21_, new __constructor());

  _8J_term.key = "nd76";
  _8J_term.shape = null;
  _8J_term.text = null;
  _8J_term.colour = null;
  _8J_term.name = void 0;
  _8J_term.graph = _6_graph;
  _8J_term.group = null;
  _8J_term.width = null;
  _8J_term.height = null;
  var _8K_ = [];
  _8J_term.links = _8K_;
  var _8L_ = [];
  _8J_term.nodes = _8L_;
  _8J_term.prin = _1r_node;
  _8J_term.auxs = _1z_;

  _9_.set("nd76", _8J_term);

  var _8N_right = (__constructor.prototype = _21_, new __constructor());

  _8N_right.key = "nd78";
  _8N_right.shape = null;
  _8N_right.text = null;
  _8N_right.colour = null;
  _8N_right.name = void 0;
  _8N_right.graph = _6_graph;
  _8N_right.group = null;
  _8N_right.width = null;
  _8N_right.height = null;
  var _8O_ = [];
  _8N_right.links = _8O_;
  var _8P_ = [];
  _8N_right.nodes = _8P_;

  var _8Q_toNode = (__constructor.prototype = _3T_, new __constructor());

  _8Q_toNode.key = "nd77";
  _8Q_toNode.shape = "diamond";
  _8Q_toNode.text = "";
  _8Q_toNode.colour = "indianred1";
  _8Q_toNode.name = void 0;
  _8Q_toNode.graph = _6_graph;
  _8Q_toNode.group = _B_;
  _8Q_toNode.width = ".3";
  _8Q_toNode.height = ".3";
  var _8X_ = [,,];
  _8X_.length = 0;
  _8Q_toNode.links = _8X_;
  _8N_right.prin = _8Q_toNode;
  _8N_right.auxs = _1z_;

  _9_.set("nd78", _8N_right);

  var _8a_term = (__constructor.prototype = _21_, new __constructor());

  _8a_term.key = "nd79";
  _8a_term.shape = null;
  _8a_term.text = null;
  _8a_term.colour = null;
  _8a_term.name = void 0;
  _8a_term.graph = _6_graph;
  _8a_term.group = null;
  _8a_term.width = null;
  _8a_term.height = null;
  var _8b_ = [];
  _8a_term.links = _8b_;
  var _8c_ = [];
  _8a_term.nodes = _8c_;

  var _8d_toNode = (__constructor.prototype = _2G_, new __constructor());

  _8d_toNode.key = "nd2";
  _8d_toNode.shape = null;
  _8d_toNode.text = "@";
  _8d_toNode.colour = "yellow";
  _8d_toNode.name = void 0;
  _8d_toNode.graph = _6_graph;
  _8d_toNode.group = _B_;
  _8d_toNode.width = null;
  _8d_toNode.height = null;
  var _8h_ = [,,,];
  _8h_.length = 0;
  _8d_toNode.links = _8h_;
  _8a_term.prin = _8d_toNode;
  var _8j_newAuxs = [];
  _8a_term.auxs = _8j_newAuxs;

  _9_.set("nd79", _8a_term);

  _32_.group = _2z_node;
  _2W_.group = _2T_node;
  _2b_.group = _2T_node;
  _2K_.group = _2H_node;
  _2e_.group = _2T_node;
  _2h_.group = _2T_node;
  _2O_outLink.group = _2H_node;
  _P_link.group = _B_;
  _t_link.group = _B_;
  _x_link.group = _B_;
  _10_link.group = _B_;
  _15_link.group = _B_;
  _18_link.group = _B_;
  _1C_link.group = _B_;
  _1F_nextLink.group = _B_;
  _1K_otherNextLink.group = _B_;
  _p_outLink.group = _B_;
  _47_link.group = _44_node;
  _U_link.group = _B_;
  _Y_link.group = _B_;
  _d_link.group = _B_;
  _h_link.group = _B_;
  _l_nextLink.group = _B_;
  _1b_link.group = _1Y_node;
  _F_link.group = _B_;
  _L_link.group = _B_;
  _1Q_fromNode.group = _B_;
  _2B_fromNode.group = _B_;
  _3c_node.group = _2H_node;
  _9u_Term.prototype = _21_;
  _2o_node.group = _2T_node;
  _2t_fromNode.group = _2T_node;
  _9m_BoxWrapper.prototype = _20_;
  _9W_Box.prototype = _1p_;
  _3F_node.group = _2z_node;
  _3B_node.group = _37_node;
  _3M_node.group = _2T_node;
  _3U_node.group = _2T_node;
  _3i_node.group = _2H_node;
  _3r_node.group = _B_;
  _4Z_node.group = _B_;
  _4f_node.group = _B_;
  _4k_fromNode.group = _B_;
  _4s_node.group = _B_;
  _4x_otherNode.group = _B_;
  _3y_toNode.group = _B_;
  _4K_toNode.group = _44_node;
  _4G_node.group = _4C_node;
  _4S_otherNode.group = _B_;
  _1r_node.group = _1Y_node;
  _1k_node.group = _1g_node;
  _22_toNode.group = _B_;
  _28_toNode.group = _B_;
  _9Y_Group.prototype = _1q_;

  _$6_Object_46setPrototypeOf(_9Y_Group, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ac_, _$5_Object_46defineProperty(_8m_, "clear", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ad_, _$5_Object_46defineProperty(_8m_, "addNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ae_, _$5_Object_46defineProperty(_8m_, "removeNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Af_, _$5_Object_46defineProperty(_8m_, "findNodeByKey", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ag_, _$5_Object_46defineProperty(_8m_, "addLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ah_, _$5_Object_46defineProperty(_8m_, "removeLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Bd_, _$5_Object_46defineProperty(_Am_MachineToken, "CompData", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Be_, _$5_Object_46defineProperty(_Am_MachineToken, "RewriteFlag", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Aj_, _$5_Object_46defineProperty(_8u_, "setLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ak_, _$5_Object_46defineProperty(_8u_, "reset", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Al_, _$5_Object_46defineProperty(_8u_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _An_, _$5_Object_46defineProperty(_8w_, "collect", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ao_, _$5_Object_46defineProperty(_8w_, "collectInGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _CZ_ = (__constructor.prototype = _1y_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _CY_Recur, _$5_Object_46defineProperty(_CZ_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DO_, _$5_Object_46defineProperty(_CZ_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DP_, _$5_Object_46defineProperty(_CZ_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DQ_, _$5_Object_46defineProperty(_CZ_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _CY_Recur.prototype = _CZ_;

  _$6_Object_46setPrototypeOf(_CY_Recur, _9i_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ap_, _$5_Object_46defineProperty(_8w_, "collectFromBottom", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ar_, _$5_Object_46defineProperty(_92_, "isPlay", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _As_, _$5_Object_46defineProperty(_92_, "setPlay", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _At_, _$5_Object_46defineProperty(_92_, "isPlaying", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Au_, _$5_Object_46defineProperty(_92_, "setPlaying", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Av_, _$5_Object_46defineProperty(_92_, "isFinished", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Aw_, _$5_Object_46defineProperty(_92_, "setFinished", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _D2_, _$5_Object_46defineProperty(_CG_, "_nextChar", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _EP_Token.EOF = "EOF";
  _EP_Token.LAMBDA = "LAMBDA";
  _EP_Token.LPAREN = "LPAREN";
  _EP_Token.RPAREN = "RPAREN";
  _EP_Token.CLPAREN = "CLPAREN";
  _EP_Token.CRPAREN = "CRPAREN";
  _EP_Token.LCID = "LCID";
  _EP_Token.DOT = "DOT";
  _EP_Token.COMMA = "COMMA";
  _EP_Token.APP = "APP";
  _EP_Token.LET = "LET";
  _EP_Token.DEFINE = "DEFINE";
  _EP_Token.IN = "IN";
  _EP_Token.REC = "REC";
  _EP_Token.INT = "INT";
  _EP_Token.TRUE = "TRUE";
  _EP_Token.FALSE = "FALSE";
  _EP_Token.NOT = "NOT";
  _EP_Token.AND = "AND";
  _EP_Token.OR = "OR";
  _EP_Token.PLUS = "PLUS";
  _EP_Token.SUB = "SUB";
  _EP_Token.MULT = "MULT";
  _EP_Token.DIV = "DIV";
  _EP_Token.LTE = "LTE";
  _EP_Token.IF = "IF";
  _EP_Token.THEN = "THEN";
  _EP_Token.ELSE = "ELSE";
  _EP_Token.SET = "SET";
  _EP_Token.CHANGE = "CHANGE";
  _EP_Token.TO = "TO";
  _EP_Token.PROP = "PROP";
  _EP_Token.DEP = "DEP";
  _EP_Token.DEREF = "DEREF";
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _D3_, _$5_Object_46defineProperty(_CG_, "_nextToken", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _D4_, _$5_Object_46defineProperty(_CG_, "token", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _D5_, _$5_Object_46defineProperty(_CG_, "lookahead", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _D6_, _$5_Object_46defineProperty(_CG_, "fail", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _D7_, _$5_Object_46defineProperty(_CG_, "next", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _D8_, _$5_Object_46defineProperty(_CG_, "match", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _D9_, _$5_Object_46defineProperty(_CG_, "skip", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DA_, _$5_Object_46defineProperty(_CI_, "parse", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DB_, _$5_Object_46defineProperty(_CI_, "term", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DC_, _$5_Object_46defineProperty(_CI_, "isBinaryOp", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _CP_ = (__constructor.prototype = _CQ_, new __constructor());

  _CR_UnaryOp.prototype = _CP_;

  _$6_Object_46setPrototypeOf(_CR_UnaryOp, _DG_Operation);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _CR_UnaryOp, _$5_Object_46defineProperty(_CP_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _CO_ = (__constructor.prototype = _CP_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _CN_BinaryOp, _$5_Object_46defineProperty(_CO_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _CN_BinaryOp.prototype = _CO_;

  _$6_Object_46setPrototypeOf(_CN_BinaryOp, _CR_UnaryOp);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DD_, _$5_Object_46defineProperty(_CI_, "parseBinop", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DE_, _$5_Object_46defineProperty(_CI_, "application", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _Dp_UnOpType = {
    Not: 0
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DF_, _$5_Object_46defineProperty(_CI_, "atom", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ax_, _$5_Object_46defineProperty(_92_, "compile", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _CT_ = (__constructor.prototype = _1X_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _CS_UnOp, _$5_Object_46defineProperty(_CT_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DH_, _$5_Object_46defineProperty(_CT_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DI_, _$5_Object_46defineProperty(_CT_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DJ_, _$5_Object_46defineProperty(_CT_, "unOpApply", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DK_, _$5_Object_46defineProperty(_CT_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _CS_UnOp.prototype = _CT_;

  _$6_Object_46setPrototypeOf(_CS_UnOp, _9S_Node);

  var _CW_ = (__constructor.prototype = _1X_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _CV_If, _$5_Object_46defineProperty(_CW_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DL_, _$5_Object_46defineProperty(_CW_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DM_, _$5_Object_46defineProperty(_CW_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DN_, _$5_Object_46defineProperty(_CW_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _CV_If.prototype = _CW_;

  _$6_Object_46setPrototypeOf(_CV_If, _9S_Node);

  var _Cd_ = (__constructor.prototype = _1X_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Cc_Dep, _$5_Object_46defineProperty(_Cd_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DR_, _$5_Object_46defineProperty(_Cd_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DS_, _$5_Object_46defineProperty(_Cd_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DT_, _$5_Object_46defineProperty(_Cd_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Cc_Dep.prototype = _Cd_;

  _$6_Object_46setPrototypeOf(_Cc_Dep, _9S_Node);

  var _Ci_ = (__constructor.prototype = _1X_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ch_Set, _$5_Object_46defineProperty(_Ci_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DU_, _$5_Object_46defineProperty(_Ci_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DV_, _$5_Object_46defineProperty(_Ci_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DW_, _$5_Object_46defineProperty(_Ci_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Ch_Set.prototype = _Ci_;

  _$6_Object_46setPrototypeOf(_Ch_Set, _9S_Node);

  var _Cl_ = (__constructor.prototype = _1X_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ck_Prop, _$5_Object_46defineProperty(_Cl_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DX_, _$5_Object_46defineProperty(_Cl_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DY_, _$5_Object_46defineProperty(_Cl_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _DZ_, _$5_Object_46defineProperty(_Cl_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Ck_Prop.prototype = _Cl_;

  _$6_Object_46setPrototypeOf(_Ck_Prop, _9S_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ay_, _$5_Object_46defineProperty(_92_, "toGraph", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Az_, _$5_Object_46defineProperty(_92_, "deleteVarNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _B0_, _$5_Object_46defineProperty(_92_, "startPropagation", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _B1_, _$5_Object_46defineProperty(_92_, "shuffle", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _B2_, _$5_Object_46defineProperty(_92_, "batchPass", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _B3_, _$5_Object_46defineProperty(_92_, "pass", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _B4_, _$5_Object_46defineProperty(_92_, "tokenPass", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _B5_, _$5_Object_46defineProperty(_92_, "getData", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _5_ = (__constructor.prototype = _92_, new __constructor());

  _5_.graph = _6_graph;

  var _8n_ = (__constructor.prototype = _8u_, new __constructor());

  _8n_.machine = _5_;
  _8n_.forward = true;
  _8n_.rewrite = true;
  _8n_.transited = true;
  _8n_.link = _1F_nextLink;
  _8n_.rewriteFlag = "\u25A1";
  var _8p_ = ["*", "*",,,];
  _8p_.length = 2;
  _8n_.dataStack = _8p_;
  var _8s_ = [,];
  _8s_.length = 0;
  _8n_.boxStack = _8s_;
  _8n_.isMain = true;
  _5_.token = _8n_;

  var _8v_ = (__constructor.prototype = _8w_, new __constructor());

  _8v_.graph = _6_graph;
  _8v_.noMore = false;
  _5_.gc = _8v_;
  _5_.count = 0;
  var _8y_ = [];
  _5_.evalTokens = _8y_;
  var _8z_ = ["nd80"];
  _5_.cells = _8z_;
  _5_.evaluating = false;

  var _90_ = new _$4_Map();

  _5_.newValues = _90_;
  _5_.hasUpdate = false;
  _5_.play = true;
  _5_.playing = true;
  _5_.finished = false;
  _5_.readyEvalTokens = 0;
  _6_graph.machine = _5_;
  var _B7_ = _$1_global;
  var _B8_ = console;

  var _Bf_ = (err, result) => {
    if (err) {
      throw err;
    }

    console.log(result);
    module.exports = result;
  };

  var _$0_derived = _$9_global_46setTimeout(_1_, 0);
}).call(global);