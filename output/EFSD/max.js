(function () {
  var __get_scope_binding_0_get_95scope_95binding = function (__selector) {
    var __captured;

    switch (__selector) {
      case 0:
        __captured = [200];
        break;

      case 1:
        __captured = [_Hd__95get, _Hd__95get];
        break;

      case 2:
        __captured = [_J6__95typeof, _J6__95typeof, _Hh__95get, _Hh__95get];
        break;

      case 3:
        __captured = [_J0__95typeof, _J0__95typeof];
        break;

      case 4:
        __captured = [_J1__95typeof, _J1__95typeof];
        break;

      case 5:
        __captured = [_Ku__95typeof, _Ku__95typeof, _KT__95getPrototypeOf, _KT__95getPrototypeOf];
        break;

      case 6:
        __captured = [_Kw__95typeof, _Kw__95typeof, _KV__95getPrototypeOf, _KV__95getPrototypeOf];
        break;

      case 7:
        __captured = [_Ky__95typeof, _Ky__95typeof, _KX__95getPrototypeOf, _KX__95getPrototypeOf];
        break;

      case 8:
        __captured = [_L0__95typeof, _L0__95typeof, _KZ__95getPrototypeOf, _KZ__95getPrototypeOf];
        break;

      case 9:
        __captured = [_JU__95typeof, _JU__95typeof];
        break;

      case 10:
        __captured = [_JV__95typeof, _JV__95typeof];
        break;

      case 11:
        __captured = [_Jc__95typeof, _Jc__95typeof];
        break;

      case 12:
        __captured = [_Jd__95typeof, _Jd__95typeof];
        break;

      case 13:
        __captured = [_Jf__95typeof, _Jf__95typeof];
        break;

      case 14:
        __captured = [_Jg__95typeof, _Jg__95typeof];
        break;

      case 15:
        __captured = [_Jl__95typeof, _Jl__95typeof];
        break;

      case 16:
        __captured = [_Jm__95typeof, _Jm__95typeof];
        break;

      case 17:
        __captured = [_Jo__95typeof, _Jo__95typeof];
        break;

      case 18:
        __captured = [_Kq__95typeof, _Kq__95typeof];
        break;

      case 19:
        __captured = [_Kt__95typeof, _Kt__95typeof];
        break;
    }

    __scope_0_main[__selector] = __captured;
    return __captured;
  };

  var __scope_0_main = new Array(20);

  var $$0_enumerable_58false_44configurable_58true_44writable_58true = {
    enumerable: false,
    configurable: true,
    writable: true
  };

  var _$1_global = this;

  var _$2_Object = _$1_global.Object;
  var _$3_Object_46getPrototypeOf = _$2_Object.getPrototypeOf;
  var _$4_Map = _$1_global.Map;
  var _$5_Object_46defineProperty = _$2_Object.defineProperty;
  var _$6_Object_46setPrototypeOf = _$2_Object.setPrototypeOf;
  var _$7_Reflect = _$1_global.Reflect;
  var _$8_Reflect_46get = _$7_Reflect.get;
  var _$9_global_46setTimeout = _$1_global.setTimeout;

  var _IE__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _JB__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Hq_Abstraction = function (param, body) {
    _JB__95classCallCheck(this, _Hq_Abstraction);

    this.param = param;
    this.body = body;
  };

  var _JC__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Hr_Application = function (lhs, rhs) {
    _JC__95classCallCheck(this, _Hr_Application);

    this.lhs = lhs;
    this.rhs = rhs;
  };

  var _JA__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Hp_Identifier = function (value, name) {
    _JA__95classCallCheck(this, _Hp_Identifier);

    this.value = value;
    this.name = name;
  };

  var _JD__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Hs_Constant = function (value) {
    _JD__95classCallCheck(this, _Hs_Constant);

    this.value = value;
  };

  var _KP__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Im_Operation = function (type, name) {
    _KP__95classCallCheck(this, _Im_Operation);

    this.type = type;
    this.name = name;
  };

  var _Hw_ = _Im_Operation.prototype;

  var _Kt__95typeof = function (obj) {
    var __captured__scope_K_ = __scope_0_main[19] || __get_scope_binding_0_get_95scope_95binding(19);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_K_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_K_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_K_[1](obj);
  };

  var _JF__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KR__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_K_ = __scope_0_main[19] || __get_scope_binding_0_get_95scope_95binding(19);

    if (call && (__captured__scope_K_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _L4__95assertThisInitialized(self);
  };

  var _L4__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hx_UnaryOp = function (type, name, v1) {
    var _this;

    _JF__95classCallCheck(this, _Hx_UnaryOp);

    _this = _KR__95possibleConstructorReturn(this, _HH_(_Hx_UnaryOp).call(this, type, name));
    _this.v1 = v1;
    return _this;
  };

  var _JE__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KQ__95possibleConstructorReturn = function (self, call) {
    if (call && (_Ks_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _L3__95assertThisInitialized(self);
  };

  var _L3__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Ht_BinaryOp = function (type, name, v1, v2) {
    var _this;

    _JE__95classCallCheck(this, _Ht_BinaryOp);

    _this = _KQ__95possibleConstructorReturn(this, _HH_(_Ht_BinaryOp).call(this, type, name, v1));
    _this.v2 = v2;
    return _this;
  };

  var _JJ__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _I0_IfThenElse = function (cond, t1, t2) {
    _JJ__95classCallCheck(this, _I0_IfThenElse);

    this.cond = cond;
    this.t1 = t1;
    this.t2 = t2;
  };

  var _JK__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _I1_Recursion = function (param, body) {
    _JK__95classCallCheck(this, _I1_Recursion);

    this.param = param;
    this.body = body;
  };

  var _JM__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _I4_ProvisionalConstant = function (term) {
    _JM__95classCallCheck(this, _I4_ProvisionalConstant);

    this.term = term;
  };

  var _JQ__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _I9_Change = function (param, body) {
    _JQ__95classCallCheck(this, _I9_Change);

    this.param = param;
    this.body = body;
  };

  var _JR__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IA_Assign = function (param, body) {
    _JR__95classCallCheck(this, _IA_Assign);

    this.param = param;
    this.body = body;
  };

  var _JT__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _ID_Propagation = function () {
    _JT__95classCallCheck(this, _ID_Propagation);
  };

  var _JN__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _I5_Deprecation = function (term) {
    _JN__95classCallCheck(this, _I5_Deprecation);

    this.term = term;
  };

  var _JP__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _I8_Dereference = function (term) {
    _JP__95classCallCheck(this, _I8_Dereference);

    this.term = term;
  };

  var _J8__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Kr__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Jq_Token = function (type, value, pred) {
    _Kr__95classCallCheck(this, _Jq_Token);

    this.type = type;
    this.value = value;
    this.pred = pred;
  };

  var _Hl_Lexer = function (input) {
    _J8__95classCallCheck(this, _Hl_Lexer);

    this._input = input;
    this._index = 0;
    this._token = undefined;

    this._nextToken();
  };

  var _Hm_ = _Hl_Lexer.prototype;

  var _IY_ = function () {
    if (this._index >= this._input.length) {
      return '\0';
    }

    return this._input[this._index++];
  };

  var _IZ_ = function () {
    var c;

    do {
      c = this._nextChar();
    } while (/\s/.test(c));

    switch (c) {
      case 'λ':
      case '\\':
        this._token = new _Jq_Token(_Jq_Token.LAMBDA);
        break;

      case '.':
        this._token = new _Jq_Token(_Jq_Token.DOT);
        break;

      case ',':
        this._token = new _Jq_Token(_Jq_Token.COMMA);
        break;

      case ';':
        this._token = new _Jq_Token(_Jq_Token.SEQ);
        break;

      case '(':
        this._token = new _Jq_Token(_Jq_Token.LPAREN);
        break;

      case ')':
        this._token = new _Jq_Token(_Jq_Token.RPAREN);
        break;

      case '{':
        this._token = new _Jq_Token(_Jq_Token.CLPAREN);
        break;

      case '}':
        this._token = new _Jq_Token(_Jq_Token.CRPAREN);
        break;

      case '\0':
        this._token = new _Jq_Token(_Jq_Token.EOF);
        break;

      case '~':
        this._token = new _Jq_Token(_Jq_Token.NOT);
        break;

      case '&':
        if (this._nextChar() == '&') this._token = new _Jq_Token(_Jq_Token.AND, null, 5);else {
          this._index--;
          this.fail();
        }
        break;

      case '|':
        var c2 = this._nextChar();

        if (c2 == '|') this._token = new _Jq_Token(_Jq_Token.OR, null, 4);else {
          this._index--;
          this.fail();
        }
        break;

      case '+':
        this._token = new _Jq_Token(_Jq_Token.PLUS, null, 12);
        break;

      case '-':
        this._token = new _Jq_Token(_Jq_Token.SUB, null, 12);
        break;

      case '*':
        this._token = new _Jq_Token(_Jq_Token.MULT, null, 13);
        break;

      case '/':
        this._token = new _Jq_Token(_Jq_Token.DIV, null, 13);
        break;

      case '<':
        if (this._nextChar() == '=') this._token = new _Jq_Token(_Jq_Token.LTE, null, 10);else {
          this._index--;
          this.fail();
        }
        break;

      case '=':
        this._token = new _Jq_Token(_Jq_Token.DEFINE);
        break;

      default:
        // text for string
        if (/[a-z]|_|'/.test(c)) {
          var str = '';

          do {
            str += c;
            c = this._nextChar();
          } while (/[a-zA-Z]|'|_|[0-9]/.test(c)); // put back the last char which is not part of the identifier


          this._index--;
          if (str == "let") this._token = new _Jq_Token(_Jq_Token.LET);else if (str == "in") this._token = new _Jq_Token(_Jq_Token.IN);else if (str == "rec") this._token = new _Jq_Token(_Jq_Token.REC);else if (str == "true") this._token = new _Jq_Token(_Jq_Token.TRUE);else if (str == "false") this._token = new _Jq_Token(_Jq_Token.FALSE);else if (str == "if") this._token = new _Jq_Token(_Jq_Token.IF);else if (str == "then") this._token = new _Jq_Token(_Jq_Token.THEN);else if (str == "else") this._token = new _Jq_Token(_Jq_Token.ELSE);else if (str == "link") this._token = new _Jq_Token(_Jq_Token.CHANGE);else if (str == "set") this._token = new _Jq_Token(_Jq_Token.SET);else if (str == "to") this._token = new _Jq_Token(_Jq_Token.TO);else if (str == "step") this._token = new _Jq_Token(_Jq_Token.PROP);else if (str == "peek") this._token = new _Jq_Token(_Jq_Token.DEP);else if (str == "deref") this._token = new _Jq_Token(_Jq_Token.DEREF);else this._token = new _Jq_Token(_Jq_Token.LCID, str);
        } // text for numbers
        else if (/[0-9]/.test(c)) {
            var _str = '';

            do {
              _str += c;
              c = this._nextChar();
            } while (/[0-9]/.test(c));

            if (c == '.') {
              do {
                _str += c;
                c = this._nextChar();
              } while (/[0-9]/.test(c));
            } // put back the last char which is not part of the identifier


            this._index--;
            this._token = new _Jq_Token(_Jq_Token.INT, parseFloat(_str));
          } else {
            this.fail();
          }

    }
  };

  var _Ia_ = function (type) {
    if (!type) {
      return this._token.value;
    }

    var token = this._token;
    this.match(type);
    return token.value;
  };

  var _Ib_ = function () {
    return this._token;
  };

  var _Ic_ = function () {
    throw new Error("Unexpected token at offset ".concat(this._index));
  };

  var _Id_ = function (type) {
    return this._token.type == type;
  };

  var _Ie_ = function (type) {
    if (this.next(type)) {
      this._nextToken();

      return;
    }

    console.error("".concat(this._index, ": Invalid token: Expected '").concat(type, "' found '").concat(this._token.type, "'"));
    throw new Error('Parse Error');
  };

  var _If_ = function (type) {
    if (this.next(type)) {
      this._nextToken();

      return true;
    }

    return false;
  };

  var _J9__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Hn_Parser = function (lexer) {
    _J9__95classCallCheck(this, _Hn_Parser);

    this.lexer = lexer;
  };

  var _Ho_ = _Hn_Parser.prototype;

  var _Ig_ = function () {
    var result = this.term([]); // make sure we consumed all the program, otherwise there was a syntax error

    this.lexer.match(_Jq_Token.EOF);
    return result;
  };

  var _Ih_ = function (ctx) {
    if (this.lexer.skip(_Jq_Token.LAMBDA)) {
      var id = this.lexer.token(_Jq_Token.LCID);
      this.lexer.match(_Jq_Token.DOT);
      var term = this.term([id].concat(ctx));
      return new _Hq_Abstraction(id, term);
    } else if (this.lexer.skip(_Jq_Token.LET)) {
      var _id = this.lexer.token(_Jq_Token.LCID);

      this.lexer.match(_Jq_Token.DEFINE);
      var N = this.term(ctx);
      this.lexer.match(_Jq_Token.IN);
      var M = this.term([_id].concat(ctx));
      return new _Hr_Application(new _Hq_Abstraction(_id, M), N);
    } else if (this.lexer.skip(_Jq_Token.REC)) {
      var _id2 = this.lexer.token(_Jq_Token.LCID);

      this.lexer.match(_Jq_Token.DOT);

      var _term = this.term([_id2].concat(ctx));

      return new _I1_Recursion(_id2, _term);
    } else if (this.lexer.skip(_Jq_Token.IF)) {
      var cond = this.term(ctx);
      this.lexer.match(_Jq_Token.THEN);
      var t1 = this.term(ctx);
      this.lexer.match(_Jq_Token.ELSE);
      var t2 = this.term(ctx);
      return new _I0_IfThenElse(cond, t1, t2);
    } else {
      return this.application(ctx);
    }
  };

  var _Ii_ = function (token) {
    return token.type == _Jq_Token.AND || token.type == _Jq_Token.OR || token.type == _Jq_Token.PLUS || token.type == _Jq_Token.SUB || token.type == _Jq_Token.MULT || token.type == _Jq_Token.DIV || token.type == _Jq_Token.LTE;
  };

  var _Ij_ = function (ctx, lhs, pred) {
    var nextToken = this.lexer.lookahead();

    while (this.isBinaryOp(nextToken) && nextToken.pred >= pred) {
      var op = nextToken;

      this.lexer._nextToken();

      var rhs = this.atom(ctx); //var rhs = this.term(ctx);

      nextToken = this.lexer.lookahead();

      while (this.isBinaryOp(nextToken) && nextToken.pred > op.pred) {
        rhs = this.parseBinop(ctx, rhs, nextToken.pred);
        nextToken = this.lexer.lookahead();
      }

      if (op.type == _Jq_Token.AND) {
        lhs = new _Ht_BinaryOp(_Gz_BinOpType.And, "&&", lhs, rhs);
      } else if (op.type == _Jq_Token.OR) {
        lhs = new _Ht_BinaryOp(_Gz_BinOpType.Or, "||", lhs, rhs);
      } else if (op.type == _Jq_Token.PLUS) {
        lhs = new _Ht_BinaryOp(_Gz_BinOpType.Plus, "+", lhs, rhs);
      } else if (op.type == _Jq_Token.SUB) {
        lhs = new _Ht_BinaryOp(_Gz_BinOpType.Sub, "-", lhs, rhs);
      } else if (op.type == _Jq_Token.MULT) {
        lhs = new _Ht_BinaryOp(_Gz_BinOpType.Mult, "*", lhs, rhs);
      } else if (op.type == _Jq_Token.DIV) {
        lhs = new _Ht_BinaryOp(_Gz_BinOpType.Div, "/", lhs, rhs);
      } else if (op.type == _Jq_Token.LTE) {
        lhs = new _Ht_BinaryOp(_Gz_BinOpType.Lte, "<=", lhs, rhs);
      }
    }

    return lhs;
  };

  var _Ik_ = function (ctx) {
    var lhs = this.atom(ctx);

    while (true) {
      var rhs;

      if (this.isBinaryOp(this.lexer.lookahead())) {
        lhs = this.parseBinop(ctx, lhs, 0);
      } else {
        rhs = this.atom(ctx);

        if (!rhs) {
          return lhs;
        } else {
          lhs = new _Hr_Application(lhs, rhs);
        }
      }
    }
  };

  var _Il_ = function (ctx) {
    if (this.lexer.skip(_Jq_Token.LPAREN)) {
      var _term2 = this.term(ctx);

      this.lexer.match(_Jq_Token.RPAREN);
      return _term2;
    } else if (this.lexer.next(_Jq_Token.LCID)) {
      var id = this.lexer.token(_Jq_Token.LCID);
      return new _Hp_Identifier(ctx.indexOf(id), id);
    } else if (this.lexer.next(_Jq_Token.INT)) {
      var n = this.lexer.token(_Jq_Token.INT);
      return new _Hs_Constant(n);
    } else if (this.lexer.skip(_Jq_Token.TRUE)) {
      return new _Hs_Constant(true);
    } else if (this.lexer.skip(_Jq_Token.FALSE)) {
      return new _Hs_Constant(false);
    } else if (this.lexer.skip(_Jq_Token.NOT)) {
      var _term3 = this.term(ctx);

      return new _Hx_UnaryOp(_JG_UnOpType.Not, "~", _term3);
    } else if (this.lexer.skip(_Jq_Token.PROP)) {
      return new _ID_Propagation();
    } else if (this.lexer.skip(_Jq_Token.DEP)) {
      var term = this.term(ctx);
      return new _I5_Deprecation(term);
    } else if (this.lexer.skip(_Jq_Token.DEREF)) {
      var term = this.term(ctx);
      return new _I8_Dereference(term);
    } else if (this.lexer.skip(_Jq_Token.CLPAREN)) {
      var term = this.term(ctx);
      this.lexer.match(_Jq_Token.CRPAREN);
      return new _I4_ProvisionalConstant(term);
    } else if (this.lexer.skip(_Jq_Token.CHANGE)) {
      var _id3 = this.lexer.token(_Jq_Token.LCID);

      this.lexer.match(_Jq_Token.TO);

      var _term4 = this.term(ctx);

      return new _I9_Change(_id3, _term4);
    } else if (this.lexer.skip(_Jq_Token.SET)) {
      var _id4 = this.lexer.token(_Jq_Token.LCID);

      this.lexer.match(_Jq_Token.TO);

      var _term5 = this.term(ctx);

      return new _IA_Assign(_id4, _term5);
    } else {
      return undefined;
    }
  };

  var _Hj__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _GH_MachineToken = function (machine) {
    _Hj__95classCallCheck(this, _GH_MachineToken);

    this.machine = machine;
    this.reset();
  };

  var _EK_ = _GH_MachineToken.prototype;

  var _H6_ = function () {
    return _Ge_CompData;
  };

  var _H7_ = function () {
    return _Gk_RewriteFlag;
  };

  var _GE_ = function (link) {
    if (this.link != null) {
      //this.link.tokens.splice(this.link.tokens.indexOf(this), 1);
      this.link.clearFocus();
    }

    this.link = link;

    if (this.link != null) {
      //this.link.tokens.push(this);
      if (this.isMain) this.link.focus("red");else this.link.focus("green");
    }
  };

  var _GF_ = function () {
    this.forward = true;
    this.rewrite = false;
    this.transited = false;
    this.link = null;
    this.rewriteFlag = _Gk_RewriteFlag.EMPTY;
    this.dataStack = [_Ge_CompData.PROMPT];
    this.boxStack = [];
  };

  var _GG_ = function () {
    this.setLink(null);
    this.machine.evalTokens.splice(this.machine.evalTokens.indexOf(this), 1);
  };

  var _H9__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _HA_isNumber = function (n) {
    return !isNaN(parseFloat(n)) && isFinite(n);
  };

  var _Ef_Link = function (from, to, fromPort, toPort, reverse) {
    _H9__95classCallCheck(this, _Ef_Link);

    this.from = from;
    this.to = to;
    this.fromPort = fromPort;
    this.toPort = toPort;
    this.reverse = reverse;
    this.colour = null;
    this.penWidth = null;
    this.addToGraph(_Gd_.graph); // cheating

    this.addToNode(); // cheating
  };

  var _M_ = _Ef_Link.prototype;

  var _EV_ = function () {
    var fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.push(this);
    var toNode = this.graph.findNodeByKey(this.to);
    toNode.links.push(this);
  };

  var _EW_ = function (graph) {
    if (graph != null) graph.addLink(this);
    this.graph = graph;
    return this; // to provide chain operation
  };

  var _EX_ = function (group) {
    group.addLink(this);
    this.group = group;
    return this; // to provide chain operation
  };

  var _EY_ = function (group) {
    this.group.removeLink(this);
    this.addToGroup(group);
    return this;
  };

  var _EZ_ = function (key, port) {
    var fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.splice(fromNode.links.indexOf(this), 1);
    this.from = key;
    this.fromPort = port;
    fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.push(this);
  };

  var _Ea_ = function (key, port) {
    var toNode = this.graph.findNodeByKey(this.to);
    toNode.links.splice(toNode.links.indexOf(this), 1);
    this.to = key;
    this.toPort = port;
    toNode = this.graph.findNodeByKey(this.to);
    toNode.links.push(this);
  };

  var _Eb_ = function (colour) {
    this.colour = colour;
    this.penWidth = "20";
  };

  var _Ec_ = function () {
    this.colour = null;
    this.penWidth = null;
  };

  var _Ed_ = function () {
    var fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.splice(fromNode.links.indexOf(this), 1);
    var toNode = this.graph.findNodeByKey(this.to);
    toNode.links.splice(toNode.links.indexOf(this), 1);
    this.group.removeLink(this);
    this.graph.removeLink(this);
  };

  var _Ee_ = function () {
    return this.from + "->" + this.to;
  };

  var _Hi__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _J0__95typeof = function (obj) {
    var __captured__scope_4_ = __scope_0_main[3] || __get_scope_binding_0_get_95scope_95binding(3);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_4_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_4_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_4_[1](obj);
  };

  var _HF__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _HG__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_4_ = __scope_0_main[3] || __get_scope_binding_0_get_95scope_95binding(3);

    if (call && (__captured__scope_4_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _JX__95assertThisInitialized(self);
  };

  var _JX__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _HC__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Et_Node = function (shape, text, colour, name) {
    _HC__95classCallCheck(this, _Et_Node);

    this.key = null;
    this.shape = shape;
    this.text = text;
    this.colour = colour;
    this.name = name; // identifier name or constant name if any

    this.graph = null;
    this.group = null;
    this.width = null;
    this.height = null;
    this.links = [];
    this.addToGraph(_Gd_.graph); // cheating!
  };

  var _1p_ = _Et_Node.prototype;

  var _Ej_ = function (graph) {
    if (graph != null) graph.addNode(this);
    this.graph = graph;
    return this; // to provide chain operation
  };

  var _Ek_ = function (group) {
    group.addNode(this);
    this.group = group;
    return this; // to provide chain operation
  };

  var _El_ = function (group) {
    this.group.removeNode(this);
    this.addToGroup(group);
    return this;
  };

  var _Em_ = function () {
    return this.links;
  };

  var _En_ = function (toPort) {
    var links = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = this.links[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var link = _step.value;
        if (link.to == this.key && (toPort == null ? true : link.toPort == toPort)) links.push(link);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return links;
  };

  var _Eo_ = function (fromPort) {
    var links = [];
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = this.links[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var link = _step2.value;
        if (link.from == this.key && (fromPort == null ? true : link.fromPort == fromPort)) links.push(link);
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }

    return links;
  };

  var _Ep_ = function (graph) {
    var newNode = new _Et_Node(this.shape, this.text, this.name).addToGraph(graph);
    newNode.width = this.width;
    newNode.height = this.height;
  };

  var _Eq_ = function () {
    this.group.removeNode(this);
    this.graph.removeNode(this);
  };

  var _Er_ = function (token, link) {
    return link;
  };

  var _Es_ = function (token, nextLink) {
    token.rewrite = false;
    return nextLink;
  };

  var _Ez_Group = function () {
    var _this;

    _HF__95classCallCheck(this, _Ez_Group);

    _this = _HG__95possibleConstructorReturn(this, _HH_(_Ez_Group).call(this, null, null, null)); // shape, text, name

    _this.nodes = [];
    _this.links = []; // for copying

    return _this;
  };

  var _F0_ = function (node) {
    this.nodes.push(node);
  };

  var _F1_ = function (node) {
    return this.nodes.splice(this.nodes.indexOf(node), 1);
  };

  var _F2_ = function (link) {
    this.links.push(link);
  };

  var _F3_ = function (link) {
    var i = this.links.indexOf(link);
    if (i != -1) this.links.splice(i, 1);
  };

  var _F4_ = function () {
    var _arr = Array.from(this.nodes);

    for (var _i = 0; _i < _arr.length; _i++) {
      var node = _arr[_i];
      node.delete();
    }

    _HI_(_HH_(_Ez_Group.prototype), "delete", this).call(this);
  };

  var _GD_Graph = function (machine) {
    _Hi__95classCallCheck(this, _GD_Graph);

    this.machine = machine;
    this.clear();
  };

  var _EB_ = _GD_Graph.prototype;

  var _G7_ = function () {
    this.key = 0;
    this.linkKey = 0;
    this.allNodes = new Map(); // for efficiency searching

    this.allLinks = []; // for printing ONLY

    this.child = new _Ez_Group();
  };

  var _G8_ = function (node) {
    node.key = 'nd' + this.key;
    this.allNodes.set(node.key, node);
    this.key++;
  };

  var _G9_ = function (node) {
    var _arr = Array.from(node.findLinksConnected());

    for (var _i = 0; _i < _arr.length; _i++) {
      var link = _arr[_i];
      link.delete();
    }

    return this.allNodes.delete(node.key);
  };

  var _GA_ = function (key) {
    return this.allNodes.get(key);
  };

  var _GB_ = function (link) {
    this.allLinks.push(link);
  };

  var _GC_ = function (link) {
    this.allLinks.splice(this.allLinks.indexOf(link), 1);
  };

  var _HO__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IJ__95possibleConstructorReturn = function (self, call) {
    if (call && (_Jb_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Ke__95assertThisInitialized(self);
  };

  var _Ke__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hb__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Hc__95possibleConstructorReturn = function (self, call) {
    if (call && (_J4_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _J5__95assertThisInitialized(self);
  };

  var _J5__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hd__95get = function (target, property, receiver) {
    var __captured__scope_2_ = __scope_0_main[1] || __get_scope_binding_0_get_95scope_95binding(1);

    if (typeof Reflect !== "undefined" && Reflect.get) {
      __captured__scope_2_[1] = Reflect.get;
    } else {
      __captured__scope_2_[1] = function _get(target, property, receiver) {
        var base = _Jn__95superPropBase(target, property);

        if (!base) return;
        var desc = Object.getOwnPropertyDescriptor(base, property);

        if (desc.get) {
          return desc.get.call(receiver);
        }

        return desc.value;
      };
    }

    return __captured__scope_2_[1](target, property, receiver || target);
  };

  var _Jn__95superPropBase = function (object, property) {
    while (!Object.prototype.hasOwnProperty.call(object, property)) {
      object = _HH_(object);
      if (object === null) break;
    }

    return object;
  };

  var _J1__95typeof = function (obj) {
    var __captured__scope_5_ = __scope_0_main[4] || __get_scope_binding_0_get_95scope_95binding(4);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_5_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_5_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_5_[1](obj);
  };

  var _HK__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _HL__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_5_ = __scope_0_main[4] || __get_scope_binding_0_get_95scope_95binding(4);

    if (call && (__captured__scope_5_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _JZ__95assertThisInitialized(self);
  };

  var _JZ__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _F9_Expo = function (shape, text, name) {
    var _this;

    _HK__95classCallCheck(this, _F9_Expo);

    _this = _HL__95possibleConstructorReturn(this, _HH_(_F9_Expo).call(this, shape, text, "cyan", name));
    _this.width = ".3";
    _this.height = ".3";
    return _this;
  };

  var _FA_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      return nextLink;
    } else if (link.from == this.key) {
      var nextLink = this.findLinksInto(null)[0];
      return nextLink;
    }
  };

  var _FB_ = function () {
    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];

    if (outLink != null && inLink != null) {
      inLink.changeTo(outLink.to, outLink.toPort);
    }

    _HI_(_HH_(_F9_Expo.prototype), "delete", this).call(this);
  };

  var _FC_ = function () {
    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];

    if (inLink != null && outLink != null) {
      outLink.changeFrom(inLink.from, inLink.fromPort);
    }

    _HI_(_HH_(_F9_Expo.prototype), "delete", this).call(this);
  };

  var _Fv_Pax = function (name) {
    _Hb__95classCallCheck(this, _Fv_Pax);

    return _Hc__95possibleConstructorReturn(this, _HH_(_Fv_Pax).call(this, null, "?", name));
  };

  var _Fw_ = function () {
    return new _Fv_Pax(this.name);
  };

  var _Fx_ = function () {
    var __captured__scope_2_ = __scope_0_main[1] || __get_scope_binding_0_get_95scope_95binding(1);

    this.group.auxs.splice(this.group.auxs.indexOf(this), 1);

    __captured__scope_2_[1](_HH_(_Fv_Pax.prototype), "delete", this).call(this);
  };

  var _HR__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IM__95possibleConstructorReturn = function (self, call) {
    if (call && (_Je_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kh__95assertThisInitialized(self);
  };

  var _Kh__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _FV_Contract = function (name) {
    _HR__95classCallCheck(this, _FV_Contract);

    return _IM__95possibleConstructorReturn(this, _HH_(_FV_Contract).call(this, null, "C", name));
  };

  var _FW_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.boxStack.push(link);
      token.rewriteFlag = _Gk_RewriteFlag.F_C;
      return nextLink;
    } else if (link.from == this.key && token.boxStack.length > 0) {
      var nextLink = token.boxStack.pop();
      return nextLink;
    }
  };

  var _FX_ = function (token, nextLink) {
    if (token.rewriteFlag == _Gk_RewriteFlag.F_C && nextLink.from == this.key) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;

      if (this.findLinksInto(null).length == 1) {
        token.boxStack.pop();
        /*
                    for (let _token of nextLink.tokens)
                    	_token.boxStack.pop();
                    */

        var inLink = this.findLinksInto(null)[0];
        /*
                    for (let _token of inLink.tokens)
                    	_token.setLink(nextLink);
                    */

        nextLink.changeFrom(inLink.from, inLink.fromPort);
        this.delete();
      } else {
        var i = token.boxStack[token.boxStack.length - 1];
        var prev = this.graph.findNodeByKey(i.from);

        if (prev instanceof _FV_Contract) {
          token.boxStack.pop();
          /*
                        for (let _token of Array.from(nextLink.tokens)) {
                        	if (_token.boxStack[token.boxStack.length - 1] == i)
                        		_token.boxStack.pop();
                        }
                        for (let _token of Array.from(i.tokens)) {
                        	_token.setLink(nextLink);
                        	_token.rewriteFlag = RewriteFlag.F_C;
                        }
                        */

          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            for (var _iterator = prev.findLinksInto(null)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var link = _step.value;
              link.changeTo(this.key, "s");
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }

          prev.delete();
          token.rewriteFlag = _Gk_RewriteFlag.F_C;
        }
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _FY_ = function () {
    var con = new _FV_Contract(this.name);
    con.text = this.text;
    return con;
  };

  var _FL_Term = function (prin, auxs) {
    var _this;

    _HO__95classCallCheck(this, _FL_Term);

    _this = _IJ__95possibleConstructorReturn(this, _HH_(_FL_Term).call(this));

    _this.set(prin, auxs);

    return _this;
  };

  var _FM_ = function (prin, auxs) {
    this.prin = prin;
    this.auxs = auxs;
    return this;
  };

  var _FN_ = function (auxs) {
    var newPaxs = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = auxs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var pax = _step.value;
        var newPax = new _Fv_Pax(pax.name).addToGroup(this);
        if (pax.findLinksOutOf(null).length == 0) new _Ef_Link(pax.key, newPax.key, "n", "s").addToGroup(this);else {
          var outLink = pax.findLinksOutOf(null)[0];
          new _Ef_Link(newPax.key, outLink.to, "n", outLink.toPort).addToGroup(this.group);
          outLink.changeTo(newPax.key, "s");
          outLink.changeToGroup(this);
        }
        newPaxs.push(newPax);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return newPaxs;
  };

  var _Gw_ = function (leftAuxs, rightAuxs, group) {
    var newAuxs = leftAuxs.concat(rightAuxs);
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      outter: for (var _iterator2 = leftAuxs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var leftAux = _step2.value;
        var _iteratorNormalCompletion3 = true;
        var _didIteratorError3 = false;
        var _iteratorError3 = undefined;

        try {
          for (var _iterator3 = rightAuxs[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
            var rightAux = _step3.value;

            if (leftAux.name == rightAux.name) {
              var con = new _FV_Contract(leftAux.name).addToGroup(group);
              var outLink = leftAux.findLinksOutOf(null)[0];

              if (typeof outLink != 'undefined') {
                outLink.changeFrom(con.key, outLink.fromPort);
              }

              new _Ef_Link(rightAux.key, con.key, "n", "s").addToGroup(group);
              new _Ef_Link(leftAux.key, con.key, "n", "s").addToGroup(group);
              newAuxs.splice(newAuxs.indexOf(leftAux), 1);
              newAuxs.splice(newAuxs.indexOf(rightAux), 1);
              newAuxs.push(con);
              continue outter;
            }
          }
        } catch (err) {
          _didIteratorError3 = true;
          _iteratorError3 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
              _iterator3.return();
            }
          } finally {
            if (_didIteratorError3) {
              throw _iteratorError3;
            }
          }
        }
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }

    return newAuxs;
  };

  var _HM__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _HN__95possibleConstructorReturn = function (self, call) {
    if (call && (_J2_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Ja__95assertThisInitialized(self);
  };

  var _Ja__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _HE__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IH__95possibleConstructorReturn = function (self, call) {
    if (call && (_JW_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kc__95assertThisInitialized(self);
  };

  var _Kc__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Ex_Box = function () {
    var _this;

    _HE__95classCallCheck(this, _Ex_Box);

    _this = _IH__95possibleConstructorReturn(this, _HH_(_Ex_Box).call(this));
    _this.nodes = [];
    _this.links = [];
    return _this;
  };

  var _Ey_ = function (graph) {// this shouldnt be call, since every box should be inside a wrapper
  };

  var _HJ__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _II__95possibleConstructorReturn = function (self, call) {
    if (call && (_JY_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kd__95assertThisInitialized(self);
  };

  var _Kd__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _HY__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IU__95possibleConstructorReturn = function (self, call) {
    if (call && (_Jk_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Km__95assertThisInitialized(self);
  };

  var _Km__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Fm_Der = function (name) {
    _HY__95classCallCheck(this, _Fm_Der);

    return _IU__95possibleConstructorReturn(this, _HH_(_Fm_Der).call(this, null, "D", name));
  };

  var _Fn_ = function () {
    var der = new _Fm_Der(this.name);
    return der;
  };

  var _F5_Promo = function () {
    _HJ__95classCallCheck(this, _F5_Promo);

    return _II__95possibleConstructorReturn(this, _HH_(_F5_Promo).call(this, null, "!"));
  };

  var _F6_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.rewriteFlag = _Gk_RewriteFlag.F_PROMO;
      return nextLink;
    } else if (link.from == this.key) {
      var nextLink = this.findLinksInto(null)[0];
      return nextLink;
    }
  };

  var _F7_ = function (token, nextLink) {
    if (token.rewriteFlag == _Gk_RewriteFlag.F_PROMO) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var prev = this.graph.findNodeByKey(this.findLinksInto(null)[0].from);

      if (prev instanceof _Fm_Der) {
        var oldGroup = this.group;
        oldGroup.moveOut(); // this.group is a box-wrapper

        oldGroup.deleteAndPreserveLink();
        var newNextLink = prev.findLinksInto(null)[0];
        prev.deleteAndPreserveInLink(); // preserve inLink

        token.rewrite = true;
        return newNextLink;
      } else if (prev instanceof _FV_Contract && token.boxStack.length >= 1) {
        if (nextLink.from == this.key) {
          var link = token.boxStack.pop();
          var inLinks = prev.findLinksInto(null);

          if (inLinks.length == 1) {// this will not happen as the C-node should have taken care of it
          } else {
            var newBoxWrapper = this.group.copy().addToGroup(this.group.group);

            _FL_Term.joinAuxs(this.group.auxs, newBoxWrapper.auxs, newBoxWrapper.group);

            var prevLink = prev.findLinksOutOf(null)[0];
            prevLink.changeTo(newBoxWrapper.prin.key, prev.findLinksOutOf(null)[0].toPort);
            link.changeTo(this.key, "s");
          }

          token.rewriteFlag = _Gk_RewriteFlag.F_PROMO;
          token.rewrite = true;
          return nextLink;
        }
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _F8_ = function () {
    return new _F5_Promo();
  };

  var _FD_BoxWrapper = function (prin, box, auxs) {
    var _this;

    _HM__95classCallCheck(this, _FD_BoxWrapper);

    _this = _HN__95possibleConstructorReturn(this, _HH_(_FD_BoxWrapper).call(this, prin, auxs));
    _this.box = box;
    return _this;
  };

  var _FE_ = function (prin, box, auxs) {
    _HI_(_HH_(_FD_BoxWrapper.prototype), "set", this).call(this, prin, auxs);

    this.box = box;
  };

  var _FF_ = function (aux) {
    this.auxs.splice(this.auxs.indexOf(aux), 1);
    aux.deleteAndPreserveOutLink();
  };

  var _FG_ = function () {
    var _arr = Array.from(this.box.links);

    for (var _i = 0; _i < _arr.length; _i++) {
      var link = _arr[_i];
      link.changeToGroup(this.group);
    }

    var _arr2 = Array.from(this.links);

    for (var _i2 = 0; _i2 < _arr2.length; _i2++) {
      var _link = _arr2[_i2];

      _link.changeToGroup(this.group);
    }

    var _arr3 = Array.from(this.box.nodes);

    for (var _i3 = 0; _i3 < _arr3.length; _i3++) {
      var node = _arr3[_i3];
      node.changeToGroup(this.group);
    }

    var _arr4 = Array.from(this.auxs);

    for (var _i4 = 0; _i4 < _arr4.length; _i4++) {
      var aux = _arr4[_i4];
      aux.changeToGroup(this.group);
    }

    this.prin.changeToGroup(this.group);

    var _arr5 = Array.from(this.nodes);

    for (var _i5 = 0; _i5 < _arr5.length; _i5++) {
      var _node = _arr5[_i5];

      _node.changeToGroup(this.group);
    }
  };

  var _FH_ = function (map) {
    var newBoxWrapper = new _FD_BoxWrapper();
    var newPrin = this.prin.copy().addToGroup(newBoxWrapper);
    newBoxWrapper.prin = newPrin;
    map.set(this.prin.key, newPrin.key);
    var newBox = new _Ex_Box().addToGroup(newBoxWrapper);
    newBoxWrapper.box = newBox;
    newBoxWrapper.auxs = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = this.box.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var node = _step.value;
        var newNode;

        if (node instanceof _FD_BoxWrapper) {
          newNode = node.copyBox(map).addToGroup(newBox);
        } else {
          var newNode = node.copy().addToGroup(newBox);
          map.set(node.key, newNode.key);
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = this.auxs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var aux = _step2.value;
        var newAux = aux.copy().addToGroup(newBoxWrapper);
        newBoxWrapper.auxs.push(newAux);
        map.set(aux.key, newAux.key);
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }

    var _iteratorNormalCompletion3 = true;
    var _didIteratorError3 = false;
    var _iteratorError3 = undefined;

    try {
      for (var _iterator3 = this.box.links[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
        var link = _step3.value;
        var newLink = new _Ef_Link(map.get(link.from), map.get(link.to), link.fromPort, link.toPort).addToGroup(newBox);
        newLink.reverse = link.reverse;
      }
    } catch (err) {
      _didIteratorError3 = true;
      _iteratorError3 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
          _iterator3.return();
        }
      } finally {
        if (_didIteratorError3) {
          throw _iteratorError3;
        }
      }
    }

    var _iteratorNormalCompletion4 = true;
    var _didIteratorError4 = false;
    var _iteratorError4 = undefined;

    try {
      for (var _iterator4 = this.links[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
        var _link2 = _step4.value;
        var newLink = new _Ef_Link(map.get(_link2.from), map.get(_link2.to), _link2.fromPort, _link2.toPort).addToGroup(newBoxWrapper);
        newLink.reverse = _link2.reverse;
      }
    } catch (err) {
      _didIteratorError4 = true;
      _iteratorError4 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion4 && _iterator4.return != null) {
          _iterator4.return();
        }
      } finally {
        if (_didIteratorError4) {
          throw _iteratorError4;
        }
      }
    }

    return newBoxWrapper;
  };

  var _FI_ = function () {
    var map = new Map();
    return this.copyBox(map);
  };

  var _FJ_ = function () {
    this.box.delete();

    var _arr6 = Array.from(this.auxs);

    for (var _i6 = 0; _i6 < _arr6.length; _i6++) {
      var aux = _arr6[_i6];
      aux.delete();
    }

    this.prin.delete();

    _HI_(_HH_(_FD_BoxWrapper.prototype), "delete", this).call(this);
  };

  var _FK_ = function () {
    this.box.delete();

    var _arr7 = Array.from(this.auxs);

    for (var _i7 = 0; _i7 < _arr7.length; _i7++) {
      var aux = _arr7[_i7];
      this.removeAux(aux); // preserve outLink
    }

    this.prin.deleteAndPreserveInLink(); //preserve inLink

    _HI_(_HH_(_FD_BoxWrapper.prototype), "delete", this).call(this);
  };

  var _Gv_ = function () {
    var wrapper = new _FD_BoxWrapper();
    var box = new _Ex_Box().addToGroup(wrapper);
    var promo = new _F5_Promo().addToGroup(wrapper);
    wrapper.set(promo, box, []);
    return wrapper;
  };

  var _Kq__95typeof = function (obj) {
    var __captured__scope_J_ = __scope_0_main[18] || __get_scope_binding_0_get_95scope_95binding(18);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_J_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_J_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_J_[1](obj);
  };

  var _J3__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Jj__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_J_ = __scope_0_main[18] || __get_scope_binding_0_get_95scope_95binding(18);

    if (call && (__captured__scope_J_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _L2__95assertThisInitialized(self);
  };

  var _L2__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Jm__95typeof = function (obj) {
    var __captured__scope_H_ = __scope_0_main[16] || __get_scope_binding_0_get_95scope_95binding(16);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_H_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_H_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_H_[1](obj);
  };

  var _Ha__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IW__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_H_ = __scope_0_main[16] || __get_scope_binding_0_get_95scope_95binding(16);

    if (call && (__captured__scope_H_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Ko__95assertThisInitialized(self);
  };

  var _Ko__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Fs_App = function () {
    _Ha__95classCallCheck(this, _Fs_App);

    return _IW__95possibleConstructorReturn(this, _HH_(_Fs_App).call(this, null, "@", "yellow"));
  };

  var _Ft_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_Ge_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "e") {
      var nextLink = this.findLinksOutOf("w")[0];
      token.dataStack.pop();
      token.dataStack.push(_Ge_CompData.R);
      token.forward = true;
      return nextLink;
    }
  };

  var _Fu_ = function () {
    return new _Fs_App();
  };

  var _HW_Abs = function () {
    _J3__95classCallCheck(this, _HW_Abs);

    return _Jj__95possibleConstructorReturn(this, _HH_(_HW_Abs).call(this, null, "λ", "yellow"));
  };

  var _IR_ = function (token, link) {
    if (link.to == this.key && link.toPort == "s") {
      var data = token.dataStack[token.dataStack.length - 1];

      if (data == _Ge_CompData.PROMPT) {
        token.dataStack.pop();
        token.dataStack.push([_Ge_CompData.LAMBDA, _Ge_CompData.EMPTY]);
        token.forward = false;
        return link;
      } else if (data == _Ge_CompData.R) {
        var nextLink = this.findLinksOutOf(null)[0];
        token.dataStack.pop();
        token.rewriteFlag = _Gk_RewriteFlag.F_LAMBDA;
        return nextLink;
      }
    }
  };

  var _IS_ = function (token, nextLink) {
    if (token.rewriteFlag == _Gk_RewriteFlag.F_LAMBDA && nextLink.from == this.key) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var prev = this.graph.findNodeByKey(this.findLinksInto("s")[0].from);

      if (prev instanceof _Fs_App) {
        // M rule
        var appLink = prev.findLinksInto(null)[0];
        var appOtherLink = prev.findLinksOutOf("e")[0];
        var otherNextLink = this.findLinksInto("w")[0];
        nextLink.changeFrom(appLink.from, appLink.fromPort);
        nextLink.changeToGroup(appLink.group);
        otherNextLink.changeTo(appOtherLink.to, appOtherLink.toPort);
        otherNextLink.reverse = false;
        var otherNode = this.graph.findNodeByKey(otherNextLink.from);
        if (otherNode instanceof _F9_Expo) otherNextLink.fromPort = "n";
        otherNextLink.changeToGroup(appOtherLink.group);
        this.delete();
        prev.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _IT_ = function () {
    return new _HW_Abs();
  };

  var _Jg__95typeof = function (obj) {
    var __captured__scope_F_ = __scope_0_main[14] || __get_scope_binding_0_get_95scope_95binding(14);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_F_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_F_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_F_[1](obj);
  };

  var _HT__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IO__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_F_ = __scope_0_main[14] || __get_scope_binding_0_get_95scope_95binding(14);

    if (call && (__captured__scope_F_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kj__95assertThisInitialized(self);
  };

  var _Kj__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _JV__95typeof = function (obj) {
    var __captured__scope_B_ = __scope_0_main[10] || __get_scope_binding_0_get_95scope_95binding(10);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_B_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_B_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_B_[1](obj);
  };

  var _HD__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IG__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_B_ = __scope_0_main[10] || __get_scope_binding_0_get_95scope_95binding(10);

    if (call && (__captured__scope_B_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kb__95assertThisInitialized(self);
  };

  var _Kb__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Eu_Const = function (name) {
    _HD__95classCallCheck(this, _Eu_Const);

    return _IG__95possibleConstructorReturn(this, _HH_(_Eu_Const).call(this, null, name, "mediumpurple1", name));
  };

  var _Ev_ = function (token, link) {
    if (token.dataStack[token.dataStack.length - 1] == _Ge_CompData.PROMPT) {
      token.dataStack.pop();
      token.dataStack.push([this.name, _Ge_CompData.EMPTY]);
      token.forward = false;
      return link;
    }
  };

  var _Ew_ = function () {
    return new _Eu_Const(this.name);
  };

  var _Fd_BinOp = function (text) {
    var _this;

    _HT__95classCallCheck(this, _Fd_BinOp);

    _this = _IO__95possibleConstructorReturn(this, _HH_(_Fd_BinOp).call(this, null, text, "mediumpurple1"));
    _this.subType = null;
    return _this;
  };

  var _Fe_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_Ge_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "e") {
      var nextLink = this.findLinksOutOf("w")[0];
      token.dataStack.push(_Ge_CompData.PROMPT);
      token.forward = true;
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "w") {
      if (token.dataStack[token.dataStack.length - 3] == _Ge_CompData.PROMPT) {
        var l = token.dataStack.pop();
        var r = token.dataStack.pop();
        token.dataStack.pop();
        var result = this.binOpApply(this.subType, l[0], r[0]);
        token.dataStack.push([result, _Ge_CompData.EMPTY]);
        token.rewriteFlag = _Gk_RewriteFlag.F_OP;
        return this.findLinksInto(null)[0];
        ;
      }
    }
  };

  var _Ff_ = function (token, nextLink) {
    if (token.rewriteFlag == _Gk_RewriteFlag.F_OP && nextLink.to == this.key) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var left = this.graph.findNodeByKey(this.findLinksOutOf("w")[0].to);
      var right = this.graph.findNodeByKey(this.findLinksOutOf("e")[0].to);

      if (left instanceof _F5_Promo && right instanceof _F5_Promo) {
        var wrapper = _FD_BoxWrapper.create().addToGroup(this.group);

        var newConst = new _Eu_Const(token.dataStack[token.dataStack.length - 1][0]).addToGroup(wrapper.box);
        new _Ef_Link(wrapper.prin.key, newConst.key, "n", "s").addToGroup(wrapper);
        nextLink.changeTo(wrapper.prin.key, "s");
        left.group.delete();
        right.group.delete();
        this.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Fg_ = function (type, v1, v2) {
    switch (type) {
      case _Gz_BinOpType.And:
        return v1 && v2;

      case _Gz_BinOpType.Or:
        return v1 || v2;

      case _Gz_BinOpType.Plus:
        return parseFloat(v1) + parseFloat(v2);

      case _Gz_BinOpType.Sub:
        return parseFloat(v1) - parseFloat(v2);

      case _Gz_BinOpType.Mult:
        return parseFloat(v1) * parseFloat(v2);

      case _Gz_BinOpType.Div:
        return parseFloat(v1) / parseFloat(v2);

      case _Gz_BinOpType.Lte:
        return parseFloat(v1) <= parseFloat(v2);
    }
  };

  var _Fh_ = function () {
    var newNode = new _Fd_BinOp(this.text);
    newNode.subType = this.subType;
    return newNode;
  };

  var _Gx_ = function () {
    var node = new _Fd_BinOp("+");
    node.subType = _Gz_BinOpType.Plus;
    return node;
  };

  var _Gy_ = function () {
    var node = new _Fd_BinOp("*");
    node.subType = _Gz_BinOpType.Mult;
    return node;
  };

  var _HV__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IQ__95possibleConstructorReturn = function (self, call) {
    if (call && (_Ji_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kl__95assertThisInitialized(self);
  };

  var _Kl__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Fk_Var = function (name) {
    var _this;

    _HV__95classCallCheck(this, _Fk_Var);

    _this = _IQ__95possibleConstructorReturn(this, _HH_(_Fk_Var).call(this, name));
    _this.text = "V";
    return _this;
  };

  var _Fl_ = function () {
    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];
    var inNode = this.graph.findNodeByKey(inLink.from);

    if (inLink != null && outLink != null) {
      if (this.graph.findNodeByKey(outLink.to) instanceof _HW_Abs && inNode instanceof _F9_Expo) outLink.changeFrom(inLink.from, "nw");else outLink.changeFrom(inLink.from, inLink.fromPort);
    }

    this.delete();
  };

  var _Jf__95typeof = function (obj) {
    var __captured__scope_E_ = __scope_0_main[13] || __get_scope_binding_0_get_95scope_95binding(13);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_E_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_E_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_E_[1](obj);
  };

  var _HS__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IN__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_E_ = __scope_0_main[13] || __get_scope_binding_0_get_95scope_95binding(13);

    if (call && (__captured__scope_E_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Ki__95assertThisInitialized(self);
  };

  var _Ki__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _HU__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IP__95possibleConstructorReturn = function (self, call) {
    if (call && (_Jh_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kk__95assertThisInitialized(self);
  };

  var _Kk__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Fi_Weak = function () {
    _HU__95classCallCheck(this, _Fi_Weak);

    return _IP__95possibleConstructorReturn(this, _HH_(_Fi_Weak).call(this, null, 'C0'));
  };

  var _Fj_ = function () {
    return new _Fi_Weak();
  };

  var _FZ_If = function () {
    _HS__95classCallCheck(this, _FZ_If);

    return _IN__95possibleConstructorReturn(this, _HH_(_FZ_If).call(this, null, "if", "mediumpurple1"));
  };

  var _Fa_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("w")[0];
      token.dataStack.push(_Ge_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "w") {
      var left = this.graph.findNodeByKey(this.findLinksOutOf("w")[0].to);

      if (left instanceof _F5_Promo) {
        if (token.dataStack[token.dataStack.length - 1][0] == true) {
          var nextLink = this.findLinksOutOf("n")[0];
          token.dataStack.pop();
          token.rewriteFlag = _Gk_RewriteFlag.F_IF;
          token.forward = true;
          return nextLink;
        } else if (token.dataStack[token.dataStack.length - 1][0] == false) {
          var nextLink = this.findLinksOutOf("e")[0];
          token.dataStack.pop();
          token.rewriteFlag = _Gk_RewriteFlag.F_IF;
          token.forward = true;
          return nextLink;
        }
      } else {
        var nextLink = this.findLinksOutOf("n")[0];
        var data = token.dataStack.pop();
        token.dataStack.push(data[0]);
        token.dataStack.push(_Ge_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      }
    } else if (link.from == this.key) {
      if (link.fromPort == "n") {
        var nextLink = this.findLinksOutOf("e")[0];
        token.dataStack.push(_Ge_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      } else if (link.fromPort == "e") {
        var nextLink = this.findLinksInto("s")[0];
        var y = token.dataStack.pop();
        var x = token.dataStack.pop();
        var cond = token.dataStack.pop();
        var result;
        if (cond) result = x;else result = y;
        token.dataStack.pop();
        token.dataStack.push(result);
        token.forward = false;
        return nextLink;
      }
    }
  };

  var _Fb_ = function (token, nextLink) {
    if (token.rewriteFlag == _Gk_RewriteFlag.F_IF && nextLink.from == this.key) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var left = this.graph.findNodeByKey(this.findLinksOutOf("w")[0].to);

      if (left instanceof _F5_Promo) {
        var downLink = this.findLinksInto(null)[0];
        var otherLink = this.findLinksOutOf(nextLink.fromPort == "n" ? "e" : "n")[0];
        nextLink.changeFrom(downLink.from, downLink.fromPort);
        var weak = new _Fi_Weak(this.graph.findNodeByKey(otherLink.to).name).addToGroup(this.group);
        otherLink.changeFrom(weak.key, "n");
        this.delete();
        left.group.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Fc_ = function () {
    return new _FZ_If();
  };

  var _Kw__95typeof = function (obj) {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_7_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_7_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_7_[1](obj);
  };

  var _JL__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KU__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    if (call && (__captured__scope_7_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kx__95assertThisInitialized(self);
  };

  var _Kx__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _KV__95getPrototypeOf = function (o) {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    __captured__scope_7_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_7_[3](o);
  };

  var _I2_Recur = function () {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    _JL__95classCallCheck(this, _I2_Recur);

    return _KU__95possibleConstructorReturn(this, __captured__scope_7_[3](_I2_Recur).call(this, null, "μ", "mediumpurple1"));
  };

  var _Ir_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.rewriteFlag = _Gk_RewriteFlag.F_RECUR;
      return nextLink;
    }
  };

  var _Is_ = function (token, nextLink) {
    if (token.rewriteFlag == _Gk_RewriteFlag.F_RECUR && nextLink.from == this.key) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var wrapper = this.group.copy().addToGroup(this.group);

      _FL_Term.joinAuxs(this.group.auxs, wrapper.auxs, wrapper.group);

      var oldGroup = this.group;
      var oldBox = this.group.box;
      this.group.moveOut();
      var leftLink = this.findLinksInto("w")[0];
      leftLink.changeTo(wrapper.prin.key, "s");
      leftLink.fromPort = "n";
      leftLink.reverse = false;
      var inLink = this.findLinksInto("s")[0];
      var outLink = this.findLinksOutOf("e")[0];
      outLink.changeFrom(inLink.from, inLink.fromPort);
      oldGroup.deleteAndPreserveLink();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _It_ = function () {
    return new _I2_Recur();
  };

  var _JU__95typeof = function (obj) {
    var __captured__scope_A_ = __scope_0_main[9] || __get_scope_binding_0_get_95scope_95binding(9);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_A_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_A_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_A_[1](obj);
  };

  var _HB__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IF__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_A_ = __scope_0_main[9] || __get_scope_binding_0_get_95scope_95binding(9);

    if (call && (__captured__scope_A_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Ka__95assertThisInitialized(self);
  };

  var _Ka__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Eg_Start = function () {
    _HB__95classCallCheck(this, _Eg_Start);

    return _IF__95possibleConstructorReturn(this, _HH_(_Eg_Start).call(this, "point", "", "black"));
  };

  var _Eh_ = function (token) {
    if (token.link == null && token.dataStack[token.dataStack.length - 1] == _Ge_CompData.PROMPT) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.forward = true;
      return nextLink;
    } else return null;
  };

  var _Ei_ = function () {
    return new _Eg_Start();
  };

  var _Ku__95typeof = function (obj) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_6_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_6_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_6_[1](obj);
  };

  var _JI__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KS__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    if (call && (__captured__scope_6_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kv__95assertThisInitialized(self);
  };

  var _Kv__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _KT__95getPrototypeOf = function (o) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    __captured__scope_6_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_6_[3](o);
  };

  var _Hy_UnOp = function (text) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    var _this;

    _JI__95classCallCheck(this, _Hy_UnOp);

    _this = _KS__95possibleConstructorReturn(this, __captured__scope_6_[3](_Hy_UnOp).call(this, null, text, "mediumpurple1"));
    _this.subType = null;
    return _this;
  };

  var _In_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.dataStack.push(_Ge_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (token.dataStack[token.dataStack.length - 2] == _Ge_CompData.PROMPT) {
        var v1 = token.dataStack.pop();
        token.dataStack.pop();
        token.dataStack.push([this.unOpApply(this.subType, v1[0]), _Ge_CompData.EMPTY]);
        token.rewriteFlag = _Gk_RewriteFlag.F_OP;
        return this.findLinksInto(null)[0];
      }
    }
  };

  var _Io_ = function (token, nextLink) {
    if (token.rewriteFlag == _Gk_RewriteFlag.F_OP && nextLink.to == this.key) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var prev = this.graph.findNodeByKey(this.findLinksOutOf(null)[0].to);

      if (prev instanceof _F5_Promo) {
        var wrapper = _FD_BoxWrapper.create().addToGroup(this.group);

        var newConst = new _Eu_Const(token.dataStack[token.dataStack.length - 1][0]).addToGroup(wrapper.box);
        new _Ef_Link(wrapper.prin.key, newConst.key, "n", "s").addToGroup(wrapper);
        nextLink.changeTo(wrapper.prin.key, "s");
        prev.group.delete();
        this.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Ip_ = function (type, v1) {
    switch (type) {
      case _JG_UnOpType.Not:
        return !v1;
    }
  };

  var _Iq_ = function () {
    var newNode = new _Hy_UnOp(this.text);
    newNode.subType = this.subType;
    return newNode;
  };

  var _Jo__95typeof = function (obj) {
    var __captured__scope_I_ = __scope_0_main[17] || __get_scope_binding_0_get_95scope_95binding(17);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_I_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_I_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_I_[1](obj);
  };

  var _He__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IX__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_I_ = __scope_0_main[17] || __get_scope_binding_0_get_95scope_95binding(17);

    if (call && (__captured__scope_I_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kp__95assertThisInitialized(self);
  };

  var _Kp__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Fy_Delta = function () {
    _He__95classCallCheck(this, _Fy_Delta);

    return _IX__95possibleConstructorReturn(this, _HH_(_Fy_Delta).call(this, null, "Δ", "indianred1"));
  };

  var _Fz_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_Ge_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (link.fromPort == "e") {
        var nextLink = this.findLinksOutOf("w")[0];
        token.dataStack.pop();
        token.dataStack.push(_Ge_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      } else if (link.fromPort == "w") {
        if (token.dataStack[token.dataStack.length - 2] == _Ge_CompData.PROMPT) {
          var data = token.dataStack.pop();
          token.dataStack.pop();
          token.dataStack.push([_Ge_CompData.UNIT, _Ge_CompData.EMPTY]);
          token.rewriteFlag = _Gk_RewriteFlag.F_DELTA + data[1];
          return this.findLinksInto(null)[0];
        }
      }
    }
  };

  var _G0_ = function (token, nextLink) {
    if (token.rewriteFlag.substring(0, 3) == _Gk_RewriteFlag.F_DELTA && nextLink.to == this.key) {
      var key = token.rewriteFlag.substring(3, token.rewriteFlag.length);
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var data = token.dataStack[token.dataStack.length - 1];
      var weak1 = new _Fi_Weak().addToGroup(this.group);
      this.findLinksOutOf("w")[0].changeFrom(weak1.key, "n");
      var mod = this.graph.findNodeByKey(key);
      var weak2 = new _Fi_Weak().addToGroup(this.group);
      mod.findLinksOutOf('e')[0].changeFrom(weak2.key, 'n');
      this.findLinksOutOf("e")[0].changeFrom(mod.key, "e");

      var wrapper = _FD_BoxWrapper.create().addToGroup(this.group);

      var con = new _Eu_Const(data[0]).addToGroup(wrapper.box);
      new _Ef_Link(wrapper.prin.key, con.key, "n", "s").addToGroup(wrapper);
      this.findLinksInto(null)[0].changeTo(wrapper.prin.key, "s");
      this.delete();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _G1_ = function () {
    return new _Fy_Delta();
  };

  var _L0__95typeof = function (obj) {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_9_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_9_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_9_[1](obj);
  };

  var _JS__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KY__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    if (call && (__captured__scope_9_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _L1__95assertThisInitialized(self);
  };

  var _L1__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _KZ__95getPrototypeOf = function (o) {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    __captured__scope_9_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_9_[3](o);
  };

  var _IB_Set = function () {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    _JS__95classCallCheck(this, _IB_Set);

    return _KY__95possibleConstructorReturn(this, __captured__scope_9_[3](_IB_Set).call(this, null, "<<~", "indianred1"));
  };

  var _Ix_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_Ge_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (link.fromPort == "e") {
        var nextLink = this.findLinksOutOf("w")[0]; //token.dataStack.pop();

        token.dataStack.push(_Ge_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      } else if (link.fromPort == "w") {
        if (token.dataStack[token.dataStack.length - 3] == _Ge_CompData.PROMPT) {
          var data = token.dataStack.pop();
          var new_v = token.dataStack.pop();
          token.dataStack.pop();
          token.dataStack.push([_Ge_CompData.UNIT, _Ge_CompData.EMPTY]);
          token.rewriteFlag = _Gk_RewriteFlag.F_DELTA + data[1] + ';' + new_v[0];
          return this.findLinksInto(null)[0];
        }
      }
    }
  };

  var _Iy_ = function (token, nextLink) {
    if (token.rewriteFlag.substring(0, 3) == _Gk_RewriteFlag.F_DELTA && nextLink.to == this.key) {
      var string = token.rewriteFlag.substring(3, token.rewriteFlag.length);
      var s = string.split(";");
      var key = s[0];
      var data = s[1];
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var data = token.dataStack[token.dataStack.length - 1];
      var weak1 = new _Fi_Weak().addToGroup(this.group);
      this.findLinksOutOf("w")[0].changeFrom(weak1.key, "n");
      var mod = this.graph.findNodeByKey(key);
      var weak2 = new _Fi_Weak().addToGroup(this.group);
      mod.findLinksOutOf('e')[0].changeFrom(weak2.key, 'n');
      this.findLinksOutOf("e")[0].changeFrom(mod.key, "e");
      this.graph.findNodeByKey(mod.findLinksOutOf('e')[0].to).name = s[1];

      var wrapper = _FD_BoxWrapper.create().addToGroup(this.group);

      var con = new _Eu_Const(data[0]).addToGroup(wrapper.box);
      new _Ef_Link(wrapper.prin.key, con.key, "n", "s").addToGroup(wrapper);
      this.findLinksInto(null)[0].changeTo(wrapper.prin.key, "s");
      this.delete();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Iz_ = function () {
    return new _IB_Set();
  };

  var _Ky__95typeof = function (obj) {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_8_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_8_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_8_[1](obj);
  };

  var _JO__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KW__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    if (call && (__captured__scope_8_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kz__95assertThisInitialized(self);
  };

  var _Kz__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _KX__95getPrototypeOf = function (o) {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    __captured__scope_8_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_8_[3](o);
  };

  var _I6_Dep = function () {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    _JO__95classCallCheck(this, _I6_Dep);

    return _KW__95possibleConstructorReturn(this, __captured__scope_8_[3](_I6_Dep).call(this, null, 'p', "mediumpurple1"));
  };

  var _Iu_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.dataStack.push(_Ge_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (token.dataStack[token.dataStack.length - 2] == _Ge_CompData.PROMPT) {
        var data = token.dataStack.pop();
        token.dataStack.pop();
        token.dataStack.push([data[0], _Ge_CompData.EMPTY]);
        token.rewriteFlag = _Gk_RewriteFlag.F_DEP;
        return this.findLinksInto(null)[0];
      }
    }
  };

  var _Iv_ = function (token, nextLink) {
    if (nextLink.to == this.key && token.rewriteFlag == _Gk_RewriteFlag.F_DEP) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var data = token.dataStack[token.dataStack.length - 1];

      if (_Gd_.isNumber(data[0]) || typeof data[0] === "boolean") {
        var outLink = this.findLinksOutOf(null)[0];
        var weak = new _Fi_Weak(outLink.text).addToGroup(this.group);
        outLink.changeFrom(weak.key, "n");

        var wrapper = _FD_BoxWrapper.create().addToGroup(this.group);

        var newConst = new _Eu_Const(data[0]).addToGroup(wrapper.box);
        new _Ef_Link(wrapper.prin.key, newConst.key, "n", "s").addToGroup(wrapper);
        nextLink.changeTo(wrapper.prin.key, "s");
        this.delete();
        token.rewrite = true;
      }

      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Iw_ = function () {
    return new _I6_Dep();
  };

  var _Jd__95typeof = function (obj) {
    var __captured__scope_D_ = __scope_0_main[12] || __get_scope_binding_0_get_95scope_95binding(12);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_D_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_D_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_D_[1](obj);
  };

  var _HQ__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IL__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_D_ = __scope_0_main[12] || __get_scope_binding_0_get_95scope_95binding(12);

    if (call && (__captured__scope_D_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kg__95assertThisInitialized(self);
  };

  var _Kg__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _FS_Deref = function () {
    _HQ__95classCallCheck(this, _FS_Deref);

    return _IL__95possibleConstructorReturn(this, _HH_(_FS_Deref).call(this, null, "d", "mediumpurple1"));
  };

  var _FT_ = function (token, link) {
    if (link.to == this.key) return this.findLinksOutOf(null)[0];else if (link.from == this.key) return this.findLinksInto(null)[0];
  };

  var _FU_ = function () {
    return new _FS_Deref();
  };

  var _Jc__95typeof = function (obj) {
    var __captured__scope_C_ = __scope_0_main[11] || __get_scope_binding_0_get_95scope_95binding(11);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_C_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_C_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_C_[1](obj);
  };

  var _HP__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IK__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_C_ = __scope_0_main[11] || __get_scope_binding_0_get_95scope_95binding(11);

    if (call && (__captured__scope_C_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kf__95assertThisInitialized(self);
  };

  var _Kf__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _FO_Mod = function () {
    var _this;

    _HP__95classCallCheck(this, _FO_Mod);

    _this = _IK__95possibleConstructorReturn(this, _HH_(_FO_Mod).call(this, null, "M", "indianred1"));

    _this.graph.machine.cells.push(_this.key);

    return _this;
  };

  var _FP_ = function (token, link) {
    if (link.to == this.key) {
      return this.findLinksOutOf("w")[0];
    } else if (link.from == this.key && link.fromPort == "w") {
      var data = token.dataStack.pop();
      token.dataStack.push([data[0], this.key]);
      return this.findLinksInto(null)[0];
    } else if (link.from == this.key && link.fromPort == "e") {
      token.machine.newValues.set(this.key, token.dataStack[token.dataStack.length - 1][0]);
      token.delete();
      return null;
    }
  };

  var _FQ_ = function (data) {
    var leftLink = this.findLinksOutOf("w")[0];

    if (_Gd_.isNumber(data) || typeof data === "boolean") {
      var value = this.graph.findNodeByKey(leftLink.to);
      var oldData = value.name;
      value.text = data;
      value.name = data;
      return oldData;
    }
  };

  var _FR_ = function () {
    var mod = new _FO_Mod();
    return mod;
  };

  var _Jl__95typeof = function (obj) {
    var __captured__scope_G_ = __scope_0_main[15] || __get_scope_binding_0_get_95scope_95binding(15);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_G_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_G_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_G_[1](obj);
  };

  var _HZ__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IV__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_G_ = __scope_0_main[15] || __get_scope_binding_0_get_95scope_95binding(15);

    if (call && (__captured__scope_G_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kn__95assertThisInitialized(self);
  };

  var _Kn__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Fo_Prop = function () {
    _HZ__95classCallCheck(this, _Fo_Prop);

    return _IV__95possibleConstructorReturn(this, _HH_(_Fo_Prop).call(this, null, "s", "indianred1"));
  };

  var _Fp_ = function (token, link) {
    if (link.to == this.key) {
      if (token.dataStack[token.dataStack.length - 1] == _Ge_CompData.PROMPT) {
        token.dataStack.pop();
        token.dataStack.push(false);
        token.rewriteFlag = _Gk_RewriteFlag.F_PROP;
        token.forward = false;
        token.machine.startPropagation();
        return link;
      }
    }
  };

  var _Fq_ = function (token, nextLink) {
    if (token.rewriteFlag == _Gk_RewriteFlag.F_PROP && nextLink.to == this.key) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var data = token.machine.hasUpdate;
      token.dataStack.pop();
      token.dataStack.push([data, _Ge_CompData.EMPTY]);

      var wrapper = _FD_BoxWrapper.create().addToGroup(this.group);

      var con = new _Eu_Const(data).addToGroup(wrapper.box);
      new _Ef_Link(wrapper.prin.key, con.key, "n", "s").addToGroup(wrapper);
      nextLink.changeTo(wrapper.prin.key, "s");
      this.delete();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Fr_ = function () {
    return new _Fo_Prop();
  };

  var _J6__95typeof = function (obj) {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_3_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_3_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_3_[1](obj);
  };

  var _Hf__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Hg__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    if (call && (__captured__scope_3_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _J7__95assertThisInitialized(self);
  };

  var _J7__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hh__95get = function (target, property, receiver) {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    if (typeof Reflect !== "undefined" && Reflect.get) {
      __captured__scope_3_[3] = Reflect.get;
    } else {
      __captured__scope_3_[3] = function _get(target, property, receiver) {
        var base = _Jp__95superPropBase(target, property);

        if (!base) return;
        var desc = Object.getOwnPropertyDescriptor(base, property);

        if (desc.get) {
          return desc.get.call(receiver);
        }

        return desc.value;
      };
    }

    return __captured__scope_3_[3](target, property, receiver || target);
  };

  var _Jp__95superPropBase = function (object, property) {
    while (!Object.prototype.hasOwnProperty.call(object, property)) {
      object = _HH_(object);
      if (object === null) break;
    }

    return object;
  };

  var _G2_Prov = function () {
    var _this;

    _Hf__95classCallCheck(this, _G2_Prov);

    _this = _Hg__95possibleConstructorReturn(this, _HH_(_G2_Prov).call(this, 'diamond', '', "indianred1"));
    _this.width = ".3";
    _this.height = ".3";
    return _this;
  };

  var _G3_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.dataStack.push(_Ge_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      var data = token.dataStack.pop();
      token.dataStack.pop();
      token.dataStack.push(data);
      token.rewriteFlag = _Gk_RewriteFlag.F_MOD;
      return this.findLinksInto(null)[0];
    }
  };

  var _G4_ = function (token, nextLink) {
    if (nextLink.to == this.key && token.rewriteFlag == _Gk_RewriteFlag.F_MOD) {
      token.rewriteFlag = _Gk_RewriteFlag.EMPTY;
      var data = token.dataStack.pop();

      if (_Gd_.isNumber(data[0]) || typeof data[0] === "boolean") {
        var mod = new _FO_Mod().addToGroup(this.group);
        var con = new _Eu_Const(data[0]).addToGroup(this.group);
        new _Ef_Link(mod.key, con.key, "w", "s").addToGroup(this.group);
        var outLink = this.findLinksOutOf(null)[0];
        outLink.changeFrom(mod.key, "e");
        var inLink = this.findLinksInto(null)[0];
        inLink.changeTo(mod.key, "s");
        this.delete();
        token.rewrite = true;
        token.dataStack.push([data[0], mod.key]);
      }

      return nextLink;
    } else if (token.rewriteFlag == _Gk_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _G5_ = function () {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];

    if (outLink != null && inLink != null) {
      inLink.changeTo(outLink.to, outLink.toPort);
    }

    __captured__scope_3_[3](_HH_(_G2_Prov.prototype), "delete", this).call(this);
  };

  var _G6_ = function () {
    return new _G2_Prov();
  };

  var _Hk__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _GL_GC = function (graph) {
    _Hk__95classCallCheck(this, _GL_GC);

    this.graph = graph;
    this.noMore = false;
  };

  var _EM_ = _GL_GC.prototype;

  var _GI_ = function () {
    /*
            do {
            	this.noMore = true;
            	this.collectInGroup(this.graph.child);
            } while (!this.noMore)
            */
  };

  var _GJ_ = function (group) {
    var _arr = Array.from(group.nodes);

    for (var _i = 0; _i < _arr.length; _i++) {
      var node = _arr[_i];

      if (node instanceof _Fi_Weak || node instanceof _FV_Contract && node.findLinksInto(null).length == 0) {
        var link = node.findLinksOutOf(null)[0];
        var nextNode = this.graph.findNodeByKey(link.to);

        if (!(nextNode instanceof _HW_Abs && link.toPort == "w")) {
          this.noMore = false;
          this.collectFromBottom(node);
        }
      } else if (node instanceof _Ez_Group) {
        this.collectInGroup(node);
      }
    }
  };

  var _GK_ = function (node) {
    if (node instanceof _FV_Contract && node.findLinksInto(null).length != 0) {} else if (node instanceof _F5_Promo || node instanceof _I2_Recur) {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = node.group.auxs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var aux = _step.value;
          this.collectFromBottom(aux);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      node.group.delete();
    } else {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = node.findLinksOutOf(null)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var link = _step2.value;
          this.collectFromBottom(this.graph.findNodeByKey(link.to));
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      node.delete();
    }
  };

  var _Gb_GoIMachine = function () {
    _IE__95classCallCheck(this, _Gb_GoIMachine);

    this.graph = new _GD_Graph(this);
    _Gd_.graph = this.graph; // cheating!

    this.token = new _GH_MachineToken(this);
    this.gc = new _GL_GC(this.graph);
    this.count = 0;
    this.token.isMain = true;
    this.evalTokens = [];
    this.cells = [];
    this.evaluating = false;
    this.newValues = new Map();
    this.hasUpdate = false;
    this.play = false;
    this.playing = false;
    this.finished = false;
  };

  var _ET_ = _Gb_GoIMachine.prototype;

  var _GM_ = function () {
    return this.playing;
  };

  var _GN_ = function (playValue) {
    this.play = playValue;
  };

  var _GO_ = function () {
    return this.playing;
  };

  var _GP_ = function (playingValue) {
    this.playing = playingValue;
  };

  var _GQ_ = function () {
    return this.finished;
  };

  var _GR_ = function (finishedValue) {
    this.finished = finishedValue;
  };

  var _GS_ = function (source) {
    var lexer = new _Hl_Lexer(source + '\0');
    var parser = new _Hn_Parser(lexer);
    var ast = parser.parse(); // init

    this.graph.clear();
    this.token.reset();
    this.count = 0;
    this.evalTokens = [];
    this.cells = [];
    this.readyEvalTokens = 0;
    this.evaluating = false;
    this.newValues.clear();
    this.hasUpdate = false; // create graph

    var start = new _Eg_Start().addToGroup(this.graph.child);
    var term = this.toGraph(ast, this.graph.child);
    new _Ef_Link(start.key, term.prin.key, "n", "s").addToGroup(this.graph.child);
    this.deleteVarNode(this.graph.child);
  };

  var _GT_ = function (ast, group) {
    var graph = this.graph;

    if (ast instanceof _Hp_Identifier) {
      var v = new _Fk_Var(ast.name).addToGroup(group);
      return new _FL_Term(v, [v]);
    } else if (ast instanceof _Hq_Abstraction) {
      var param = ast.param;

      var wrapper = _FD_BoxWrapper.create().addToGroup(group);

      var abs = new _HW_Abs().addToGroup(wrapper.box);
      var term = this.toGraph(ast.body, wrapper.box);
      new _Ef_Link(wrapper.prin.key, abs.key, "n", "s").addToGroup(wrapper);
      new _Ef_Link(abs.key, term.prin.key, "e", "s").addToGroup(abs.group);
      var auxs = Array.from(term.auxs);
      var paramUsed = false;
      var auxNode;
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = term.auxs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _aux = _step.value;

          if (_aux.name == param) {
            paramUsed = true;
            auxNode = _aux;
            break;
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      if (paramUsed) {
        auxs.splice(auxs.indexOf(auxNode), 1);
      } else {
        auxNode = new _Fi_Weak(param).addToGroup(abs.group);
      }

      new _Ef_Link(auxNode.key, abs.key, "nw", "w", true).addToGroup(abs.group);
      wrapper.auxs = wrapper.createPaxsOnTopOf(auxs);
      return new _FL_Term(wrapper.prin, wrapper.auxs);
    } else if (ast instanceof _Hr_Application) {
      var app = new _Fs_App().addToGroup(group); //lhs

      var left = this.toGraph(ast.lhs, group);
      var der = new _Fm_Der(left.prin.name).addToGroup(group);
      new _Ef_Link(der.key, left.prin.key, "n", "s").addToGroup(group); // rhs

      var right = this.toGraph(ast.rhs, group);
      new _Ef_Link(app.key, der.key, "w", "s").addToGroup(group);
      new _Ef_Link(app.key, right.prin.key, "e", "s").addToGroup(group);
      return new _FL_Term(app, _FL_Term.joinAuxs(left.auxs, right.auxs, group));
    } else if (ast instanceof _Hs_Constant) {
      var wrapper = _FD_BoxWrapper.create().addToGroup(group);

      var constant = new _Eu_Const(ast.value).addToGroup(wrapper.box);
      new _Ef_Link(wrapper.prin.key, constant.key, "n", "s").addToGroup(wrapper);
      return new _FL_Term(wrapper.prin, wrapper.auxs);
    } else if (ast instanceof _Ht_BinaryOp) {
      var binop = new _Fd_BinOp(ast.name).addToGroup(group);
      binop.subType = ast.type;
      var left = this.toGraph(ast.v1, group);
      var right = this.toGraph(ast.v2, group);
      new _Ef_Link(binop.key, left.prin.key, "w", "s").addToGroup(group);
      new _Ef_Link(binop.key, right.prin.key, "e", "s").addToGroup(group);
      return new _FL_Term(binop, _FL_Term.joinAuxs(left.auxs, right.auxs, group));
    } else if (ast instanceof _Hx_UnaryOp) {
      var unop = new _Hy_UnOp(ast.name).addToGroup(group);
      unop.subType = ast.type;
      var box = this.toGraph(ast.v1, group);
      new _Ef_Link(unop.key, box.prin.key, "n", "s").addToGroup(group);
      return new _FL_Term(unop, box.auxs);
    } else if (ast instanceof _I0_IfThenElse) {
      var ifnode = new _FZ_If().addToGroup(group);
      var cond = this.toGraph(ast.cond, group);
      var t1 = this.toGraph(ast.t1, group);
      var t2 = this.toGraph(ast.t2, group);
      new _Ef_Link(ifnode.key, cond.prin.key, "w", "s").addToGroup(group);
      new _Ef_Link(ifnode.key, t1.prin.key, "n", "s").addToGroup(group);
      new _Ef_Link(ifnode.key, t2.prin.key, "e", "s").addToGroup(group);
      return new _FL_Term(ifnode, _FL_Term.joinAuxs(_FL_Term.joinAuxs(t1.auxs, t2.auxs, group), cond.auxs, group));
    } else if (ast instanceof _I1_Recursion) {
      var p1 = ast.param; // recur term

      var wrapper = _FD_BoxWrapper.create().addToGroup(group);

      wrapper.prin.delete();
      var recur = new _I2_Recur().addToGroup(wrapper);
      wrapper.prin = recur;
      var box = this.toGraph(ast.body, wrapper.box);
      wrapper.auxs = wrapper.createPaxsOnTopOf(box.auxs);
      new _Ef_Link(recur.key, box.prin.key, "e", "s").addToGroup(wrapper);
      var p1Used = false;
      var auxNode1;

      for (var i = 0; i < wrapper.auxs.length; i++) {
        var aux = wrapper.auxs[i];

        if (aux.name == p1) {
          p1Used = true;
          auxNode1 = this.graph.findNodeByKey(aux.findLinksInto(null)[0].from);
          aux.delete();
          break;
        }
      }

      if (p1Used) {// wrapper.auxs.splice(wrapper.auxs.indexOf(auxNode1), 1);
      } else {
        auxNode1 = new _Fi_Weak(p1).addToGroup(wrapper.box);
      }

      new _Ef_Link(auxNode1.key, recur.key, "nw", "w", true).addToGroup(wrapper);
      return new _FL_Term(wrapper.prin, wrapper.auxs);
    } else if (ast instanceof _I4_ProvisionalConstant) {
      var term = this.toGraph(ast.term, group);
      var prov = new _G2_Prov().addToGroup(group);
      new _Ef_Link(prov.key, term.prin.key, "n", "s").addToGroup(group);
      return new _FL_Term(prov, term.auxs);
    } else if (ast instanceof _I5_Deprecation) {
      var term = this.toGraph(ast.term, group);
      var dep = new _I6_Dep().addToGroup(group);
      new _Ef_Link(dep.key, term.prin.key, "n", "s").addToGroup(group);
      return new _FL_Term(dep, term.auxs);
    } else if (ast instanceof _I8_Dereference) {
      var term = this.toGraph(ast.term, group);
      var deref = new _FS_Deref().addToGroup(group);
      new _Ef_Link(deref.key, term.prin.key, "n", "s").addToGroup(group);
      return new _FL_Term(deref, term.auxs);
    } else if (ast instanceof _I9_Change) {
      var param = ast.param;
      var delta = new _Fy_Delta().addToGroup(group);
      var term = this.toGraph(ast.body, group);
      var v = new _Fk_Var(param).addToGroup(group);
      new _Ef_Link(delta.key, v.key, "w", "s").addToGroup(group);
      new _Ef_Link(delta.key, term.prin.key, "e", "s").addToGroup(group);
      var auxs = Array.from(term.auxs);
      var p1Used = false;
      var auxNode1;

      for (var i = 0; i < term.auxs.length; i++) {
        var aux = auxs[i];

        if (aux.name == param) {
          p1Used = true;
          auxs.splice(i, 1);
          var con = new _FV_Contract(aux.name).addToGroup(group);
          new _Ef_Link(aux.key, con.key, "n", "s").addToGroup(group);
          new _Ef_Link(v.key, con.key, "n", "s").addToGroup(group);
          auxs.push(con);
          break;
        }
      }

      if (!p1Used) auxs.push(v);
      return new _FL_Term(delta, auxs);
    } else if (ast instanceof _IA_Assign) {
      var param = ast.param;
      var setn = new _IB_Set().addToGroup(group);
      var term = this.toGraph(ast.body, group);
      var v = new _Fk_Var(param).addToGroup(group);
      new _Ef_Link(setn.key, v.key, "w", "s").addToGroup(group);
      new _Ef_Link(setn.key, term.prin.key, "e", "s").addToGroup(group);
      var auxs = Array.from(term.auxs);
      var p1Used = false;
      var auxNode1;

      for (var i = 0; i < term.auxs.length; i++) {
        var aux = auxs[i];

        if (aux.name == param) {
          p1Used = true;
          auxs.splice(i, 1);
          var con = new _FV_Contract(aux.name).addToGroup(group);
          new _Ef_Link(aux.key, con.key, "n", "s").addToGroup(group);
          new _Ef_Link(v.key, con.key, "n", "s").addToGroup(group);
          auxs.push(con);
          break;
        }
      }

      if (!p1Used) auxs.push(v);
      return new _FL_Term(setn, auxs);
    } else if (ast instanceof _ID_Propagation) {
      var prop = new _Fo_Prop().addToGroup(group);
      return new _FL_Term(prop, []);
    }
  };

  var _GU_ = function (group) {
    var _arr = Array.from(group.nodes);

    for (var _i = 0; _i < _arr.length; _i++) {
      var node = _arr[_i];
      if (node instanceof _Ez_Group) this.deleteVarNode(node);else if (node instanceof _Fk_Var) node.deleteAndPreserveOutLink();
    }
  };

  var _GV_ = function () {
    this.evaluating = true;
    this.hasUpdate = false;
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = this.cells[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var key = _step2.value;
        var cell = this.graph.findNodeByKey(key);
        var evalToken = new _GH_MachineToken(this);
        evalToken.isMain = false;
        evalToken.setLink(cell.findLinksOutOf('e')[0]);
        this.evalTokens.push(evalToken);
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }
  };

  var _GW_ = function (a) {
    var j, x, i;

    for (i = a.length - 1; i > 0; i--) {
      j = Math.floor(Math.random() * (i + 1));
      x = a[i];
      a[i] = a[j];
      a[j] = x;
    }
  };

  var _GX_ = function (tokens) {
    // random	

    /*	
            var arr = Array.from(new Array(tokens.length),(val,index)=>index+1);	
            this.shuffle(arr);	
            for (var i=0; i<arr.length; i++) {	
            	var token = arr_2[arr[i]-1];	
            	this.tokenPass(token, flag, dataStack, boxStack, modStack);	
            }	
            */
    var arr_2 = Array.from(tokens); // all progress 1 step

    for (var i = 0; i < arr_2.length; i++) {
      var token = arr_2[i];
      this.tokenPass(token);
    }
  };

  var _GY_ = function () {
    if (!this.isFinished()) {
      /*	
                this.count++;	
                if (this.count == 200) {	
                	this.count = 0;	
                	this.gc.collect();	
                }	
                */
      if (this.evaluating) {
        this.batchPass(this.evalTokens);

        if (this.evalTokens.length == 0) {
          this.evaluating = false;
          var machine = this;
          this.newValues.forEach(function (value, key, map) {
            var mod = machine.graph.findNodeByKey(key);
            var oldData = mod.update(value);
            if (oldData != value) machine.hasUpdate = true;
          });
          this.newValues.clear();
          return;
        }
      } else this.tokenPass(this.token);
    }

    return this.getData(this.token);
  };

  var _GZ_ = function (token) {
    var node;

    if (!token.transited) {
      if (token.link != null) {
        var target = token.forward ? token.link.to : token.link.from;
        node = this.graph.findNodeByKey(target);
      } else node = this.graph.findNodeByKey("nd1");

      var nextLink;
      token.rewrite = false;
      nextLink = node.transition(token, token.link);

      if (nextLink != null) {
        token.setLink(nextLink);
        token.transited = true;

        if (token.isMain) {// prints progress
          // console.log(this.getData(token));
        }
      } else {
        token.transited = false;

        if (token.isMain) {
          token.setLink(null); //this.gc.collect();

          this.setPlay(false);
          this.setPlaying(false);
          this.setFinished(true);
        } else token.setLink(token.link);
      }
    } else {
      var target = token.forward ? token.link.from : token.link.to;
      node = this.graph.findNodeByKey(target);
      var nextLink = node.rewrite(token, token.link);

      if (!token.rewrite) {
        token.transited = false;
        this.tokenPass(token);
      } else {
        token.setLink(nextLink);
      }
    }
  };

  var _Ga_ = function (token) {
    var dataStack = Array.from(token.dataStack).reverse();
    dataStack.push('□'); // the latest value is stored in the first element in the dataStack

    var data = dataStack[0]; // data consists of the last node and it's link

    if (data[0] === 'λ') {
      // abstraction
      var machine = this; // this means it doesn't return a simple value

      return function (source) {
        // create AST of the future abstract arguments
        var lexer = new _Hl_Lexer(source + '\0');
        var parser = new _Hn_Parser(lexer);
        var ast = parser.parse(); // init

        machine.token.reset();
        machine.count = 0;
        machine.evalTokens = [];
        machine.cells = [];
        machine.readyEvalTokens = 0;
        machine.evaluating = false;
        machine.newValues.clear();
        machine.hasUpdate = false; // get the start node

        var start = machine.graph.findNodeByKey("nd1"); // the start node will point to the node that'll be the lhs of the application

        var left = machine.graph.findNodeByKey(start.links[0].to);
        var leftAuxs = left.group.auxs; // need to remove link out of start nodes

        start.findLinksConnected().forEach(function (link) {
          link.delete();
        }); // follow the same steps from Application in toGraph

        var der = new _Fm_Der(left.name).addToGroup(machine.graph.child);
        new _Ef_Link(der.key, left.key, "n", "s").addToGroup(machine.graph.child); // create the rhs from the source AST

        var right = machine.toGraph(ast, machine.graph.child);
        var app = new _Fs_App().addToGroup(machine.graph.child);
        new _Ef_Link(app.key, der.key, "w", "s").addToGroup(machine.graph.child);
        new _Ef_Link(app.key, right.prin.key, "e", "s").addToGroup(machine.graph.child);
        var term = new _FL_Term(app, _FL_Term.joinAuxs(leftAuxs, right.auxs, machine.graph.child));
        new _Ef_Link(start.key, term.prin.key, "n", "s").addToGroup(machine.graph.child);
        machine.deleteVarNode(machine.graph.child);
      };
    } else if (data[1] !== '-') {
      var machine = Object.assign(Object.create(Object.getPrototypeOf(_Gb_GoIMachine)), this);
      return {
        data: data[0],
        machine: machine
      };
    } else {
      if (data[0] === '•') {
        // this represents the unit so it doesn't return anything
        return undefined;
      } else {
        return data[0];
      }
    }
  };

  var _4_autoPlay = function (callback) {
    var __captured__scope_1_ = __scope_0_main[0] || __get_scope_binding_0_get_95scope_95binding(0);

    __captured__scope_1_[0]++;

    _7_machine.setPlaying(true);

    var result;

    if (!_7_machine.isFinished()) {
      result = _7_machine.pass();
    }

    if (_7_machine.isFinished()) {
      if (typeof result === 'function') {
        callback(null, function () {
          _7_machine.setPlay(false);

          _7_machine.setPlaying(false); // can only receive one argument at a time so this work


          if (arguments.length !== 0) {
            result(arguments[0]);
          }

          _7_machine.setPlay(true);

          _7_machine.setFinished(false);

          if (!_7_machine.isPlaying()) {
            _4_autoPlay(callback);
          }
        });
      } else {
        callback(null, result);
      }
    } else {
      if (_7_machine.isPlay()) {
        if (_Gc_.__residual) {
          // if we're in Prepack, and weve reached its maximum nubmer of calls
          if (__captured__scope_1_[0] > 600 / 3) {
            if (__captured__scope_1_[0] > 600) {
              // set to 0 because up till now Prepack evaluated everything
              __captured__scope_1_[0] = 0;

              _Gc_.__residual("void", function (autoPlay, callback) {
                autoPlay(callback);
              }, _4_autoPlay, callback);
            } else {
              // decrease now because we have already added a timeout
              __captured__scope_1_[0]--;
              setTimeout(function () {
                _4_autoPlay(callback);
              }, 0);
            }
          } else {
            // just call the function as it is
            _4_autoPlay(callback);
          }
        } else {
          // otherwise, if we've reached the maximum number of calls on the stack
          if (__captured__scope_1_[0] > 600) {
            // call the function with a timeout
            setTimeout(function () {
              _4_autoPlay(callback);
            }, 0);
          } else {
            // just call the function as it is
            _4_autoPlay(callback);
          }
        }
      } else {
        _7_machine.setPlaying(false);
      }
    }
  };

  var _5_ = function (err, result) {
    {
      if (_Gc_.__residual) {
        _Gc_.__residual('void', function (console) {
          console.timeEnd('time');
        }, _0_);
      } else {
        console.timeEnd('time');
      }
    }

    _H8_(err, result);
  };

  var _2_ = function (console) {
    console.time('time');
  };

  var _Ks_ = function (obj) {
    return typeof obj;
  };

  var _Jb_ = function (obj) {
    return typeof obj;
  };

  var _J2_ = function (obj) {
    return typeof obj;
  };

  var _JW_ = function (obj) {
    return typeof obj;
  };

  var _JY_ = function (obj) {
    return typeof obj;
  };

  var _Jk_ = function (obj) {
    return typeof obj;
  };

  var _Ji_ = function (obj) {
    return typeof obj;
  };

  var _Jh_ = function (obj) {
    return typeof obj;
  };

  var _J4_ = function (obj) {
    return typeof obj;
  };

  var _Je_ = function (obj) {
    return typeof obj;
  };

  var _3_ = function () {
    _4_autoPlay(_5_);
  };

  var __constructor = function () {};

  var _0_ = console;

  _2_(_0_);

  var _HH_ = _$3_Object_46getPrototypeOf;

  var _8_graph = (__constructor.prototype = _EB_, new __constructor());

  _8_graph.key = 157;
  _8_graph.linkKey = 0;

  var _B_ = new _$4_Map();

  _8_graph.allNodes = _B_;
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _EV_, _$5_Object_46defineProperty(_M_, "addToNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _EW_, _$5_Object_46defineProperty(_M_, "addToGraph", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _EX_, _$5_Object_46defineProperty(_M_, "addToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _EY_, _$5_Object_46defineProperty(_M_, "changeToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _EZ_, _$5_Object_46defineProperty(_M_, "changeFrom", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ea_, _$5_Object_46defineProperty(_M_, "changeTo", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Eb_, _$5_Object_46defineProperty(_M_, "focus", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ec_, _$5_Object_46defineProperty(_M_, "clearFocus", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ed_, _$5_Object_46defineProperty(_M_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ee_, _$5_Object_46defineProperty(_M_, "toString", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1b_otherNextLink = (__constructor.prototype = _M_, new __constructor());

  _1b_otherNextLink.from = "nd39";
  _1b_otherNextLink.to = "nd155";
  _1b_otherNextLink.fromPort = "n";
  _1b_otherNextLink.toPort = "s";
  _1b_otherNextLink.reverse = false;
  _1b_otherNextLink.colour = null;
  _1b_otherNextLink.penWidth = null;
  _1b_otherNextLink.graph = _8_graph;

  var _1S_otherNextLink = (__constructor.prototype = _M_, new __constructor());

  _1S_otherNextLink.from = "nd46";
  _1S_otherNextLink.to = "nd151";
  _1S_otherNextLink.fromPort = "n";
  _1S_otherNextLink.toPort = "s";
  _1S_otherNextLink.reverse = false;
  _1S_otherNextLink.colour = null;
  _1S_otherNextLink.penWidth = null;
  _1S_otherNextLink.graph = _8_graph;

  var _4B_link = (__constructor.prototype = _M_, new __constructor());

  _4B_link.from = "nd53";
  _4B_link.to = "nd54";
  _4B_link.fromPort = "n";
  _4B_link.toPort = "s";
  _4B_link.reverse = void 0;
  _4B_link.colour = null;
  _4B_link.penWidth = null;
  _4B_link.graph = _8_graph;

  var _1J_link = (__constructor.prototype = _M_, new __constructor());

  _1J_link.from = "nd139";
  _1J_link.to = "nd53";
  _1J_link.fromPort = "e";
  _1J_link.toPort = "s";
  _1J_link.reverse = void 0;
  _1J_link.colour = null;
  _1J_link.penWidth = null;
  _1J_link.graph = _8_graph;

  var _1N_otherNextLink = (__constructor.prototype = _M_, new __constructor());

  _1N_otherNextLink.from = "nd59";
  _1N_otherNextLink.to = "nd145";
  _1N_otherNextLink.fromPort = "n";
  _1N_otherNextLink.toPort = "s";
  _1N_otherNextLink.reverse = false;
  _1N_otherNextLink.colour = null;
  _1N_otherNextLink.penWidth = null;
  _1N_otherNextLink.graph = _8_graph;

  var _1X_link = (__constructor.prototype = _M_, new __constructor());

  _1X_link.from = "nd1";
  _1X_link.to = "nd121";
  _1X_link.fromPort = "n";
  _1X_link.toPort = "s";
  _1X_link.reverse = false;
  _1X_link.colour = null;
  _1X_link.penWidth = null;
  _1X_link.graph = _8_graph;

  var _g_link = (__constructor.prototype = _M_, new __constructor());

  _g_link.from = "nd77";
  _g_link.to = "nd86";
  _g_link.fromPort = "n";
  _g_link.toPort = "s";
  _g_link.reverse = void 0;
  _g_link.colour = null;
  _g_link.penWidth = null;
  _g_link.graph = _8_graph;

  var _k_link = (__constructor.prototype = _M_, new __constructor());

  _k_link.from = "nd147";
  _k_link.to = "nd86";
  _k_link.fromPort = "n";
  _k_link.toPort = "s";
  _k_link.reverse = void 0;
  _k_link.colour = null;
  _k_link.penWidth = null;
  _k_link.graph = _8_graph;

  var _o_link = (__constructor.prototype = _M_, new __constructor());

  _o_link.from = "nd83";
  _o_link.to = "nd141";
  _o_link.fromPort = "n";
  _o_link.toPort = "s";
  _o_link.reverse = false;
  _o_link.colour = null;
  _o_link.penWidth = null;
  _o_link.graph = _8_graph;

  var _2X_link = (__constructor.prototype = _M_, new __constructor());

  _2X_link.from = "nd94";
  _2X_link.to = "nd95";
  _2X_link.fromPort = "n";
  _2X_link.toPort = "s";
  _2X_link.reverse = void 0;
  _2X_link.colour = null;
  _2X_link.penWidth = null;
  _2X_link.graph = _8_graph;

  var _S_link = (__constructor.prototype = _M_, new __constructor());

  _S_link.from = "nd141";
  _S_link.to = "nd94";
  _S_link.fromPort = "e";
  _S_link.toPort = "s";
  _S_link.reverse = void 0;
  _S_link.colour = null;
  _S_link.penWidth = null;
  _S_link.graph = _8_graph;

  var _X_nextLink = (__constructor.prototype = _M_, new __constructor());

  _X_nextLink.from = "nd86";
  _X_nextLink.to = "nd139";
  _X_nextLink.fromPort = "n";
  _X_nextLink.toPort = "s";
  _X_nextLink.reverse = false;
  _X_nextLink.colour = null;
  _X_nextLink.penWidth = null;
  _X_nextLink.graph = _8_graph;

  var _1t_link = (__constructor.prototype = _M_, new __constructor());

  _1t_link.from = "nd105";
  _1t_link.to = "nd106";
  _1t_link.fromPort = "n";
  _1t_link.toPort = "s";
  _1t_link.reverse = void 0;
  _1t_link.colour = null;
  _1t_link.penWidth = null;
  _1t_link.graph = _8_graph;

  var _H_link = (__constructor.prototype = _M_, new __constructor());

  _H_link.from = "nd148";
  _H_link.to = "nd105";
  _H_link.fromPort = "n";
  _H_link.toPort = "s";
  _H_link.reverse = void 0;
  _H_link.colour = null;
  _H_link.penWidth = null;
  _H_link.graph = _8_graph;

  var _w_link = (__constructor.prototype = _M_, new __constructor());

  _w_link.from = "nd121";
  _w_link.to = "nd122";
  _w_link.fromPort = "w";
  _w_link.toPort = "s";
  _w_link.reverse = void 0;
  _w_link.colour = null;
  _w_link.penWidth = null;
  _w_link.graph = _8_graph;

  var _11_link = (__constructor.prototype = _M_, new __constructor());

  _11_link.from = "nd122";
  _11_link.to = "nd132";
  _11_link.fromPort = "e";
  _11_link.toPort = "s";
  _11_link.reverse = void 0;
  _11_link.colour = null;
  _11_link.penWidth = null;
  _11_link.graph = _8_graph;

  var _15_i = (__constructor.prototype = _M_, new __constructor());

  _15_i.from = "nd121";
  _15_i.to = "nd132";
  _15_i.fromPort = "n";
  _15_i.toPort = "s";
  _15_i.reverse = void 0;
  _15_i.colour = null;
  _15_i.penWidth = null;
  _15_i.graph = _8_graph;

  var _18_link = (__constructor.prototype = _M_, new __constructor());

  _18_link.from = "nd122";
  _18_link.to = "nd133";
  _18_link.fromPort = "w";
  _18_link.toPort = "s";
  _18_link.reverse = void 0;
  _18_link.colour = null;
  _18_link.penWidth = null;
  _18_link.graph = _8_graph;

  var _1B_link = (__constructor.prototype = _M_, new __constructor());

  _1B_link.from = "nd121";
  _1B_link.to = "nd133";
  _1B_link.fromPort = "e";
  _1B_link.toPort = "s";
  _1B_link.reverse = void 0;
  _1B_link.colour = null;
  _1B_link.penWidth = null;
  _1B_link.graph = _8_graph;

  var _1E_link = (__constructor.prototype = _M_, new __constructor());

  _1E_link.from = "nd132";
  _1E_link.to = "nd83";
  _1E_link.fromPort = "n";
  _1E_link.toPort = "s";
  _1E_link.reverse = false;
  _1E_link.colour = "red";
  _1E_link.penWidth = "20";
  _1E_link.graph = _8_graph;

  var _s_nextLink = (__constructor.prototype = _M_, new __constructor());

  _s_nextLink.from = "nd133";
  _s_nextLink.to = "nd77";
  _s_nextLink.fromPort = "n";
  _s_nextLink.toPort = "s";
  _s_nextLink.reverse = false;
  _s_nextLink.colour = null;
  _s_nextLink.penWidth = null;
  _s_nextLink.graph = _8_graph;

  var _N_link = (__constructor.prototype = _M_, new __constructor());

  _N_link.from = "nd139";
  _N_link.to = "nd140";
  _N_link.fromPort = "w";
  _N_link.toPort = "s";
  _N_link.reverse = void 0;
  _N_link.colour = null;
  _N_link.penWidth = null;
  _N_link.graph = _8_graph;

  var _c_link = (__constructor.prototype = _M_, new __constructor());

  _c_link.from = "nd141";
  _c_link.to = "nd142";
  _c_link.fromPort = "w";
  _c_link.toPort = "s";
  _c_link.reverse = void 0;
  _c_link.colour = null;
  _c_link.penWidth = null;
  _c_link.graph = _8_graph;

  var _3o_ = (__constructor.prototype = _M_, new __constructor());

  _3o_.from = "nd145";
  _3o_.to = "nd146";
  _3o_.fromPort = "n";
  _3o_.toPort = "s";
  _3o_.reverse = void 0;
  _3o_.colour = null;
  _3o_.penWidth = null;
  _3o_.graph = _8_graph;

  var _4q_ = (__constructor.prototype = _M_, new __constructor());

  _4q_.from = "nd151";
  _4q_.to = "nd152";
  _4q_.fromPort = "n";
  _4q_.toPort = "s";
  _4q_.reverse = void 0;
  _4q_.colour = null;
  _4q_.penWidth = null;
  _4q_.graph = _8_graph;

  var _5K_ = (__constructor.prototype = _M_, new __constructor());

  _5K_.from = "nd155";
  _5K_.to = "nd156";
  _5K_.fromPort = "n";
  _5K_.toPort = "s";
  _5K_.reverse = void 0;
  _5K_.colour = null;
  _5K_.penWidth = null;
  _5K_.graph = _8_graph;
  var _E9_ = [_1b_otherNextLink, _1S_otherNextLink, _4B_link, _1J_link, _1N_otherNextLink, _1X_link, _g_link, _k_link, _o_link, _2X_link, _S_link, _X_nextLink, _1t_link, _H_link, _w_link, _11_link, _15_i, _18_link, _1B_link, _1E_link, _s_nextLink, _N_link, _c_link, _3o_, _4q_, _5K_,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];
  _E9_.length = 26;
  _8_graph.allLinks = _E9_;
  var _Gd_ = {
    isNumber: _HA_isNumber,
    graph: _8_graph
  };

  var _1o_ = (__constructor.prototype = _1p_, new __constructor());

  _Eg_Start.prototype = _1o_;

  _$6_Object_46setPrototypeOf(_Eg_Start, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Eg_Start, _$5_Object_46defineProperty(_1o_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _Ge_CompData = {
    EMPTY: "-",
    PROMPT: "*",
    LAMBDA: "\u03BB",
    R: "@",
    UNIT: "\u2022",
    IF0: "if0",
    IF1: "if1"
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Eh_, _$5_Object_46defineProperty(_1o_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ei_, _$5_Object_46defineProperty(_1o_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1i_fromNode = (__constructor.prototype = _1o_, new __constructor());

  _1i_fromNode.key = "nd1";
  _1i_fromNode.shape = "point";
  _1i_fromNode.text = "";
  _1i_fromNode.colour = "black";
  _1i_fromNode.name = void 0;
  _1i_fromNode.graph = _8_graph;
  _1i_fromNode.width = null;
  _1i_fromNode.height = null;
  var _1m_ = [_1X_link,,];
  _1m_.length = 1;
  _1i_fromNode.links = _1m_;

  _B_.set("nd1", _1i_fromNode);

  var _2G_ = (__constructor.prototype = _1p_, new __constructor());

  _F9_Expo.prototype = _2G_;

  _$6_Object_46setPrototypeOf(_F9_Expo, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F9_Expo, _$5_Object_46defineProperty(_2G_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FA_, _$5_Object_46defineProperty(_2G_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _HI_ = _$8_Reflect_46get;
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FB_, _$5_Object_46defineProperty(_2G_, "deleteAndPreserveInLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FC_, _$5_Object_46defineProperty(_2G_, "deleteAndPreserveOutLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _4a_ = (__constructor.prototype = _2G_, new __constructor());

  _Fi_Weak.prototype = _4a_;

  _$6_Object_46setPrototypeOf(_Fi_Weak, _F9_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fi_Weak, _$5_Object_46defineProperty(_4a_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fj_, _$5_Object_46defineProperty(_4a_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _5f_otherNode = (__constructor.prototype = _4a_, new __constructor());

  _5f_otherNode.key = "nd39";
  _5f_otherNode.shape = null;
  _5f_otherNode.text = "C0";
  _5f_otherNode.colour = "cyan";
  _5f_otherNode.name = void 0;
  _5f_otherNode.graph = _8_graph;
  _5f_otherNode.width = ".3";
  _5f_otherNode.height = ".3";
  var _5k_ = [_1b_otherNextLink];
  _5f_otherNode.links = _5k_;

  _B_.set("nd39", _5f_otherNode);

  var _5B_otherNode = (__constructor.prototype = _4a_, new __constructor());

  _5B_otherNode.key = "nd46";
  _5B_otherNode.shape = null;
  _5B_otherNode.text = "C0";
  _5B_otherNode.colour = "cyan";
  _5B_otherNode.name = void 0;
  _5B_otherNode.graph = _8_graph;
  _5B_otherNode.width = ".3";
  _5B_otherNode.height = ".3";
  var _5G_ = [_1S_otherNextLink];
  _5B_otherNode.links = _5G_;

  _B_.set("nd46", _5B_otherNode);

  var _2F_ = (__constructor.prototype = _2G_, new __constructor());

  _F5_Promo.prototype = _2F_;

  _$6_Object_46setPrototypeOf(_F5_Promo, _F9_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F5_Promo, _$5_Object_46defineProperty(_2F_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _Gk_RewriteFlag = {
    EMPTY: "\u25A1",
    F_LAMBDA: "<\u03BB>",
    F_OP: "<$>",
    F_IF: "<if>",
    F_C: "<C>",
    F_PROMO: "<!>",
    F_RECUR: "<\u03BC>",
    F_MOD: "<M>",
    F_DEP: "<p>",
    F_DELTA: "<\u0394>",
    F_PROP: "<s>"
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F6_, _$5_Object_46defineProperty(_2F_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _66_ = (__constructor.prototype = _2G_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fm_Der, _$5_Object_46defineProperty(_66_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fn_, _$5_Object_46defineProperty(_66_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Fm_Der.prototype = _66_;

  _$6_Object_46setPrototypeOf(_Fm_Der, _F9_Expo);

  var _3I_ = (__constructor.prototype = _2G_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FV_Contract, _$5_Object_46defineProperty(_3I_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FW_, _$5_Object_46defineProperty(_3I_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FX_, _$5_Object_46defineProperty(_3I_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FY_, _$5_Object_46defineProperty(_3I_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _FV_Contract.prototype = _3I_;

  _$6_Object_46setPrototypeOf(_FV_Contract, _F9_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gw_, _$5_Object_46defineProperty(_FL_Term, "joinAuxs", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_FL_Term, _Ez_Group);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F7_, _$5_Object_46defineProperty(_2F_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F8_, _$5_Object_46defineProperty(_2F_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _4N_node = (__constructor.prototype = _2F_, new __constructor());

  _4N_node.key = "nd53";
  _4N_node.shape = null;
  _4N_node.text = "!";
  _4N_node.colour = "cyan";
  _4N_node.name = void 0;
  _4N_node.graph = _8_graph;
  _4N_node.width = ".3";
  _4N_node.height = ".3";
  var _4S_ = [_4B_link, _1J_link];
  _4N_node.links = _4S_;

  _B_.set("nd53", _4N_node);

  var _26_ = (__constructor.prototype = _1p_, new __constructor());

  _Eu_Const.prototype = _26_;

  _$6_Object_46setPrototypeOf(_Eu_Const, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Eu_Const, _$5_Object_46defineProperty(_26_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ev_, _$5_Object_46defineProperty(_26_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ew_, _$5_Object_46defineProperty(_26_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _4K_node = (__constructor.prototype = _26_, new __constructor());

  _4K_node.key = "nd54";
  _4K_node.shape = null;
  _4K_node.text = 3;
  _4K_node.colour = "mediumpurple1";
  _4K_node.name = 3;
  _4K_node.graph = _8_graph;
  _4K_node.width = null;
  _4K_node.height = null;
  var _4M_ = [_4B_link];
  _4K_node.links = _4M_;

  _B_.set("nd54", _4K_node);

  var _4U_otherNode = (__constructor.prototype = _4a_, new __constructor());

  _4U_otherNode.key = "nd59";
  _4U_otherNode.shape = null;
  _4U_otherNode.text = "C0";
  _4U_otherNode.colour = "cyan";
  _4U_otherNode.name = void 0;
  _4U_otherNode.graph = _8_graph;
  _4U_otherNode.width = ".3";
  _4U_otherNode.height = ".3";
  var _4Z_ = [_1N_otherNextLink];
  _4U_otherNode.links = _4Z_;

  _B_.set("nd59", _4U_otherNode);

  var _34_ = (__constructor.prototype = _1p_, new __constructor());

  _FS_Deref.prototype = _34_;

  _$6_Object_46setPrototypeOf(_FS_Deref, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FS_Deref, _$5_Object_46defineProperty(_34_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FT_, _$5_Object_46defineProperty(_34_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FU_, _$5_Object_46defineProperty(_34_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _2z_prev = (__constructor.prototype = _34_, new __constructor());

  _2z_prev.key = "nd77";
  _2z_prev.shape = null;
  _2z_prev.text = "d";
  _2z_prev.colour = "mediumpurple1";
  _2z_prev.name = void 0;
  _2z_prev.graph = _8_graph;
  _2z_prev.width = null;
  _2z_prev.height = null;
  var _32_ = [_g_link, _s_nextLink,,];
  _32_.length = 2;
  _2z_prev.links = _32_;

  _B_.set("nd77", _2z_prev);

  var _35_toNode = (__constructor.prototype = _34_, new __constructor());

  _35_toNode.key = "nd83";
  _35_toNode.shape = null;
  _35_toNode.text = "d";
  _35_toNode.colour = "mediumpurple1";
  _35_toNode.name = void 0;
  _35_toNode.graph = _8_graph;
  _35_toNode.width = null;
  _35_toNode.height = null;
  var _38_ = [_o_link, _1E_link,,];
  _38_.length = 2;
  _35_toNode.links = _38_;

  _B_.set("nd83", _35_toNode);

  var _3A_fromNode = (__constructor.prototype = _3I_, new __constructor());

  _3A_fromNode.key = "nd86";
  _3A_fromNode.shape = null;
  _3A_fromNode.text = "C";
  _3A_fromNode.colour = "cyan";
  _3A_fromNode.name = "x";
  _3A_fromNode.graph = _8_graph;
  _3A_fromNode.width = ".3";
  _3A_fromNode.height = ".3";
  var _3G_ = [_g_link, _k_link, _X_nextLink,,];
  _3G_.length = 3;
  _3A_fromNode.links = _3G_;

  _B_.set("nd86", _3A_fromNode);

  var _2k_node = (__constructor.prototype = _2F_, new __constructor());

  _2k_node.key = "nd94";
  _2k_node.shape = null;
  _2k_node.text = "!";
  _2k_node.colour = "cyan";
  _2k_node.name = void 0;
  _2k_node.graph = _8_graph;
  _2k_node.width = ".3";
  _2k_node.height = ".3";
  var _2p_ = [_2X_link, _S_link];
  _2k_node.links = _2p_;

  _B_.set("nd94", _2k_node);

  var _2g_node = (__constructor.prototype = _26_, new __constructor());

  _2g_node.key = "nd95";
  _2g_node.shape = null;
  _2g_node.text = 2;
  _2g_node.colour = "mediumpurple1";
  _2g_node.name = 2;
  _2g_node.graph = _8_graph;
  _2g_node.width = null;
  _2g_node.height = null;
  var _2j_ = [_2X_link];
  _2g_node.links = _2j_;

  _B_.set("nd95", _2g_node);

  var _29_node = (__constructor.prototype = _2F_, new __constructor());

  _29_node.key = "nd105";
  _29_node.shape = null;
  _29_node.text = "!";
  _29_node.colour = "cyan";
  _29_node.name = void 0;
  _29_node.graph = _8_graph;
  _29_node.width = ".3";
  _29_node.height = ".3";
  var _2E_ = [_1t_link, _H_link];
  _29_node.links = _2E_;

  _B_.set("nd105", _29_node);

  var _22_node = (__constructor.prototype = _26_, new __constructor());

  _22_node.key = "nd106";
  _22_node.shape = null;
  _22_node.text = 1;
  _22_node.colour = "mediumpurple1";
  _22_node.name = 1;
  _22_node.graph = _8_graph;
  _22_node.width = null;
  _22_node.height = null;
  var _25_ = [_1t_link];
  _22_node.links = _25_;

  _B_.set("nd106", _22_node);

  var _3O_ = (__constructor.prototype = _1p_, new __constructor());

  _FZ_If.prototype = _3O_;

  _$6_Object_46setPrototypeOf(_FZ_If, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FZ_If, _$5_Object_46defineProperty(_3O_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fa_, _$5_Object_46defineProperty(_3O_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fb_, _$5_Object_46defineProperty(_3O_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fc_, _$5_Object_46defineProperty(_3O_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3J_prev = (__constructor.prototype = _3O_, new __constructor());

  _3J_prev.key = "nd121";
  _3J_prev.shape = null;
  _3J_prev.text = "if";
  _3J_prev.colour = "mediumpurple1";
  _3J_prev.name = void 0;
  _3J_prev.graph = _8_graph;
  _3J_prev.width = null;
  _3J_prev.height = null;
  var _3M_ = [_w_link, _15_i, _1B_link, _1X_link,,];
  _3M_.length = 4;
  _3J_prev.links = _3M_;

  _B_.set("nd121", _3J_prev);

  var _3V_ = (__constructor.prototype = _1p_, new __constructor());

  _Fd_BinOp.prototype = _3V_;
  var _Gz_BinOpType = {
    And: 0,
    Or: 1,
    Plus: 2,
    Sub: 3,
    Mult: 4,
    Div: 7,
    Lte: 5
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gx_, _$5_Object_46defineProperty(_Fd_BinOp, "createPlus", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gy_, _$5_Object_46defineProperty(_Fd_BinOp, "createMult", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_Fd_BinOp, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fd_BinOp, _$5_Object_46defineProperty(_3V_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fe_, _$5_Object_46defineProperty(_3V_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_Ex_Box, _Ez_Group);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gv_, _$5_Object_46defineProperty(_FD_BoxWrapper, "create", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_FD_BoxWrapper, _FL_Term);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ff_, _$5_Object_46defineProperty(_3V_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fg_, _$5_Object_46defineProperty(_3V_, "binOpApply", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fh_, _$5_Object_46defineProperty(_3V_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3P_left = (__constructor.prototype = _3V_, new __constructor());

  _3P_left.key = "nd122";
  _3P_left.shape = null;
  _3P_left.text = "<=";
  _3P_left.colour = "mediumpurple1";
  _3P_left.name = void 0;
  _3P_left.graph = _8_graph;
  _3P_left.width = null;
  _3P_left.height = null;
  var _3S_ = [_w_link, _18_link, _11_link,,];
  _3S_.length = 3;
  _3P_left.links = _3S_;
  _3P_left.subType = 5;

  _B_.set("nd122", _3P_left);

  var _3W_right = (__constructor.prototype = _3I_, new __constructor());

  _3W_right.key = "nd132";
  _3W_right.shape = null;
  _3W_right.text = "C";
  _3W_right.colour = "cyan";
  _3W_right.name = "y";
  _3W_right.graph = _8_graph;
  _3W_right.width = ".3";
  _3W_right.height = ".3";
  var _3c_ = [_11_link, _15_i, _1E_link];
  _3W_right.links = _3c_;

  _B_.set("nd132", _3W_right);

  var _3d_left = (__constructor.prototype = _3I_, new __constructor());

  _3d_left.key = "nd133";
  _3d_left.shape = null;
  _3d_left.text = "C";
  _3d_left.colour = "cyan";
  _3d_left.name = "x";
  _3d_left.graph = _8_graph;
  _3d_left.width = ".3";
  _3d_left.height = ".3";
  var _3j_ = [_18_link, _1B_link, _s_nextLink,,];
  _3j_.length = 3;
  _3d_left.links = _3j_;

  _B_.set("nd133", _3d_left);

  var _2P_ = (__constructor.prototype = _1p_, new __constructor());

  _FO_Mod.prototype = _2P_;

  _$6_Object_46setPrototypeOf(_FO_Mod, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FO_Mod, _$5_Object_46defineProperty(_2P_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FP_, _$5_Object_46defineProperty(_2P_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FQ_, _$5_Object_46defineProperty(_2P_, "update", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FR_, _$5_Object_46defineProperty(_2P_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _2K_mod = (__constructor.prototype = _2P_, new __constructor());

  _2K_mod.key = "nd139";
  _2K_mod.shape = null;
  _2K_mod.text = "M";
  _2K_mod.colour = "indianred1";
  _2K_mod.name = void 0;
  _2K_mod.graph = _8_graph;
  _2K_mod.width = null;
  _2K_mod.height = null;
  var _2N_ = [_N_link, _X_nextLink, _1J_link,,];
  _2N_.length = 3;
  _2K_mod.links = _2N_;

  _B_.set("nd139", _2K_mod);

  var _2Q_value = (__constructor.prototype = _26_, new __constructor());

  _2Q_value.key = "nd140";
  _2Q_value.shape = null;
  _2Q_value.text = 3;
  _2Q_value.colour = "mediumpurple1";
  _2Q_value.name = 3;
  _2Q_value.graph = _8_graph;
  _2Q_value.width = null;
  _2Q_value.height = null;
  var _2T_ = [_N_link];
  _2Q_value.links = _2T_;

  _B_.set("nd140", _2Q_value);

  var _2r_mod = (__constructor.prototype = _2P_, new __constructor());

  _2r_mod.key = "nd141";
  _2r_mod.shape = null;
  _2r_mod.text = "M";
  _2r_mod.colour = "indianred1";
  _2r_mod.name = void 0;
  _2r_mod.graph = _8_graph;
  _2r_mod.width = null;
  _2r_mod.height = null;
  var _2u_ = [_c_link, _S_link, _o_link,,];
  _2u_.length = 3;
  _2r_mod.links = _2u_;

  _B_.set("nd141", _2r_mod);

  var _2w_value = (__constructor.prototype = _26_, new __constructor());

  _2w_value.key = "nd142";
  _2w_value.shape = null;
  _2w_value.text = 2;
  _2w_value.colour = "mediumpurple1";
  _2w_value.name = 2;
  _2w_value.graph = _8_graph;
  _2w_value.width = null;
  _2w_value.height = null;
  var _2y_ = [_c_link];
  _2w_value.links = _2y_;

  _B_.set("nd142", _2w_value);

  var _40_toNode = (__constructor.prototype = _2F_, new __constructor());

  _40_toNode.key = "nd145";
  _40_toNode.shape = null;
  _40_toNode.text = "!";
  _40_toNode.colour = "cyan";
  _40_toNode.name = void 0;
  _40_toNode.graph = _8_graph;
  _40_toNode.width = ".3";
  _40_toNode.height = ".3";
  var _45_ = [_3o_, _1N_otherNextLink,,];
  _45_.length = 2;
  _40_toNode.links = _45_;

  _B_.set("nd145", _40_toNode);

  var _3x_toNode = (__constructor.prototype = _26_, new __constructor());

  _3x_toNode.key = "nd146";
  _3x_toNode.shape = null;
  _3x_toNode.text = false;
  _3x_toNode.colour = "mediumpurple1";
  _3x_toNode.name = false;
  _3x_toNode.graph = _8_graph;
  _3x_toNode.width = null;
  _3x_toNode.height = null;
  var _3z_ = [_3o_];
  _3x_toNode.links = _3z_;

  _B_.set("nd146", _3x_toNode);

  var _4b_weak1 = (__constructor.prototype = _4a_, new __constructor());

  _4b_weak1.key = "nd147";
  _4b_weak1.shape = null;
  _4b_weak1.text = "C0";
  _4b_weak1.colour = "cyan";
  _4b_weak1.name = void 0;
  _4b_weak1.graph = _8_graph;
  _4b_weak1.width = ".3";
  _4b_weak1.height = ".3";
  var _4g_ = [_k_link];
  _4b_weak1.links = _4g_;

  _B_.set("nd147", _4b_weak1);

  var _4h_weak2 = (__constructor.prototype = _4a_, new __constructor());

  _4h_weak2.key = "nd148";
  _4h_weak2.shape = null;
  _4h_weak2.text = "C0";
  _4h_weak2.colour = "cyan";
  _4h_weak2.name = void 0;
  _4h_weak2.graph = _8_graph;
  _4h_weak2.width = ".3";
  _4h_weak2.height = ".3";
  var _4m_ = [_H_link];
  _4h_weak2.links = _4m_;

  _B_.set("nd148", _4h_weak2);

  var _53_toNode = (__constructor.prototype = _2F_, new __constructor());

  _53_toNode.key = "nd151";
  _53_toNode.shape = null;
  _53_toNode.text = "!";
  _53_toNode.colour = "cyan";
  _53_toNode.name = void 0;
  _53_toNode.graph = _8_graph;
  _53_toNode.width = ".3";
  _53_toNode.height = ".3";
  var _58_ = [_4q_, _1S_otherNextLink,,];
  _58_.length = 2;
  _53_toNode.links = _58_;

  _B_.set("nd151", _53_toNode);

  var _4z_toNode = (__constructor.prototype = _26_, new __constructor());

  _4z_toNode.key = "nd152";
  _4z_toNode.shape = null;
  _4z_toNode.text = "\u2022";
  _4z_toNode.colour = "mediumpurple1";
  _4z_toNode.name = "\u2022";
  _4z_toNode.graph = _8_graph;
  _4z_toNode.width = null;
  _4z_toNode.height = null;
  var _52_ = [_4q_];
  _4z_toNode.links = _52_;

  _B_.set("nd152", _4z_toNode);

  var _5X_toNode = (__constructor.prototype = _2F_, new __constructor());

  _5X_toNode.key = "nd155";
  _5X_toNode.shape = null;
  _5X_toNode.text = "!";
  _5X_toNode.colour = "cyan";
  _5X_toNode.name = void 0;
  _5X_toNode.graph = _8_graph;
  _5X_toNode.width = ".3";
  _5X_toNode.height = ".3";
  var _5c_ = [_5K_, _1b_otherNextLink,,];
  _5c_.length = 2;
  _5X_toNode.links = _5c_;

  _B_.set("nd155", _5X_toNode);

  var _5T_toNode = (__constructor.prototype = _26_, new __constructor());

  _5T_toNode.key = "nd156";
  _5T_toNode.shape = null;
  _5T_toNode.text = true;
  _5T_toNode.colour = "mediumpurple1";
  _5T_toNode.name = true;
  _5T_toNode.graph = _8_graph;
  _5T_toNode.width = null;
  _5T_toNode.height = null;
  var _5W_ = [_5K_];
  _5T_toNode.links = _5W_;

  _B_.set("nd156", _5T_toNode);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ej_, _$5_Object_46defineProperty(_1p_, "addToGraph", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ek_, _$5_Object_46defineProperty(_1p_, "addToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _El_, _$5_Object_46defineProperty(_1p_, "changeToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Em_, _$5_Object_46defineProperty(_1p_, "findLinksConnected", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _En_, _$5_Object_46defineProperty(_1p_, "findLinksInto", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Eo_, _$5_Object_46defineProperty(_1p_, "findLinksOutOf", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ep_, _$5_Object_46defineProperty(_1p_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Eq_, _$5_Object_46defineProperty(_1p_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Er_, _$5_Object_46defineProperty(_1p_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Es_, _$5_Object_46defineProperty(_1p_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _28_ = (__constructor.prototype = _1p_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ez_Group, _$5_Object_46defineProperty(_28_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F0_, _$5_Object_46defineProperty(_28_, "addNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F1_, _$5_Object_46defineProperty(_28_, "removeNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F2_, _$5_Object_46defineProperty(_28_, "addLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F3_, _$5_Object_46defineProperty(_28_, "removeLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _F4_, _$5_Object_46defineProperty(_28_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _D_ = (__constructor.prototype = _28_, new __constructor());

  _D_.key = "nd0";
  _D_.shape = null;
  _D_.text = null;
  _D_.colour = null;
  _D_.name = void 0;
  _D_.graph = _8_graph;
  _D_.group = null;
  _D_.width = null;
  _D_.height = null;
  var _G_ = [_H_link, _N_link, _S_link, _X_nextLink, _c_link, _g_link, _k_link, _o_link, _s_nextLink, _w_link, _11_link, _15_i, _18_link, _1B_link, _1E_link, _1J_link, _1N_otherNextLink, _1S_otherNextLink, _1X_link, _1b_otherNextLink,,,,,,,,,,];
  _G_.length = 20;
  _D_.links = _G_;

  var _2J_ = (__constructor.prototype = _28_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FL_Term, _$5_Object_46defineProperty(_2J_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FM_, _$5_Object_46defineProperty(_2J_, "set", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _6s_ = (__constructor.prototype = _2G_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fv_Pax, _$5_Object_46defineProperty(_6s_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fw_, _$5_Object_46defineProperty(_6s_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fx_, _$5_Object_46defineProperty(_6s_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Fv_Pax.prototype = _6s_;

  _$6_Object_46setPrototypeOf(_Fv_Pax, _F9_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FN_, _$5_Object_46defineProperty(_2J_, "createPaxsOnTopOf", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _2I_ = (__constructor.prototype = _2J_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FD_BoxWrapper, _$5_Object_46defineProperty(_2I_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FE_, _$5_Object_46defineProperty(_2I_, "set", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FF_, _$5_Object_46defineProperty(_2I_, "removeAux", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FG_, _$5_Object_46defineProperty(_2I_, "moveOut", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FH_, _$5_Object_46defineProperty(_2I_, "copyBox", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FI_, _$5_Object_46defineProperty(_2I_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FJ_, _$5_Object_46defineProperty(_2I_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _FK_, _$5_Object_46defineProperty(_2I_, "deleteAndPreserveLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1q_node = (__constructor.prototype = _2I_, new __constructor());

  _1q_node.key = "nd103";
  _1q_node.shape = null;
  _1q_node.text = null;
  _1q_node.colour = null;
  _1q_node.name = void 0;
  _1q_node.graph = _8_graph;
  _1q_node.group = _D_;
  _1q_node.width = null;
  _1q_node.height = null;
  var _1s_ = [_1t_link];
  _1q_node.links = _1s_;

  var _27_ = (__constructor.prototype = _28_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ex_Box, _$5_Object_46defineProperty(_27_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ey_, _$5_Object_46defineProperty(_27_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1y_node = (__constructor.prototype = _27_, new __constructor());

  _1y_node.key = "nd104";
  _1y_node.shape = null;
  _1y_node.text = null;
  _1y_node.colour = null;
  _1y_node.name = void 0;
  _1y_node.graph = _8_graph;
  _1y_node.group = _1q_node;
  _1y_node.width = null;
  _1y_node.height = null;
  var _20_ = [];
  _1y_node.links = _20_;
  var _21_ = [_22_node];
  _1y_node.nodes = _21_;
  var _1x_ = [_1y_node, _29_node];
  _1q_node.nodes = _1x_;
  _1q_node.prin = _29_node;
  var _2H_ = [];
  _1q_node.auxs = _2H_;
  _1q_node.box = _1y_node;

  var _2U_node = (__constructor.prototype = _2I_, new __constructor());

  _2U_node.key = "nd92";
  _2U_node.shape = null;
  _2U_node.text = null;
  _2U_node.colour = null;
  _2U_node.name = void 0;
  _2U_node.graph = _8_graph;
  _2U_node.group = _D_;
  _2U_node.width = null;
  _2U_node.height = null;
  var _2W_ = [_2X_link];
  _2U_node.links = _2W_;

  var _2c_node = (__constructor.prototype = _27_, new __constructor());

  _2c_node.key = "nd93";
  _2c_node.shape = null;
  _2c_node.text = null;
  _2c_node.colour = null;
  _2c_node.name = void 0;
  _2c_node.graph = _8_graph;
  _2c_node.group = _2U_node;
  _2c_node.width = null;
  _2c_node.height = null;
  var _2e_ = [];
  _2c_node.links = _2e_;
  var _2f_ = [_2g_node];
  _2c_node.nodes = _2f_;
  var _2b_ = [_2c_node, _2k_node];
  _2U_node.nodes = _2b_;
  _2U_node.prin = _2k_node;
  var _2q_ = [];
  _2U_node.auxs = _2q_;
  _2U_node.box = _2c_node;

  var _3l_wrapper = (__constructor.prototype = _2I_, new __constructor());

  _3l_wrapper.key = "nd143";
  _3l_wrapper.shape = null;
  _3l_wrapper.text = null;
  _3l_wrapper.colour = null;
  _3l_wrapper.name = void 0;
  _3l_wrapper.graph = _8_graph;
  _3l_wrapper.group = _D_;
  _3l_wrapper.width = null;
  _3l_wrapper.height = null;
  var _3n_ = [_3o_];
  _3l_wrapper.links = _3n_;

  var _3t_box = (__constructor.prototype = _27_, new __constructor());

  _3t_box.key = "nd144";
  _3t_box.shape = null;
  _3t_box.text = null;
  _3t_box.colour = null;
  _3t_box.name = void 0;
  _3t_box.graph = _8_graph;
  _3t_box.group = _3l_wrapper;
  _3t_box.width = null;
  _3t_box.height = null;
  var _3v_ = [];
  _3t_box.links = _3v_;
  var _3w_ = [_3x_toNode];
  _3t_box.nodes = _3w_;
  var _3s_ = [_3t_box, _40_toNode];
  _3l_wrapper.nodes = _3s_;
  _3l_wrapper.prin = _40_toNode;
  var _47_ = [];
  _3l_wrapper.auxs = _47_;
  _3l_wrapper.box = _3t_box;

  var _48_node = (__constructor.prototype = _2I_, new __constructor());

  _48_node.key = "nd51";
  _48_node.shape = null;
  _48_node.text = null;
  _48_node.colour = null;
  _48_node.name = void 0;
  _48_node.graph = _8_graph;
  _48_node.group = _D_;
  _48_node.width = null;
  _48_node.height = null;
  var _4A_ = [_4B_link];
  _48_node.links = _4A_;

  var _4G_node = (__constructor.prototype = _27_, new __constructor());

  _4G_node.key = "nd52";
  _4G_node.shape = null;
  _4G_node.text = null;
  _4G_node.colour = null;
  _4G_node.name = void 0;
  _4G_node.graph = _8_graph;
  _4G_node.group = _48_node;
  _4G_node.width = null;
  _4G_node.height = null;
  var _4I_ = [];
  _4G_node.links = _4I_;
  var _4J_ = [_4K_node];
  _4G_node.nodes = _4J_;
  var _4F_ = [_4G_node, _4N_node];
  _48_node.nodes = _4F_;
  _48_node.prin = _4N_node;
  var _4T_ = [];
  _48_node.auxs = _4T_;
  _48_node.box = _4G_node;

  var _4n_wrapper = (__constructor.prototype = _2I_, new __constructor());

  _4n_wrapper.key = "nd149";
  _4n_wrapper.shape = null;
  _4n_wrapper.text = null;
  _4n_wrapper.colour = null;
  _4n_wrapper.name = void 0;
  _4n_wrapper.graph = _8_graph;
  _4n_wrapper.group = _D_;
  _4n_wrapper.width = null;
  _4n_wrapper.height = null;
  var _4p_ = [_4q_];
  _4n_wrapper.links = _4p_;

  var _4v_box = (__constructor.prototype = _27_, new __constructor());

  _4v_box.key = "nd150";
  _4v_box.shape = null;
  _4v_box.text = null;
  _4v_box.colour = null;
  _4v_box.name = void 0;
  _4v_box.graph = _8_graph;
  _4v_box.group = _4n_wrapper;
  _4v_box.width = null;
  _4v_box.height = null;
  var _4x_ = [];
  _4v_box.links = _4x_;
  var _4y_ = [_4z_toNode];
  _4v_box.nodes = _4y_;
  var _4u_ = [_4v_box, _53_toNode];
  _4n_wrapper.nodes = _4u_;
  _4n_wrapper.prin = _53_toNode;
  var _5A_ = [];
  _4n_wrapper.auxs = _5A_;
  _4n_wrapper.box = _4v_box;

  var _5H_wrapper = (__constructor.prototype = _2I_, new __constructor());

  _5H_wrapper.key = "nd153";
  _5H_wrapper.shape = null;
  _5H_wrapper.text = null;
  _5H_wrapper.colour = null;
  _5H_wrapper.name = void 0;
  _5H_wrapper.graph = _8_graph;
  _5H_wrapper.group = _D_;
  _5H_wrapper.width = null;
  _5H_wrapper.height = null;
  var _5J_ = [_5K_];
  _5H_wrapper.links = _5J_;

  var _5P_box = (__constructor.prototype = _27_, new __constructor());

  _5P_box.key = "nd154";
  _5P_box.shape = null;
  _5P_box.text = null;
  _5P_box.colour = null;
  _5P_box.name = void 0;
  _5P_box.graph = _8_graph;
  _5P_box.group = _5H_wrapper;
  _5P_box.width = null;
  _5P_box.height = null;
  var _5R_ = [];
  _5P_box.links = _5R_;
  var _5S_ = [_5T_toNode];
  _5P_box.nodes = _5S_;
  var _5O_ = [_5P_box, _5X_toNode];
  _5H_wrapper.nodes = _5O_;
  _5H_wrapper.prin = _5X_toNode;
  var _5e_ = [];
  _5H_wrapper.auxs = _5e_;
  _5H_wrapper.box = _5P_box;
  var _1h_ = [_1i_fromNode, _1q_node, _2K_mod, _2Q_value, _2U_node, _2r_mod, _2w_value, _2z_prev, _35_toNode, _3A_fromNode, _3J_prev, _3P_left, _3W_right, _3d_left, _3l_wrapper, _48_node, _4U_otherNode, _4b_weak1, _4h_weak2, _4n_wrapper, _5B_otherNode, _5H_wrapper, _5f_otherNode,,,,,,,,,,];
  _1h_.length = 23;
  _D_.nodes = _1h_;
  _8_graph.child = _D_;

  _B_.set("nd0", _D_);

  var _5n_term = (__constructor.prototype = _2J_, new __constructor());

  _5n_term.key = "nd38";
  _5n_term.shape = null;
  _5n_term.text = null;
  _5n_term.colour = null;
  _5n_term.name = void 0;
  _5n_term.graph = _8_graph;
  _5n_term.group = null;
  _5n_term.width = null;
  _5n_term.height = null;
  var _5o_ = [];
  _5n_term.links = _5o_;
  var _5p_ = [];
  _5n_term.nodes = _5p_;

  var _65_ = (__constructor.prototype = _66_, new __constructor());

  _Fk_Var.prototype = _65_;

  _$6_Object_46setPrototypeOf(_Fk_Var, _Fm_Der);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fk_Var, _$5_Object_46defineProperty(_65_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _HX_ = (__constructor.prototype = _1p_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HW_Abs, _$5_Object_46defineProperty(_HX_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IR_, _$5_Object_46defineProperty(_HX_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _6i_ = (__constructor.prototype = _1p_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fs_App, _$5_Object_46defineProperty(_6i_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ft_, _$5_Object_46defineProperty(_6i_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fu_, _$5_Object_46defineProperty(_6i_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Fs_App.prototype = _6i_;

  _$6_Object_46setPrototypeOf(_Fs_App, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IS_, _$5_Object_46defineProperty(_HX_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IT_, _$5_Object_46defineProperty(_HX_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _HW_Abs.prototype = _HX_;

  _$6_Object_46setPrototypeOf(_HW_Abs, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fl_, _$5_Object_46defineProperty(_65_, "deleteAndPreserveOutLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _5q_toNode = (__constructor.prototype = _65_, new __constructor());

  _5q_toNode.key = "nd37";
  _5q_toNode.shape = null;
  _5q_toNode.text = "V";
  _5q_toNode.colour = "cyan";
  _5q_toNode.name = "m";
  _5q_toNode.graph = _8_graph;

  var _5v__95node = (__constructor.prototype = _27_, new __constructor());

  _5v__95node.key = "nd34";
  _5v__95node.shape = null;
  _5v__95node.text = null;
  _5v__95node.colour = null;
  _5v__95node.name = void 0;
  _5v__95node.graph = _8_graph;
  _5v__95node.group = _D_;
  _5v__95node.width = null;
  _5v__95node.height = null;
  var _5x_ = [,,];
  _5x_.length = 0;
  _5v__95node.links = _5x_;
  var _5z_ = [,,,];
  _5z_.length = 0;
  _5v__95node.nodes = _5z_;
  _5q_toNode.group = _5v__95node;
  _5q_toNode.width = ".3";
  _5q_toNode.height = ".3";
  var _63_ = [,,];
  _63_.length = 0;
  _5q_toNode.links = _63_;
  _5n_term.prin = _5q_toNode;
  var _67_ = [_5q_toNode];
  _5n_term.auxs = _67_;

  _B_.set("nd38", _5n_term);

  var _69_left = (__constructor.prototype = _2J_, new __constructor());

  _69_left.key = "nd41";
  _69_left.shape = null;
  _69_left.text = null;
  _69_left.colour = null;
  _69_left.name = void 0;
  _69_left.graph = _8_graph;
  _69_left.group = null;
  _69_left.width = null;
  _69_left.height = null;
  var _6A_ = [];
  _69_left.links = _6A_;
  var _6B_ = [];
  _69_left.nodes = _6B_;

  var _6C_fromNode = (__constructor.prototype = _2F_, new __constructor());

  _6C_fromNode.key = "nd35";
  _6C_fromNode.shape = null;
  _6C_fromNode.text = "!";
  _6C_fromNode.colour = "cyan";
  _6C_fromNode.name = void 0;
  _6C_fromNode.graph = _8_graph;
  _6C_fromNode.group = _D_;
  _6C_fromNode.width = ".3";
  _6C_fromNode.height = ".3";
  var _6I_ = [,,];
  _6I_.length = 0;
  _6C_fromNode.links = _6I_;
  _69_left.prin = _6C_fromNode;
  var _6K_newPaxs = [,];
  _6K_newPaxs.length = 0;
  _69_left.auxs = _6K_newPaxs;

  _B_.set("nd41", _69_left);

  var _6N_right = (__constructor.prototype = _2J_, new __constructor());

  _6N_right.key = "nd44";
  _6N_right.shape = null;
  _6N_right.text = null;
  _6N_right.colour = null;
  _6N_right.name = void 0;
  _6N_right.graph = _8_graph;
  _6N_right.group = null;
  _6N_right.width = null;
  _6N_right.height = null;
  var _6O_ = [];
  _6N_right.links = _6O_;
  var _6P_ = [];
  _6N_right.nodes = _6P_;

  var _6W_ = (__constructor.prototype = _1p_, new __constructor());

  _Fo_Prop.prototype = _6W_;

  _$6_Object_46setPrototypeOf(_Fo_Prop, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fo_Prop, _$5_Object_46defineProperty(_6W_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fp_, _$5_Object_46defineProperty(_6W_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fq_, _$5_Object_46defineProperty(_6W_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fr_, _$5_Object_46defineProperty(_6W_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _6Q_toNode = (__constructor.prototype = _6W_, new __constructor());

  _6Q_toNode.key = "nd43";
  _6Q_toNode.shape = null;
  _6Q_toNode.text = "s";
  _6Q_toNode.colour = "indianred1";
  _6Q_toNode.name = void 0;
  _6Q_toNode.graph = _8_graph;
  _6Q_toNode.group = _D_;
  _6Q_toNode.width = null;
  _6Q_toNode.height = null;
  var _6U_ = [,];
  _6U_.length = 0;
  _6Q_toNode.links = _6U_;
  _6N_right.prin = _6Q_toNode;
  var _6X_ = [];
  _6N_right.auxs = _6X_;

  _B_.set("nd44", _6N_right);

  var _6Z_term = (__constructor.prototype = _2J_, new __constructor());

  _6Z_term.key = "nd45";
  _6Z_term.shape = null;
  _6Z_term.text = null;
  _6Z_term.colour = null;
  _6Z_term.name = void 0;
  _6Z_term.graph = _8_graph;
  _6Z_term.group = null;
  _6Z_term.width = null;
  _6Z_term.height = null;
  var _6a_ = [];
  _6Z_term.links = _6a_;
  var _6b_ = [];
  _6Z_term.nodes = _6b_;

  var _6c_toNode = (__constructor.prototype = _6i_, new __constructor());

  _6c_toNode.key = "nd32";
  _6c_toNode.shape = null;
  _6c_toNode.text = "@";
  _6c_toNode.colour = "yellow";
  _6c_toNode.name = void 0;
  _6c_toNode.graph = _8_graph;
  _6c_toNode.group = _D_;
  _6c_toNode.width = null;
  _6c_toNode.height = null;
  var _6g_ = [,,,];
  _6g_.length = 0;
  _6c_toNode.links = _6g_;
  _6Z_term.prin = _6c_toNode;

  var _6k_toNode = (__constructor.prototype = _6s_, new __constructor());

  _6k_toNode.key = "nd40";
  _6k_toNode.shape = null;
  _6k_toNode.text = "?";
  _6k_toNode.colour = "cyan";
  _6k_toNode.name = "m";
  _6k_toNode.graph = _8_graph;
  _6k_toNode.group = _D_;
  _6k_toNode.width = ".3";
  _6k_toNode.height = ".3";
  var _6q_ = [,,,];
  _6q_.length = 0;
  _6k_toNode.links = _6q_;
  var _6j_newAuxs = [_6k_toNode];
  _6Z_term.auxs = _6j_newAuxs;

  _B_.set("nd45", _6Z_term);

  var _6u_left = (__constructor.prototype = _2J_, new __constructor());

  _6u_left.key = "nd48";
  _6u_left.shape = null;
  _6u_left.text = null;
  _6u_left.colour = null;
  _6u_left.name = void 0;
  _6u_left.graph = _8_graph;
  _6u_left.group = null;
  _6u_left.width = null;
  _6u_left.height = null;
  var _6v_ = [];
  _6u_left.links = _6v_;
  var _6w_ = [];
  _6u_left.nodes = _6w_;

  var _6x_fromNode = (__constructor.prototype = _2F_, new __constructor());

  _6x_fromNode.key = "nd30";
  _6x_fromNode.shape = null;
  _6x_fromNode.text = "!";
  _6x_fromNode.colour = "cyan";
  _6x_fromNode.name = void 0;
  _6x_fromNode.graph = _8_graph;
  _6x_fromNode.group = _D_;
  _6x_fromNode.width = ".3";
  _6x_fromNode.height = ".3";
  var _73_ = [,,];
  _73_.length = 0;
  _6x_fromNode.links = _73_;
  _6u_left.prin = _6x_fromNode;
  var _75_newPaxs = [,];
  _75_newPaxs.length = 0;
  _6u_left.auxs = _75_newPaxs;

  _B_.set("nd48", _6u_left);

  _B_.set("nd51", _48_node);

  _B_.set("nd52", _4G_node);

  var _78_term = (__constructor.prototype = _2J_, new __constructor());

  _78_term.key = "nd55";
  _78_term.shape = null;
  _78_term.text = null;
  _78_term.colour = null;
  _78_term.name = void 0;
  _78_term.graph = _8_graph;
  _78_term.group = null;
  _78_term.width = null;
  _78_term.height = null;
  var _79_ = [];
  _78_term.links = _79_;
  var _7A_ = [];
  _78_term.nodes = _7A_;
  _78_term.prin = _4N_node;
  _78_term.auxs = _4T_;

  _B_.set("nd55", _78_term);

  var _7C_right = (__constructor.prototype = _2J_, new __constructor());

  _7C_right.key = "nd57";
  _7C_right.shape = null;
  _7C_right.text = null;
  _7C_right.colour = null;
  _7C_right.name = void 0;
  _7C_right.graph = _8_graph;
  _7C_right.group = null;
  _7C_right.width = null;
  _7C_right.height = null;
  var _7D_ = [];
  _7C_right.links = _7D_;
  var _7E_ = [];
  _7C_right.nodes = _7E_;

  var _7L_ = (__constructor.prototype = _1p_, new __constructor());

  _Fy_Delta.prototype = _7L_;

  _$6_Object_46setPrototypeOf(_Fy_Delta, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fy_Delta, _$5_Object_46defineProperty(_7L_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Fz_, _$5_Object_46defineProperty(_7L_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G0_, _$5_Object_46defineProperty(_7L_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G1_, _$5_Object_46defineProperty(_7L_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _7F_toNode = (__constructor.prototype = _7L_, new __constructor());

  _7F_toNode.key = "nd50";
  _7F_toNode.shape = null;
  _7F_toNode.text = "\u0394";
  _7F_toNode.colour = "indianred1";
  _7F_toNode.name = void 0;
  _7F_toNode.graph = _8_graph;
  _7F_toNode.group = _D_;
  _7F_toNode.width = null;
  _7F_toNode.height = null;
  var _7J_ = [,,,,];
  _7J_.length = 0;
  _7F_toNode.links = _7J_;
  _7C_right.prin = _7F_toNode;

  var _7N_toNode = (__constructor.prototype = _65_, new __constructor());

  _7N_toNode.key = "nd56";
  _7N_toNode.shape = null;
  _7N_toNode.text = "V";
  _7N_toNode.colour = "cyan";
  _7N_toNode.name = "x";
  _7N_toNode.graph = _8_graph;

  var _7R__95node = (__constructor.prototype = _27_, new __constructor());

  _7R__95node.key = "nd24";
  _7R__95node.shape = null;
  _7R__95node.text = null;
  _7R__95node.colour = null;
  _7R__95node.name = void 0;
  _7R__95node.graph = _8_graph;
  _7R__95node.group = _D_;
  _7R__95node.width = null;
  _7R__95node.height = null;
  var _7T_ = [,,,,,,,];
  _7T_.length = 0;
  _7R__95node.links = _7T_;
  var _7V_ = [,,,,,,,,];
  _7V_.length = 0;
  _7R__95node.nodes = _7V_;
  _7N_toNode.group = _7R__95node;
  _7N_toNode.width = ".3";
  _7N_toNode.height = ".3";
  var _7Z_ = [,,];
  _7Z_.length = 0;
  _7N_toNode.links = _7Z_;
  var _7M_auxs = [_7N_toNode];
  _7C_right.auxs = _7M_auxs;

  _B_.set("nd57", _7C_right);

  var _7c_term = (__constructor.prototype = _2J_, new __constructor());

  _7c_term.key = "nd58";
  _7c_term.shape = null;
  _7c_term.text = null;
  _7c_term.colour = null;
  _7c_term.name = void 0;
  _7c_term.graph = _8_graph;
  _7c_term.group = null;
  _7c_term.width = null;
  _7c_term.height = null;
  var _7d_ = [];
  _7c_term.links = _7d_;
  var _7e_ = [];
  _7c_term.nodes = _7e_;

  var _7f_toNode = (__constructor.prototype = _6i_, new __constructor());

  _7f_toNode.key = "nd27";
  _7f_toNode.shape = null;
  _7f_toNode.text = "@";
  _7f_toNode.colour = "yellow";
  _7f_toNode.name = void 0;
  _7f_toNode.graph = _8_graph;
  _7f_toNode.group = _D_;
  _7f_toNode.width = null;
  _7f_toNode.height = null;
  var _7j_ = [,,,];
  _7j_.length = 0;
  _7f_toNode.links = _7j_;
  _7c_term.prin = _7f_toNode;

  var _7m_toNode = (__constructor.prototype = _6s_, new __constructor());

  _7m_toNode.key = "nd47";
  _7m_toNode.shape = null;
  _7m_toNode.text = "?";
  _7m_toNode.colour = "cyan";
  _7m_toNode.name = "m";
  _7m_toNode.graph = _8_graph;
  _7m_toNode.group = _D_;
  _7m_toNode.width = ".3";
  _7m_toNode.height = ".3";
  var _7s_ = [,,,];
  _7s_.length = 0;
  _7m_toNode.links = _7s_;
  var _7l_newAuxs = [_7m_toNode, _7N_toNode];
  _7c_term.auxs = _7l_newAuxs;

  _B_.set("nd58", _7c_term);

  var _7v_left = (__constructor.prototype = _2J_, new __constructor());

  _7v_left.key = "nd62";
  _7v_left.shape = null;
  _7v_left.text = null;
  _7v_left.colour = null;
  _7v_left.name = void 0;
  _7v_left.graph = _8_graph;
  _7v_left.group = null;
  _7v_left.width = null;
  _7v_left.height = null;
  var _7w_ = [];
  _7v_left.links = _7w_;
  var _7x_ = [];
  _7v_left.nodes = _7x_;

  var _7y_fromNode = (__constructor.prototype = _2F_, new __constructor());

  _7y_fromNode.key = "nd25";
  _7y_fromNode.shape = null;
  _7y_fromNode.text = "!";
  _7y_fromNode.colour = "cyan";
  _7y_fromNode.name = void 0;
  _7y_fromNode.graph = _8_graph;
  _7y_fromNode.group = _D_;
  _7y_fromNode.width = ".3";
  _7y_fromNode.height = ".3";
  var _84_ = [,,];
  _84_.length = 0;
  _7y_fromNode.links = _84_;
  _7v_left.prin = _7y_fromNode;
  var _86_newPaxs = [,,];
  _86_newPaxs.length = 0;
  _7v_left.auxs = _86_newPaxs;

  _B_.set("nd62", _7v_left);

  var _89_right = (__constructor.prototype = _2J_, new __constructor());

  _89_right.key = "nd65";
  _89_right.shape = null;
  _89_right.text = null;
  _89_right.colour = null;
  _89_right.name = void 0;
  _89_right.graph = _8_graph;
  _89_right.group = null;
  _89_right.width = null;
  _89_right.height = null;
  var _8A_ = [];
  _89_right.links = _8A_;
  var _8B_ = [];
  _89_right.nodes = _8B_;

  var _8C_toNode = (__constructor.prototype = _6W_, new __constructor());

  _8C_toNode.key = "nd64";
  _8C_toNode.shape = null;
  _8C_toNode.text = "s";
  _8C_toNode.colour = "indianred1";
  _8C_toNode.name = void 0;
  _8C_toNode.graph = _8_graph;
  _8C_toNode.group = _D_;
  _8C_toNode.width = null;
  _8C_toNode.height = null;
  var _8G_ = [,];
  _8G_.length = 0;
  _8C_toNode.links = _8G_;
  _89_right.prin = _8C_toNode;
  var _8I_ = [];
  _89_right.auxs = _8I_;

  _B_.set("nd65", _89_right);

  var _8K_term = (__constructor.prototype = _2J_, new __constructor());

  _8K_term.key = "nd66";
  _8K_term.shape = null;
  _8K_term.text = null;
  _8K_term.colour = null;
  _8K_term.name = void 0;
  _8K_term.graph = _8_graph;
  _8K_term.group = null;
  _8K_term.width = null;
  _8K_term.height = null;
  var _8L_ = [];
  _8K_term.links = _8L_;
  var _8M_ = [];
  _8K_term.nodes = _8M_;

  var _8N_toNode = (__constructor.prototype = _6i_, new __constructor());

  _8N_toNode.key = "nd22";
  _8N_toNode.shape = null;
  _8N_toNode.text = "@";
  _8N_toNode.colour = "yellow";
  _8N_toNode.name = void 0;
  _8N_toNode.graph = _8_graph;
  _8N_toNode.group = _D_;
  _8N_toNode.width = null;
  _8N_toNode.height = null;
  var _8R_ = [,,,];
  _8R_.length = 0;
  _8N_toNode.links = _8R_;
  _8K_term.prin = _8N_toNode;

  var _8U_toNode = (__constructor.prototype = _6s_, new __constructor());

  _8U_toNode.key = "nd60";
  _8U_toNode.shape = null;
  _8U_toNode.text = "?";
  _8U_toNode.colour = "cyan";
  _8U_toNode.name = "m";
  _8U_toNode.graph = _8_graph;
  _8U_toNode.group = _D_;
  _8U_toNode.width = ".3";
  _8U_toNode.height = ".3";
  var _8a_ = [,,];
  _8a_.length = 0;
  _8U_toNode.links = _8a_;

  var _8c_toNode = (__constructor.prototype = _6s_, new __constructor());

  _8c_toNode.key = "nd61";
  _8c_toNode.shape = null;
  _8c_toNode.text = "?";
  _8c_toNode.colour = "cyan";
  _8c_toNode.name = "x";
  _8c_toNode.graph = _8_graph;
  _8c_toNode.group = _D_;
  _8c_toNode.width = ".3";
  _8c_toNode.height = ".3";
  var _8i_ = [,,,];
  _8i_.length = 0;
  _8c_toNode.links = _8i_;
  var _8T_newAuxs = [_8U_toNode, _8c_toNode];
  _8K_term.auxs = _8T_newAuxs;

  _B_.set("nd66", _8K_term);

  var _8l_left = (__constructor.prototype = _2J_, new __constructor());

  _8l_left.key = "nd68";
  _8l_left.shape = null;
  _8l_left.text = null;
  _8l_left.colour = null;
  _8l_left.name = void 0;
  _8l_left.graph = _8_graph;
  _8l_left.group = null;
  _8l_left.width = null;
  _8l_left.height = null;
  var _8m_ = [];
  _8l_left.links = _8m_;
  var _8n_ = [];
  _8l_left.nodes = _8n_;

  var _8o_fromNode = (__constructor.prototype = _2F_, new __constructor());

  _8o_fromNode.key = "nd20";
  _8o_fromNode.shape = null;
  _8o_fromNode.text = "!";
  _8o_fromNode.colour = "cyan";
  _8o_fromNode.name = void 0;
  _8o_fromNode.graph = _8_graph;
  _8o_fromNode.group = _D_;
  _8o_fromNode.width = ".3";
  _8o_fromNode.height = ".3";
  var _8u_ = [,,];
  _8u_.length = 0;
  _8o_fromNode.links = _8u_;
  _8l_left.prin = _8o_fromNode;
  var _8w_newPaxs = [,];
  _8w_newPaxs.length = 0;
  _8l_left.auxs = _8w_newPaxs;

  _B_.set("nd68", _8l_left);

  var _8z_left = (__constructor.prototype = _2J_, new __constructor());

  _8z_left.key = "nd73";
  _8z_left.shape = null;
  _8z_left.text = null;
  _8z_left.colour = null;
  _8z_left.name = void 0;
  _8z_left.graph = _8_graph;
  _8z_left.group = null;
  _8z_left.width = null;
  _8z_left.height = null;
  var _90_ = [];
  _8z_left.links = _90_;
  var _91_ = [];
  _8z_left.nodes = _91_;

  var _92_toNode = (__constructor.prototype = _65_, new __constructor());

  _92_toNode.key = "nd72";
  _92_toNode.shape = null;
  _92_toNode.text = "V";
  _92_toNode.colour = "cyan";
  _92_toNode.name = "max";
  _92_toNode.graph = _8_graph;

  var _97__95node = (__constructor.prototype = _27_, new __constructor());

  _97__95node.key = "nd14";
  _97__95node.shape = null;
  _97__95node.text = null;
  _97__95node.colour = null;
  _97__95node.name = void 0;
  _97__95node.graph = _8_graph;
  _97__95node.group = _D_;
  _97__95node.width = null;
  _97__95node.height = null;
  var _99_ = [,,,,,,,,,,,,,,,];
  _99_.length = 0;
  _97__95node.links = _99_;
  var _9B_ = [,,,,,,,,,,,,,,];
  _9B_.length = 0;
  _97__95node.nodes = _9B_;
  _92_toNode.group = _97__95node;
  _92_toNode.width = ".3";
  _92_toNode.height = ".3";
  var _9F_ = [,,];
  _9F_.length = 0;
  _92_toNode.links = _9F_;
  _8z_left.prin = _92_toNode;
  var _9H_ = [_92_toNode];
  _8z_left.auxs = _9H_;

  _B_.set("nd73", _8z_left);

  var _9J_term = (__constructor.prototype = _2J_, new __constructor());

  _9J_term.key = "nd76";
  _9J_term.shape = null;
  _9J_term.text = null;
  _9J_term.colour = null;
  _9J_term.name = void 0;
  _9J_term.graph = _8_graph;
  _9J_term.group = null;
  _9J_term.width = null;
  _9J_term.height = null;
  var _9K_ = [];
  _9J_term.links = _9K_;
  var _9L_ = [];
  _9J_term.nodes = _9L_;

  var _9M_toNode = (__constructor.prototype = _65_, new __constructor());

  _9M_toNode.key = "nd75";
  _9M_toNode.shape = null;
  _9M_toNode.text = "V";
  _9M_toNode.colour = "cyan";
  _9M_toNode.name = "x";
  _9M_toNode.graph = _8_graph;
  _9M_toNode.group = _97__95node;
  _9M_toNode.width = ".3";
  _9M_toNode.height = ".3";
  var _9T_ = [,,];
  _9T_.length = 0;
  _9M_toNode.links = _9T_;
  _9J_term.prin = _9M_toNode;
  var _9V_ = [_9M_toNode];
  _9J_term.auxs = _9V_;

  _B_.set("nd76", _9J_term);

  var _9X_right = (__constructor.prototype = _2J_, new __constructor());

  _9X_right.key = "nd78";
  _9X_right.shape = null;
  _9X_right.text = null;
  _9X_right.colour = null;
  _9X_right.name = void 0;
  _9X_right.graph = _8_graph;
  _9X_right.group = null;
  _9X_right.width = null;
  _9X_right.height = null;
  var _9Y_ = [];
  _9X_right.links = _9Y_;
  var _9Z_ = [];
  _9X_right.nodes = _9Z_;
  _9X_right.prin = _2z_prev;
  _9X_right.auxs = _9V_;

  _B_.set("nd78", _9X_right);

  var _9b_left = (__constructor.prototype = _2J_, new __constructor());

  _9b_left.key = "nd79";
  _9b_left.shape = null;
  _9b_left.text = null;
  _9b_left.colour = null;
  _9b_left.name = void 0;
  _9b_left.graph = _8_graph;
  _9b_left.group = null;
  _9b_left.width = null;
  _9b_left.height = null;
  var _9c_ = [];
  _9b_left.links = _9c_;
  var _9d_ = [];
  _9b_left.nodes = _9d_;

  var _9e_toNode = (__constructor.prototype = _6i_, new __constructor());

  _9e_toNode.key = "nd71";
  _9e_toNode.shape = null;
  _9e_toNode.text = "@";
  _9e_toNode.colour = "yellow";
  _9e_toNode.name = void 0;
  _9e_toNode.graph = _8_graph;
  _9e_toNode.group = _D_;
  _9e_toNode.width = null;
  _9e_toNode.height = null;
  var _9i_ = [,,,];
  _9i_.length = 0;
  _9e_toNode.links = _9i_;
  _9b_left.prin = _9e_toNode;
  var _9k_newAuxs = [_92_toNode, _9M_toNode];
  _9b_left.auxs = _9k_newAuxs;

  _B_.set("nd79", _9b_left);

  var _9m_term = (__constructor.prototype = _2J_, new __constructor());

  _9m_term.key = "nd82";
  _9m_term.shape = null;
  _9m_term.text = null;
  _9m_term.colour = null;
  _9m_term.name = void 0;
  _9m_term.graph = _8_graph;
  _9m_term.group = null;
  _9m_term.width = null;
  _9m_term.height = null;
  var _9n_ = [];
  _9m_term.links = _9n_;
  var _9o_ = [];
  _9m_term.nodes = _9o_;

  var _9p_toNode = (__constructor.prototype = _65_, new __constructor());

  _9p_toNode.key = "nd81";
  _9p_toNode.shape = null;
  _9p_toNode.text = "V";
  _9p_toNode.colour = "cyan";
  _9p_toNode.name = "y";
  _9p_toNode.graph = _8_graph;
  _9p_toNode.group = _97__95node;
  _9p_toNode.width = ".3";
  _9p_toNode.height = ".3";
  var _9w_ = [,,];
  _9w_.length = 0;
  _9p_toNode.links = _9w_;
  _9m_term.prin = _9p_toNode;
  var _9y_ = [_9p_toNode];
  _9m_term.auxs = _9y_;

  _B_.set("nd82", _9m_term);

  var _A0_right = (__constructor.prototype = _2J_, new __constructor());

  _A0_right.key = "nd84";
  _A0_right.shape = null;
  _A0_right.text = null;
  _A0_right.colour = null;
  _A0_right.name = void 0;
  _A0_right.graph = _8_graph;
  _A0_right.group = null;
  _A0_right.width = null;
  _A0_right.height = null;
  var _A1_ = [];
  _A0_right.links = _A1_;
  var _A2_ = [];
  _A0_right.nodes = _A2_;
  _A0_right.prin = _35_toNode;
  _A0_right.auxs = _9y_;

  _B_.set("nd84", _A0_right);

  var _A4_right = (__constructor.prototype = _2J_, new __constructor());

  _A4_right.key = "nd85";
  _A4_right.shape = null;
  _A4_right.text = null;
  _A4_right.colour = null;
  _A4_right.name = void 0;
  _A4_right.graph = _8_graph;
  _A4_right.group = null;
  _A4_right.width = null;
  _A4_right.height = null;
  var _A5_ = [];
  _A4_right.links = _A5_;
  var _A6_ = [];
  _A4_right.nodes = _A6_;

  var _A7_toNode = (__constructor.prototype = _6i_, new __constructor());

  _A7_toNode.key = "nd70";
  _A7_toNode.shape = null;
  _A7_toNode.text = "@";
  _A7_toNode.colour = "yellow";
  _A7_toNode.name = void 0;
  _A7_toNode.graph = _8_graph;
  _A7_toNode.group = _D_;
  _A7_toNode.width = null;
  _A7_toNode.height = null;
  var _AB_ = [,,,];
  _AB_.length = 0;
  _A7_toNode.links = _AB_;
  _A4_right.prin = _A7_toNode;
  var _AD_newAuxs = [_92_toNode, _9M_toNode, _9p_toNode];
  _A4_right.auxs = _AD_newAuxs;

  _B_.set("nd85", _A4_right);

  var _AF_term = (__constructor.prototype = _2J_, new __constructor());

  _AF_term.key = "nd87";
  _AF_term.shape = null;
  _AF_term.text = null;
  _AF_term.colour = null;
  _AF_term.name = void 0;
  _AF_term.graph = _8_graph;
  _AF_term.group = null;
  _AF_term.width = null;
  _AF_term.height = null;
  var _AG_ = [];
  _AF_term.links = _AG_;
  var _AH_ = [];
  _AF_term.nodes = _AH_;

  var _AI_fromNode = (__constructor.prototype = _6i_, new __constructor());

  _AI_fromNode.key = "nd17";
  _AI_fromNode.shape = null;
  _AI_fromNode.text = "@";
  _AI_fromNode.colour = "yellow";
  _AI_fromNode.name = void 0;
  _AI_fromNode.graph = _8_graph;
  _AI_fromNode.group = _D_;
  _AI_fromNode.width = null;
  _AI_fromNode.height = null;
  var _AM_ = [,,,,];
  _AM_.length = 0;
  _AI_fromNode.links = _AM_;
  _AF_term.prin = _AI_fromNode;
  var _AO_newAuxs = [_92_toNode, _9p_toNode, _3A_fromNode,,];
  _AO_newAuxs.length = 3;
  _AF_term.auxs = _AO_newAuxs;

  _B_.set("nd87", _AF_term);

  var _AR_left = (__constructor.prototype = _2J_, new __constructor());

  _AR_left.key = "nd90";
  _AR_left.shape = null;
  _AR_left.text = null;
  _AR_left.colour = null;
  _AR_left.name = void 0;
  _AR_left.graph = _8_graph;
  _AR_left.group = null;
  _AR_left.width = null;
  _AR_left.height = null;
  var _AS_ = [];
  _AR_left.links = _AS_;
  var _AT_ = [];
  _AR_left.nodes = _AT_;

  var _AU_fromNode = (__constructor.prototype = _2F_, new __constructor());

  _AU_fromNode.key = "nd15";
  _AU_fromNode.shape = null;
  _AU_fromNode.text = "!";
  _AU_fromNode.colour = "cyan";
  _AU_fromNode.name = void 0;
  _AU_fromNode.graph = _8_graph;
  _AU_fromNode.group = _D_;
  _AU_fromNode.width = ".3";
  _AU_fromNode.height = ".3";
  var _Aa_ = [,,];
  _Aa_.length = 0;
  _AU_fromNode.links = _Aa_;
  _AR_left.prin = _AU_fromNode;
  var _Ac_newPaxs = [,,];
  _Ac_newPaxs.length = 0;
  _AR_left.auxs = _Ac_newPaxs;

  _B_.set("nd90", _AR_left);

  _B_.set("nd92", _2U_node);

  _B_.set("nd93", _2c_node);

  var _Af_term = (__constructor.prototype = _2J_, new __constructor());

  _Af_term.key = "nd96";
  _Af_term.shape = null;
  _Af_term.text = null;
  _Af_term.colour = null;
  _Af_term.name = void 0;
  _Af_term.graph = _8_graph;
  _Af_term.group = null;
  _Af_term.width = null;
  _Af_term.height = null;
  var _Ag_ = [];
  _Af_term.links = _Ag_;
  var _Ah_ = [];
  _Af_term.nodes = _Ah_;
  _Af_term.prin = _2k_node;
  _Af_term.auxs = _2q_;

  _B_.set("nd96", _Af_term);

  var _Aj_right = (__constructor.prototype = _2J_, new __constructor());

  _Aj_right.key = "nd98";
  _Aj_right.shape = null;
  _Aj_right.text = null;
  _Aj_right.colour = null;
  _Aj_right.name = void 0;
  _Aj_right.graph = _8_graph;
  _Aj_right.group = null;
  _Aj_right.width = null;
  _Aj_right.height = null;
  var _Ak_ = [];
  _Aj_right.links = _Ak_;
  var _Al_ = [];
  _Aj_right.nodes = _Al_;

  var _Av_ = (__constructor.prototype = _1p_, new __constructor());

  _G2_Prov.prototype = _Av_;

  _$6_Object_46setPrototypeOf(_G2_Prov, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G2_Prov, _$5_Object_46defineProperty(_Av_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G3_, _$5_Object_46defineProperty(_Av_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G4_, _$5_Object_46defineProperty(_Av_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G5_, _$5_Object_46defineProperty(_Av_, "deleteAndPreserveInLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G6_, _$5_Object_46defineProperty(_Av_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _Am_toNode = (__constructor.prototype = _Av_, new __constructor());

  _Am_toNode.key = "nd97";
  _Am_toNode.shape = "diamond";
  _Am_toNode.text = "";
  _Am_toNode.colour = "indianred1";
  _Am_toNode.name = void 0;
  _Am_toNode.graph = _8_graph;
  _Am_toNode.group = _D_;
  _Am_toNode.width = ".3";
  _Am_toNode.height = ".3";
  var _At_ = [,,];
  _At_.length = 0;
  _Am_toNode.links = _At_;
  _Aj_right.prin = _Am_toNode;
  _Aj_right.auxs = _2q_;

  _B_.set("nd98", _Aj_right);

  var _Ax_term = (__constructor.prototype = _2J_, new __constructor());

  _Ax_term.key = "nd99";
  _Ax_term.shape = null;
  _Ax_term.text = null;
  _Ax_term.colour = null;
  _Ax_term.name = void 0;
  _Ax_term.graph = _8_graph;
  _Ax_term.group = null;
  _Ax_term.width = null;
  _Ax_term.height = null;
  var _Ay_ = [];
  _Ax_term.links = _Ay_;
  var _Az_ = [];
  _Ax_term.nodes = _Az_;

  var _B0_toNode = (__constructor.prototype = _6i_, new __constructor());

  _B0_toNode.key = "nd12";
  _B0_toNode.shape = null;
  _B0_toNode.text = "@";
  _B0_toNode.colour = "yellow";
  _B0_toNode.name = void 0;
  _B0_toNode.graph = _8_graph;
  _B0_toNode.group = _D_;
  _B0_toNode.width = null;
  _B0_toNode.height = null;
  var _B4_ = [,,,];
  _B4_.length = 0;
  _B0_toNode.links = _B4_;
  _Ax_term.prin = _B0_toNode;

  var _B7_toNode = (__constructor.prototype = _6s_, new __constructor());

  _B7_toNode.key = "nd88";
  _B7_toNode.shape = null;
  _B7_toNode.text = "?";
  _B7_toNode.colour = "cyan";
  _B7_toNode.name = "max";
  _B7_toNode.graph = _8_graph;
  _B7_toNode.group = _D_;
  _B7_toNode.width = ".3";
  _B7_toNode.height = ".3";
  var _BD_ = [,,,];
  _BD_.length = 0;
  _B7_toNode.links = _BD_;

  var _BF_toNode = (__constructor.prototype = _6s_, new __constructor());

  _BF_toNode.key = "nd89";
  _BF_toNode.shape = null;
  _BF_toNode.text = "?";
  _BF_toNode.colour = "cyan";
  _BF_toNode.name = "x";
  _BF_toNode.graph = _8_graph;
  _BF_toNode.group = _D_;
  _BF_toNode.width = ".3";
  _BF_toNode.height = ".3";
  var _BL_ = [,,];
  _BL_.length = 0;
  _BF_toNode.links = _BL_;
  var _B6_newAuxs = [_B7_toNode, _BF_toNode];
  _Ax_term.auxs = _B6_newAuxs;

  _B_.set("nd99", _Ax_term);

  var _BO_left = (__constructor.prototype = _2J_, new __constructor());

  _BO_left.key = "nd101";
  _BO_left.shape = null;
  _BO_left.text = null;
  _BO_left.colour = null;
  _BO_left.name = void 0;
  _BO_left.graph = _8_graph;
  _BO_left.group = null;
  _BO_left.width = null;
  _BO_left.height = null;
  var _BP_ = [];
  _BO_left.links = _BP_;
  var _BQ_ = [];
  _BO_left.nodes = _BQ_;

  var _BR_fromNode = (__constructor.prototype = _2F_, new __constructor());

  _BR_fromNode.key = "nd10";
  _BR_fromNode.shape = null;
  _BR_fromNode.text = "!";
  _BR_fromNode.colour = "cyan";
  _BR_fromNode.name = void 0;
  _BR_fromNode.graph = _8_graph;
  _BR_fromNode.group = _D_;
  _BR_fromNode.width = ".3";
  _BR_fromNode.height = ".3";
  var _BX_ = [,,];
  _BX_.length = 0;
  _BR_fromNode.links = _BX_;
  _BO_left.prin = _BR_fromNode;
  var _BZ_newPaxs = [,];
  _BZ_newPaxs.length = 0;
  _BO_left.auxs = _BZ_newPaxs;

  _B_.set("nd101", _BO_left);

  _B_.set("nd103", _1q_node);

  _B_.set("nd104", _1y_node);

  var _Bc_term = (__constructor.prototype = _2J_, new __constructor());

  _Bc_term.key = "nd107";
  _Bc_term.shape = null;
  _Bc_term.text = null;
  _Bc_term.colour = null;
  _Bc_term.name = void 0;
  _Bc_term.graph = _8_graph;
  _Bc_term.group = null;
  _Bc_term.width = null;
  _Bc_term.height = null;
  var _Bd_ = [];
  _Bc_term.links = _Bd_;
  var _Be_ = [];
  _Bc_term.nodes = _Be_;
  _Bc_term.prin = _29_node;
  _Bc_term.auxs = _2H_;

  _B_.set("nd107", _Bc_term);

  var _Bg_right = (__constructor.prototype = _2J_, new __constructor());

  _Bg_right.key = "nd109";
  _Bg_right.shape = null;
  _Bg_right.text = null;
  _Bg_right.colour = null;
  _Bg_right.name = void 0;
  _Bg_right.graph = _8_graph;
  _Bg_right.group = null;
  _Bg_right.width = null;
  _Bg_right.height = null;
  var _Bh_ = [];
  _Bg_right.links = _Bh_;
  var _Bi_ = [];
  _Bg_right.nodes = _Bi_;

  var _Bj_toNode = (__constructor.prototype = _Av_, new __constructor());

  _Bj_toNode.key = "nd108";
  _Bj_toNode.shape = "diamond";
  _Bj_toNode.text = "";
  _Bj_toNode.colour = "indianred1";
  _Bj_toNode.name = void 0;
  _Bj_toNode.graph = _8_graph;
  _Bj_toNode.group = _D_;
  _Bj_toNode.width = ".3";
  _Bj_toNode.height = ".3";
  var _Bq_ = [,,];
  _Bq_.length = 0;
  _Bj_toNode.links = _Bq_;
  _Bg_right.prin = _Bj_toNode;
  _Bg_right.auxs = _2H_;

  _B_.set("nd109", _Bg_right);

  var _Bt_term = (__constructor.prototype = _2J_, new __constructor());

  _Bt_term.key = "nd110";
  _Bt_term.shape = null;
  _Bt_term.text = null;
  _Bt_term.colour = null;
  _Bt_term.name = void 0;
  _Bt_term.graph = _8_graph;
  _Bt_term.group = null;
  _Bt_term.width = null;
  _Bt_term.height = null;
  var _Bu_ = [];
  _Bt_term.links = _Bu_;
  var _Bv_ = [];
  _Bt_term.nodes = _Bv_;

  var _Bw_toNode = (__constructor.prototype = _6i_, new __constructor());

  _Bw_toNode.key = "nd7";
  _Bw_toNode.shape = null;
  _Bw_toNode.text = "@";
  _Bw_toNode.colour = "yellow";
  _Bw_toNode.name = void 0;
  _Bw_toNode.graph = _8_graph;
  _Bw_toNode.group = _D_;
  _Bw_toNode.width = null;
  _Bw_toNode.height = null;
  var _C0_ = [,,,];
  _C0_.length = 0;
  _Bw_toNode.links = _C0_;
  _Bt_term.prin = _Bw_toNode;

  var _C3_toNode = (__constructor.prototype = _6s_, new __constructor());

  _C3_toNode.key = "nd100";
  _C3_toNode.shape = null;
  _C3_toNode.text = "?";
  _C3_toNode.colour = "cyan";
  _C3_toNode.name = "max";
  _C3_toNode.graph = _8_graph;
  _C3_toNode.group = _D_;
  _C3_toNode.width = ".3";
  _C3_toNode.height = ".3";
  var _C9_ = [,,];
  _C9_.length = 0;
  _C3_toNode.links = _C9_;
  var _C2_newAuxs = [_C3_toNode];
  _Bt_term.auxs = _C2_newAuxs;

  _B_.set("nd110", _Bt_term);

  var _CC_left = (__constructor.prototype = _2J_, new __constructor());

  _CC_left.key = "nd111";
  _CC_left.shape = null;
  _CC_left.text = null;
  _CC_left.colour = null;
  _CC_left.name = void 0;
  _CC_left.graph = _8_graph;
  _CC_left.group = null;
  _CC_left.width = null;
  _CC_left.height = null;
  var _CD_ = [];
  _CC_left.links = _CD_;
  var _CE_ = [];
  _CC_left.nodes = _CE_;

  var _CF_fromNode = (__constructor.prototype = _2F_, new __constructor());

  _CF_fromNode.key = "nd5";
  _CF_fromNode.shape = null;
  _CF_fromNode.text = "!";
  _CF_fromNode.colour = "cyan";
  _CF_fromNode.name = void 0;
  _CF_fromNode.graph = _8_graph;
  _CF_fromNode.group = _D_;
  _CF_fromNode.width = ".3";
  _CF_fromNode.height = ".3";
  var _CL_ = [,,];
  _CL_.length = 0;
  _CF_fromNode.links = _CL_;
  _CC_left.prin = _CF_fromNode;
  var _CN_newPaxs = [];
  _CC_left.auxs = _CN_newPaxs;

  _B_.set("nd111", _CC_left);

  var _CP_left = (__constructor.prototype = _2J_, new __constructor());

  _CP_left.key = "nd124";
  _CP_left.shape = null;
  _CP_left.text = null;
  _CP_left.colour = null;
  _CP_left.name = void 0;
  _CP_left.graph = _8_graph;
  _CP_left.group = null;
  _CP_left.width = null;
  _CP_left.height = null;
  var _CQ_ = [];
  _CP_left.links = _CQ_;
  var _CR_ = [];
  _CP_left.nodes = _CR_;

  var _CS_toNode = (__constructor.prototype = _65_, new __constructor());

  _CS_toNode.key = "nd123";
  _CS_toNode.shape = null;
  _CS_toNode.text = "V";
  _CS_toNode.colour = "cyan";
  _CS_toNode.name = "x";
  _CS_toNode.graph = _8_graph;

  var _CX__95node = (__constructor.prototype = _27_, new __constructor());

  _CX__95node.key = "nd118";
  _CX__95node.shape = null;
  _CX__95node.text = null;
  _CX__95node.colour = null;
  _CX__95node.name = void 0;
  _CX__95node.graph = _8_graph;
  _CX__95node.group = _D_;
  _CX__95node.width = null;
  _CX__95node.height = null;
  var _CZ_ = [,,,,,,,,,,,];
  _CZ_.length = 0;
  _CX__95node.links = _CZ_;
  var _Cb_ = [,,,,,,,,,];
  _Cb_.length = 0;
  _CX__95node.nodes = _Cb_;
  _CS_toNode.group = _CX__95node;
  _CS_toNode.width = ".3";
  _CS_toNode.height = ".3";
  var _Cf_ = [,,];
  _Cf_.length = 0;
  _CS_toNode.links = _Cf_;
  _CP_left.prin = _CS_toNode;
  var _Ch_ = [_CS_toNode];
  _CP_left.auxs = _Ch_;

  _B_.set("nd124", _CP_left);

  var _Cj_right = (__constructor.prototype = _2J_, new __constructor());

  _Cj_right.key = "nd126";
  _Cj_right.shape = null;
  _Cj_right.text = null;
  _Cj_right.colour = null;
  _Cj_right.name = void 0;
  _Cj_right.graph = _8_graph;
  _Cj_right.group = null;
  _Cj_right.width = null;
  _Cj_right.height = null;
  var _Ck_ = [];
  _Cj_right.links = _Ck_;
  var _Cl_ = [];
  _Cj_right.nodes = _Cl_;

  var _Cm_toNode = (__constructor.prototype = _65_, new __constructor());

  _Cm_toNode.key = "nd125";
  _Cm_toNode.shape = null;
  _Cm_toNode.text = "V";
  _Cm_toNode.colour = "cyan";
  _Cm_toNode.name = "y";
  _Cm_toNode.graph = _8_graph;
  _Cm_toNode.group = _CX__95node;
  _Cm_toNode.width = ".3";
  _Cm_toNode.height = ".3";
  var _Ct_ = [,,];
  _Ct_.length = 0;
  _Cm_toNode.links = _Ct_;
  _Cj_right.prin = _Cm_toNode;
  var _Cv_ = [_Cm_toNode];
  _Cj_right.auxs = _Cv_;

  _B_.set("nd126", _Cj_right);

  var _Cx_cond = (__constructor.prototype = _2J_, new __constructor());

  _Cx_cond.key = "nd127";
  _Cx_cond.shape = null;
  _Cx_cond.text = null;
  _Cx_cond.colour = null;
  _Cx_cond.name = void 0;
  _Cx_cond.graph = _8_graph;
  _Cx_cond.group = null;
  _Cx_cond.width = null;
  _Cx_cond.height = null;
  var _Cy_ = [];
  _Cx_cond.links = _Cy_;
  var _Cz_ = [];
  _Cx_cond.nodes = _Cz_;
  _Cx_cond.prin = _3P_left;
  var _D0_newAuxs = [_CS_toNode, _Cm_toNode];
  _Cx_cond.auxs = _D0_newAuxs;

  _B_.set("nd127", _Cx_cond);

  var _D2_t1 = (__constructor.prototype = _2J_, new __constructor());

  _D2_t1.key = "nd129";
  _D2_t1.shape = null;
  _D2_t1.text = null;
  _D2_t1.colour = null;
  _D2_t1.name = void 0;
  _D2_t1.graph = _8_graph;
  _D2_t1.group = null;
  _D2_t1.width = null;
  _D2_t1.height = null;
  var _D3_ = [];
  _D2_t1.links = _D3_;
  var _D4_ = [];
  _D2_t1.nodes = _D4_;

  var _D5_toNode = (__constructor.prototype = _65_, new __constructor());

  _D5_toNode.key = "nd128";
  _D5_toNode.shape = null;
  _D5_toNode.text = "V";
  _D5_toNode.colour = "cyan";
  _D5_toNode.name = "y";
  _D5_toNode.graph = _8_graph;
  _D5_toNode.group = _CX__95node;
  _D5_toNode.width = ".3";
  _D5_toNode.height = ".3";
  var _DB_ = [,,];
  _DB_.length = 0;
  _D5_toNode.links = _DB_;
  _D2_t1.prin = _D5_toNode;
  var _DD_ = [_D5_toNode];
  _D2_t1.auxs = _DD_;

  _B_.set("nd129", _D2_t1);

  var _DF_t2 = (__constructor.prototype = _2J_, new __constructor());

  _DF_t2.key = "nd131";
  _DF_t2.shape = null;
  _DF_t2.text = null;
  _DF_t2.colour = null;
  _DF_t2.name = void 0;
  _DF_t2.graph = _8_graph;
  _DF_t2.group = null;
  _DF_t2.width = null;
  _DF_t2.height = null;
  var _DG_ = [];
  _DF_t2.links = _DG_;
  var _DH_ = [];
  _DF_t2.nodes = _DH_;

  var _DI_toNode = (__constructor.prototype = _65_, new __constructor());

  _DI_toNode.key = "nd130";
  _DI_toNode.shape = null;
  _DI_toNode.text = "V";
  _DI_toNode.colour = "cyan";
  _DI_toNode.name = "x";
  _DI_toNode.graph = _8_graph;
  _DI_toNode.group = _CX__95node;
  _DI_toNode.width = ".3";
  _DI_toNode.height = ".3";
  var _DO_ = [,,];
  _DO_.length = 0;
  _DI_toNode.links = _DO_;
  _DF_t2.prin = _DI_toNode;
  var _DQ_ = [_DI_toNode];
  _DF_t2.auxs = _DQ_;

  _B_.set("nd131", _DF_t2);

  var _DS_term = (__constructor.prototype = _2J_, new __constructor());

  _DS_term.key = "nd134";
  _DS_term.shape = null;
  _DS_term.text = null;
  _DS_term.colour = null;
  _DS_term.name = void 0;
  _DS_term.graph = _8_graph;
  _DS_term.group = null;
  _DS_term.width = null;
  _DS_term.height = null;
  var _DT_ = [];
  _DS_term.links = _DT_;
  var _DU_ = [];
  _DS_term.nodes = _DU_;
  _DS_term.prin = _3J_prev;
  var _DV_newAuxs = [_3W_right, _3d_left,,,];
  _DV_newAuxs.length = 2;
  _DS_term.auxs = _DV_newAuxs;

  _B_.set("nd134", _DS_term);

  var _DY_term = (__constructor.prototype = _2J_, new __constructor());

  _DY_term.key = "nd136";
  _DY_term.shape = null;
  _DY_term.text = null;
  _DY_term.colour = null;
  _DY_term.name = void 0;
  _DY_term.graph = _8_graph;
  _DY_term.group = null;
  _DY_term.width = null;
  _DY_term.height = null;
  var _DZ_ = [];
  _DY_term.links = _DZ_;
  var _Da_ = [];
  _DY_term.nodes = _Da_;

  var _Db_fromNode = (__constructor.prototype = _2F_, new __constructor());

  _Db_fromNode.key = "nd119";
  _Db_fromNode.shape = null;
  _Db_fromNode.text = "!";
  _Db_fromNode.colour = "cyan";
  _Db_fromNode.name = void 0;
  _Db_fromNode.graph = _8_graph;
  _Db_fromNode.group = _D_;
  _Db_fromNode.width = ".3";
  _Db_fromNode.height = ".3";
  var _Dh_ = [,,];
  _Dh_.length = 0;
  _Db_fromNode.links = _Dh_;
  _DY_term.prin = _Db_fromNode;
  var _Dj_newPaxs = [,];
  _Dj_newPaxs.length = 0;
  _DY_term.auxs = _Dj_newPaxs;

  _B_.set("nd136", _DY_term);

  var _Dm_right = (__constructor.prototype = _2J_, new __constructor());

  _Dm_right.key = "nd137";
  _Dm_right.shape = null;
  _Dm_right.text = null;
  _Dm_right.colour = null;
  _Dm_right.name = void 0;
  _Dm_right.graph = _8_graph;
  _Dm_right.group = null;
  _Dm_right.width = null;
  _Dm_right.height = null;
  var _Dn_ = [];
  _Dm_right.links = _Dn_;
  var _Do_ = [];
  _Dm_right.nodes = _Do_;

  var _Dp_fromNode = (__constructor.prototype = _2F_, new __constructor());

  _Dp_fromNode.key = "nd115";
  _Dp_fromNode.shape = null;
  _Dp_fromNode.text = "!";
  _Dp_fromNode.colour = "cyan";
  _Dp_fromNode.name = void 0;
  _Dp_fromNode.graph = _8_graph;
  _Dp_fromNode.group = _D_;
  _Dp_fromNode.width = ".3";
  _Dp_fromNode.height = ".3";
  var _Dv_ = [,,,];
  _Dv_.length = 0;
  _Dp_fromNode.links = _Dv_;
  _Dm_right.prin = _Dp_fromNode;
  var _Dx_newPaxs = [];
  _Dm_right.auxs = _Dx_newPaxs;

  _B_.set("nd137", _Dm_right);

  var _Dz_term = (__constructor.prototype = _2J_, new __constructor());

  _Dz_term.key = "nd138";
  _Dz_term.shape = null;
  _Dz_term.text = null;
  _Dz_term.colour = null;
  _Dz_term.name = void 0;
  _Dz_term.graph = _8_graph;
  _Dz_term.group = null;
  _Dz_term.width = null;
  _Dz_term.height = null;
  var _E0_ = [];
  _Dz_term.links = _E0_;
  var _E1_ = [];
  _Dz_term.nodes = _E1_;

  var _E2_toNode = (__constructor.prototype = _6i_, new __constructor());

  _E2_toNode.key = "nd2";
  _E2_toNode.shape = null;
  _E2_toNode.text = "@";
  _E2_toNode.colour = "yellow";
  _E2_toNode.name = void 0;
  _E2_toNode.graph = _8_graph;
  _E2_toNode.group = _D_;
  _E2_toNode.width = null;
  _E2_toNode.height = null;
  var _E6_ = [,,,];
  _E6_.length = 0;
  _E2_toNode.links = _E6_;
  _Dz_term.prin = _E2_toNode;
  var _E8_newAuxs = [];
  _Dz_term.auxs = _E8_newAuxs;

  _B_.set("nd138", _Dz_term);

  _B_.set("nd143", _3l_wrapper);

  _B_.set("nd144", _3t_box);

  _B_.set("nd149", _4n_wrapper);

  _B_.set("nd150", _4v_box);

  _B_.set("nd153", _5H_wrapper);

  _B_.set("nd154", _5P_box);

  _1b_otherNextLink.group = _D_;
  _1S_otherNextLink.group = _D_;
  _4B_link.group = _48_node;
  _1J_link.group = _D_;
  _1N_otherNextLink.group = _D_;
  _1X_link.group = _D_;
  _g_link.group = _D_;
  _k_link.group = _D_;
  _o_link.group = _D_;
  _2X_link.group = _2U_node;
  _S_link.group = _D_;
  _X_nextLink.group = _D_;
  _1t_link.group = _1q_node;
  _H_link.group = _D_;
  _w_link.group = _D_;
  _11_link.group = _D_;
  _15_i.group = _D_;
  _18_link.group = _D_;
  _1B_link.group = _D_;
  _1E_link.group = _D_;
  _s_nextLink.group = _D_;
  _N_link.group = _D_;
  _c_link.group = _D_;
  _3o_.group = _3l_wrapper;
  _4q_.group = _4n_wrapper;
  _5K_.group = _5H_wrapper;
  _1i_fromNode.group = _D_;
  _5f_otherNode.group = _D_;
  _5B_otherNode.group = _D_;
  _4N_node.group = _48_node;
  _FL_Term.prototype = _2J_;
  _4K_node.group = _4G_node;
  _4U_otherNode.group = _D_;
  _2z_prev.group = _D_;
  _35_toNode.group = _D_;
  _3A_fromNode.group = _D_;
  _2k_node.group = _2U_node;
  _2g_node.group = _2c_node;
  _29_node.group = _1q_node;
  _22_node.group = _1y_node;
  _3J_prev.group = _D_;
  _3P_left.group = _D_;
  _FD_BoxWrapper.prototype = _2I_;
  _Ex_Box.prototype = _27_;
  _3W_right.group = _D_;
  _3d_left.group = _D_;
  _2K_mod.group = _D_;
  _2Q_value.group = _D_;
  _2r_mod.group = _D_;
  _2w_value.group = _D_;
  _40_toNode.group = _3l_wrapper;
  _3x_toNode.group = _3t_box;
  _4b_weak1.group = _D_;
  _4h_weak2.group = _D_;
  _53_toNode.group = _4n_wrapper;
  _4z_toNode.group = _4v_box;
  _5X_toNode.group = _5H_wrapper;
  _5T_toNode.group = _5P_box;
  _Ez_Group.prototype = _28_;

  _$6_Object_46setPrototypeOf(_Ez_Group, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G7_, _$5_Object_46defineProperty(_EB_, "clear", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G8_, _$5_Object_46defineProperty(_EB_, "addNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _G9_, _$5_Object_46defineProperty(_EB_, "removeNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GA_, _$5_Object_46defineProperty(_EB_, "findNodeByKey", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GB_, _$5_Object_46defineProperty(_EB_, "addLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GC_, _$5_Object_46defineProperty(_EB_, "removeLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H6_, _$5_Object_46defineProperty(_GH_MachineToken, "CompData", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H7_, _$5_Object_46defineProperty(_GH_MachineToken, "RewriteFlag", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GE_, _$5_Object_46defineProperty(_EK_, "setLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GF_, _$5_Object_46defineProperty(_EK_, "reset", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GG_, _$5_Object_46defineProperty(_EK_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GI_, _$5_Object_46defineProperty(_EM_, "collect", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GJ_, _$5_Object_46defineProperty(_EM_, "collectInGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _I3_ = (__constructor.prototype = _2G_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I2_Recur, _$5_Object_46defineProperty(_I3_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ir_, _$5_Object_46defineProperty(_I3_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Is_, _$5_Object_46defineProperty(_I3_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _It_, _$5_Object_46defineProperty(_I3_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _I2_Recur.prototype = _I3_;

  _$6_Object_46setPrototypeOf(_I2_Recur, _F9_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GK_, _$5_Object_46defineProperty(_EM_, "collectFromBottom", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GM_, _$5_Object_46defineProperty(_ET_, "isPlay", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GN_, _$5_Object_46defineProperty(_ET_, "setPlay", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GO_, _$5_Object_46defineProperty(_ET_, "isPlaying", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GP_, _$5_Object_46defineProperty(_ET_, "setPlaying", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GQ_, _$5_Object_46defineProperty(_ET_, "isFinished", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GR_, _$5_Object_46defineProperty(_ET_, "setFinished", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IY_, _$5_Object_46defineProperty(_Hm_, "_nextChar", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Jq_Token.EOF = "EOF";
  _Jq_Token.LAMBDA = "LAMBDA";
  _Jq_Token.LPAREN = "LPAREN";
  _Jq_Token.RPAREN = "RPAREN";
  _Jq_Token.CLPAREN = "CLPAREN";
  _Jq_Token.CRPAREN = "CRPAREN";
  _Jq_Token.LCID = "LCID";
  _Jq_Token.DOT = "DOT";
  _Jq_Token.COMMA = "COMMA";
  _Jq_Token.APP = "APP";
  _Jq_Token.LET = "LET";
  _Jq_Token.DEFINE = "DEFINE";
  _Jq_Token.IN = "IN";
  _Jq_Token.REC = "REC";
  _Jq_Token.INT = "INT";
  _Jq_Token.TRUE = "TRUE";
  _Jq_Token.FALSE = "FALSE";
  _Jq_Token.NOT = "NOT";
  _Jq_Token.AND = "AND";
  _Jq_Token.OR = "OR";
  _Jq_Token.PLUS = "PLUS";
  _Jq_Token.SUB = "SUB";
  _Jq_Token.MULT = "MULT";
  _Jq_Token.DIV = "DIV";
  _Jq_Token.LTE = "LTE";
  _Jq_Token.IF = "IF";
  _Jq_Token.THEN = "THEN";
  _Jq_Token.ELSE = "ELSE";
  _Jq_Token.SET = "SET";
  _Jq_Token.CHANGE = "CHANGE";
  _Jq_Token.TO = "TO";
  _Jq_Token.PROP = "PROP";
  _Jq_Token.DEP = "DEP";
  _Jq_Token.DEREF = "DEREF";
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IZ_, _$5_Object_46defineProperty(_Hm_, "_nextToken", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ia_, _$5_Object_46defineProperty(_Hm_, "token", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ib_, _$5_Object_46defineProperty(_Hm_, "lookahead", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ic_, _$5_Object_46defineProperty(_Hm_, "fail", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Id_, _$5_Object_46defineProperty(_Hm_, "next", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ie_, _$5_Object_46defineProperty(_Hm_, "match", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _If_, _$5_Object_46defineProperty(_Hm_, "skip", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ig_, _$5_Object_46defineProperty(_Ho_, "parse", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ih_, _$5_Object_46defineProperty(_Ho_, "term", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ii_, _$5_Object_46defineProperty(_Ho_, "isBinaryOp", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _Hv_ = (__constructor.prototype = _Hw_, new __constructor());

  _Hx_UnaryOp.prototype = _Hv_;

  _$6_Object_46setPrototypeOf(_Hx_UnaryOp, _Im_Operation);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hx_UnaryOp, _$5_Object_46defineProperty(_Hv_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _Hu_ = (__constructor.prototype = _Hv_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ht_BinaryOp, _$5_Object_46defineProperty(_Hu_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Ht_BinaryOp.prototype = _Hu_;

  _$6_Object_46setPrototypeOf(_Ht_BinaryOp, _Hx_UnaryOp);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ij_, _$5_Object_46defineProperty(_Ho_, "parseBinop", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ik_, _$5_Object_46defineProperty(_Ho_, "application", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _JG_UnOpType = {
    Not: 0
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Il_, _$5_Object_46defineProperty(_Ho_, "atom", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GS_, _$5_Object_46defineProperty(_ET_, "compile", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _Hz_ = (__constructor.prototype = _1p_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hy_UnOp, _$5_Object_46defineProperty(_Hz_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _In_, _$5_Object_46defineProperty(_Hz_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Io_, _$5_Object_46defineProperty(_Hz_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ip_, _$5_Object_46defineProperty(_Hz_, "unOpApply", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Iq_, _$5_Object_46defineProperty(_Hz_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Hy_UnOp.prototype = _Hz_;

  _$6_Object_46setPrototypeOf(_Hy_UnOp, _Et_Node);

  var _I7_ = (__constructor.prototype = _1p_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I6_Dep, _$5_Object_46defineProperty(_I7_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Iu_, _$5_Object_46defineProperty(_I7_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Iv_, _$5_Object_46defineProperty(_I7_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Iw_, _$5_Object_46defineProperty(_I7_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _I6_Dep.prototype = _I7_;

  _$6_Object_46setPrototypeOf(_I6_Dep, _Et_Node);

  var _IC_ = (__constructor.prototype = _1p_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IB_Set, _$5_Object_46defineProperty(_IC_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ix_, _$5_Object_46defineProperty(_IC_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Iy_, _$5_Object_46defineProperty(_IC_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Iz_, _$5_Object_46defineProperty(_IC_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _IB_Set.prototype = _IC_;

  _$6_Object_46setPrototypeOf(_IB_Set, _Et_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GT_, _$5_Object_46defineProperty(_ET_, "toGraph", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GU_, _$5_Object_46defineProperty(_ET_, "deleteVarNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GV_, _$5_Object_46defineProperty(_ET_, "startPropagation", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GW_, _$5_Object_46defineProperty(_ET_, "shuffle", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GX_, _$5_Object_46defineProperty(_ET_, "batchPass", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GY_, _$5_Object_46defineProperty(_ET_, "pass", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GZ_, _$5_Object_46defineProperty(_ET_, "tokenPass", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ga_, _$5_Object_46defineProperty(_ET_, "getData", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _7_machine = (__constructor.prototype = _ET_, new __constructor());

  _7_machine.graph = _8_graph;

  var _EC_ = (__constructor.prototype = _EK_, new __constructor());

  _EC_.machine = _7_machine;
  _EC_.forward = false;
  _EC_.rewrite = false;
  _EC_.transited = true;
  _EC_.link = _1E_link;
  _EC_.rewriteFlag = "\u25A1";
  var _EG_data = [2, "nd141"];
  var _EE_ = ["*", false, _EG_data,,,];
  _EE_.length = 3;
  _EC_.dataStack = _EE_;
  var _EI_ = [_15_i,,];
  _EI_.length = 1;
  _EC_.boxStack = _EI_;
  _EC_.isMain = true;
  _7_machine.token = _EC_;

  var _EL_ = (__constructor.prototype = _EM_, new __constructor());

  _EL_.graph = _8_graph;
  _EL_.noMore = false;
  _7_machine.gc = _EL_;
  _7_machine.count = 0;
  var _EO_ = [,,];
  _EO_.length = 0;
  _7_machine.evalTokens = _EO_;
  var _EQ_ = ["nd139", "nd141"];
  _7_machine.cells = _EQ_;
  _7_machine.evaluating = false;

  var _ER_ = new _$4_Map();

  _7_machine.newValues = _ER_;
  _7_machine.hasUpdate = true;
  _7_machine.play = true;
  _7_machine.playing = true;
  _7_machine.finished = false;
  _7_machine.readyEvalTokens = 0;
  _8_graph.machine = _7_machine;
  var _Gc_ = _$1_global;

  var _H8_ = (err, result) => {
    if (err) {
      throw err;
    }

    console.log(result);
    module.exports = result;
  };

  var _$0_derived = _$9_global_46setTimeout(_3_, 0);
}).call(global);