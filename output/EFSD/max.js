(function () {
  var __get_scope_binding_0_get_95scope_95binding = function (__selector) {
    var __captured;

    switch (__selector) {
      case 0:
        __captured = [41];
        break;

      case 1:
        __captured = [_JQ__95get, _JQ__95get];
        break;

      case 2:
        __captured = [_L1__95typeof, _L1__95typeof, _Jf__95get, _Jf__95get];
        break;

      case 3:
        __captured = [_Kw__95typeof, _Kw__95typeof];
        break;

      case 4:
        __captured = [_Kx__95typeof, _Kx__95typeof];
        break;

      case 5:
        __captured = [_Mp__95typeof, _Mp__95typeof, _MO__95getPrototypeOf, _MO__95getPrototypeOf];
        break;

      case 6:
        __captured = [_Mr__95typeof, _Mr__95typeof, _MQ__95getPrototypeOf, _MQ__95getPrototypeOf];
        break;

      case 7:
        __captured = [_Mt__95typeof, _Mt__95typeof, _MS__95getPrototypeOf, _MS__95getPrototypeOf];
        break;

      case 8:
        __captured = [_Mv__95typeof, _Mv__95typeof, _MU__95getPrototypeOf, _MU__95getPrototypeOf];
        break;

      case 9:
        __captured = [_LP__95typeof, _LP__95typeof];
        break;

      case 10:
        __captured = [_LQ__95typeof, _LQ__95typeof];
        break;

      case 11:
        __captured = [_LR__95typeof, _LR__95typeof];
        break;

      case 12:
        __captured = [_LS__95typeof, _LS__95typeof];
        break;

      case 13:
        __captured = [_Lb__95typeof, _Lb__95typeof];
        break;

      case 14:
        __captured = [_Lc__95typeof, _Lc__95typeof];
        break;

      case 15:
        __captured = [_Ld__95typeof, _Ld__95typeof];
        break;

      case 16:
        __captured = [_Lg__95typeof, _Lg__95typeof];
        break;

      case 17:
        __captured = [_Lh__95typeof, _Lh__95typeof];
        break;

      case 18:
        __captured = [_Li__95typeof, _Li__95typeof];
        break;

      case 19:
        __captured = [_Mo__95typeof, _Mo__95typeof];
        break;
    }

    __scope_0_main[__selector] = __captured;
    return __captured;
  };

  var __scope_0_main = new Array(20);

  var $$0_enumerable_58false_44configurable_58true_44writable_58true = {
    enumerable: false,
    configurable: true,
    writable: true
  };

  var _$1_global = this;

  var _$2_Object = _$1_global.Object;
  var _$3_Object_46getPrototypeOf = _$2_Object.getPrototypeOf;
  var _$4_Map = _$1_global.Map;
  var _$5_Object_46defineProperty = _$2_Object.defineProperty;
  var _$6_Object_46setPrototypeOf = _$2_Object.setPrototypeOf;
  var _$7_Reflect = _$1_global.Reflect;
  var _$8_Reflect_46get = _$7_Reflect.get;
  var _$9_global_46setTimeout = _$1_global.setTimeout;

  var _KC__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _L6__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Jo_Abstraction = function (param, body) {
    _L6__95classCallCheck(this, _Jo_Abstraction);

    this.param = param;
    this.body = body;
  };

  var _L7__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Jp_Application = function (lhs, rhs) {
    _L7__95classCallCheck(this, _Jp_Application);

    this.lhs = lhs;
    this.rhs = rhs;
  };

  var _L5__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Jn_Identifier = function (value, name) {
    _L5__95classCallCheck(this, _Jn_Identifier);

    this.value = value;
    this.name = name;
  };

  var _L8__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Jq_Constant = function (value) {
    _L8__95classCallCheck(this, _Jq_Constant);

    this.value = value;
  };

  var _MK__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Ki_Operation = function (type, name) {
    _MK__95classCallCheck(this, _Ki_Operation);

    this.type = type;
    this.name = name;
  };

  var _Ju_ = _Ki_Operation.prototype;

  var _Mo__95typeof = function (obj) {
    var __captured__scope_K_ = __scope_0_main[19] || __get_scope_binding_0_get_95scope_95binding(19);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_K_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_K_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_K_[1](obj);
  };

  var _LA__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _MM__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_K_ = __scope_0_main[19] || __get_scope_binding_0_get_95scope_95binding(19);

    if (call && (__captured__scope_K_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _My__95assertThisInitialized(self);
  };

  var _My__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Jv_UnaryOp = function (type, name, v1) {
    var _this;

    _LA__95classCallCheck(this, _Jv_UnaryOp);

    _this = _MM__95possibleConstructorReturn(this, _JI_(_Jv_UnaryOp).call(this, type, name));
    _this.v1 = v1;
    return _this;
  };

  var _L9__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _ML__95possibleConstructorReturn = function (self, call) {
    if (call && (_Mn_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mx__95assertThisInitialized(self);
  };

  var _Mx__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Jr_BinaryOp = function (type, name, v1, v2) {
    var _this;

    _L9__95classCallCheck(this, _Jr_BinaryOp);

    _this = _ML__95possibleConstructorReturn(this, _JI_(_Jr_BinaryOp).call(this, type, name, v1));
    _this.v2 = v2;
    return _this;
  };

  var _LE__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Jy_IfThenElse = function (cond, t1, t2) {
    _LE__95classCallCheck(this, _Jy_IfThenElse);

    this.cond = cond;
    this.t1 = t1;
    this.t2 = t2;
  };

  var _LF__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Jz_Recursion = function (param, body) {
    _LF__95classCallCheck(this, _Jz_Recursion);

    this.param = param;
    this.body = body;
  };

  var _LH__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _K2_ProvisionalConstant = function (term) {
    _LH__95classCallCheck(this, _K2_ProvisionalConstant);

    this.term = term;
  };

  var _LL__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _K7_Change = function (param, body) {
    _LL__95classCallCheck(this, _K7_Change);

    this.param = param;
    this.body = body;
  };

  var _LM__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _K8_Assign = function (param, body) {
    _LM__95classCallCheck(this, _K8_Assign);

    this.param = param;
    this.body = body;
  };

  var _LO__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KB_Propagation = function () {
    _LO__95classCallCheck(this, _KB_Propagation);
  };

  var _LI__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _K3_Deprecation = function (term) {
    _LI__95classCallCheck(this, _K3_Deprecation);

    this.term = term;
  };

  var _LK__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _K6_Dereference = function (term) {
    _LK__95classCallCheck(this, _K6_Dereference);

    this.term = term;
  };

  var _L3__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Mm__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Ll_Token = function (type, value, pred) {
    _Mm__95classCallCheck(this, _Ll_Token);

    this.type = type;
    this.value = value;
    this.pred = pred;
  };

  var _Jj_Lexer = function (input) {
    _L3__95classCallCheck(this, _Jj_Lexer);

    this._input = input;
    this._index = 0;
    this._token = undefined;

    this._nextToken();
  };

  var _Jk_ = _Jj_Lexer.prototype;

  var _KU_ = function () {
    if (this._index >= this._input.length) {
      return '\0';
    }

    return this._input[this._index++];
  };

  var _KV_ = function () {
    var c;

    do {
      c = this._nextChar();
    } while (/\s/.test(c));

    switch (c) {
      case 'Î»':
      case '\\':
        this._token = new _Ll_Token(_Ll_Token.LAMBDA);
        break;

      case '.':
        this._token = new _Ll_Token(_Ll_Token.DOT);
        break;

      case ',':
        this._token = new _Ll_Token(_Ll_Token.COMMA);
        break;

      case ';':
        this._token = new _Ll_Token(_Ll_Token.SEQ);
        break;

      case '(':
        this._token = new _Ll_Token(_Ll_Token.LPAREN);
        break;

      case ')':
        this._token = new _Ll_Token(_Ll_Token.RPAREN);
        break;

      case '{':
        this._token = new _Ll_Token(_Ll_Token.CLPAREN);
        break;

      case '}':
        this._token = new _Ll_Token(_Ll_Token.CRPAREN);
        break;

      case '\0':
        this._token = new _Ll_Token(_Ll_Token.EOF);
        break;

      case '~':
        this._token = new _Ll_Token(_Ll_Token.NOT);
        break;

      case '&':
        if (this._nextChar() == '&') this._token = new _Ll_Token(_Ll_Token.AND, null, 5);else {
          this._index--;
          this.fail();
        }
        break;

      case '|':
        var c2 = this._nextChar();

        if (c2 == '|') this._token = new _Ll_Token(_Ll_Token.OR, null, 4);else {
          this._index--;
          this.fail();
        }
        break;

      case '+':
        this._token = new _Ll_Token(_Ll_Token.PLUS, null, 12);
        break;

      case '-':
        this._token = new _Ll_Token(_Ll_Token.SUB, null, 12);
        break;

      case '*':
        this._token = new _Ll_Token(_Ll_Token.MULT, null, 13);
        break;

      case '/':
        this._token = new _Ll_Token(_Ll_Token.DIV, null, 13);
        break;

      case '<':
        if (this._nextChar() == '=') this._token = new _Ll_Token(_Ll_Token.LTE, null, 10);else {
          this._index--;
          this.fail();
        }
        break;

      case '=':
        this._token = new _Ll_Token(_Ll_Token.DEFINE);
        break;

      default:
        // text for string
        if (/[a-z]|_|'/.test(c)) {
          var str = '';

          do {
            str += c;
            c = this._nextChar();
          } while (/[a-zA-Z]|'|_|[0-9]/.test(c)); // put back the last char which is not part of the identifier


          this._index--;
          if (str == "let") this._token = new _Ll_Token(_Ll_Token.LET);else if (str == "in") this._token = new _Ll_Token(_Ll_Token.IN);else if (str == "rec") this._token = new _Ll_Token(_Ll_Token.REC);else if (str == "true") this._token = new _Ll_Token(_Ll_Token.TRUE);else if (str == "false") this._token = new _Ll_Token(_Ll_Token.FALSE);else if (str == "if") this._token = new _Ll_Token(_Ll_Token.IF);else if (str == "then") this._token = new _Ll_Token(_Ll_Token.THEN);else if (str == "else") this._token = new _Ll_Token(_Ll_Token.ELSE);else if (str == "link") this._token = new _Ll_Token(_Ll_Token.CHANGE);else if (str == "set") this._token = new _Ll_Token(_Ll_Token.SET);else if (str == "to") this._token = new _Ll_Token(_Ll_Token.TO);else if (str == "step") this._token = new _Ll_Token(_Ll_Token.PROP);else if (str == "peek") this._token = new _Ll_Token(_Ll_Token.DEP);else if (str == "deref") this._token = new _Ll_Token(_Ll_Token.DEREF);else this._token = new _Ll_Token(_Ll_Token.LCID, str);
        } // text for numbers
        else if (/[0-9]/.test(c)) {
            var _str = '';

            do {
              _str += c;
              c = this._nextChar();
            } while (/[0-9]/.test(c));

            if (c == '.') {
              do {
                _str += c;
                c = this._nextChar();
              } while (/[0-9]/.test(c));
            } // put back the last char which is not part of the identifier


            this._index--;
            this._token = new _Ll_Token(_Ll_Token.INT, parseFloat(_str));
          } else {
            this.fail();
          }

    }
  };

  var _KW_ = function (type) {
    if (!type) {
      return this._token.value;
    }

    var token = this._token;
    this.match(type);
    return token.value;
  };

  var _KX_ = function () {
    return this._token;
  };

  var _KY_ = function () {
    throw new Error("Unexpected token at offset ".concat(this._index));
  };

  var _KZ_ = function (type) {
    return this._token.type == type;
  };

  var _Ka_ = function (type) {
    if (this.next(type)) {
      this._nextToken();

      return;
    }

    console.error("".concat(this._index, ": Invalid token: Expected '").concat(type, "' found '").concat(this._token.type, "'"));
    throw new Error('Parse Error');
  };

  var _Kb_ = function (type) {
    if (this.next(type)) {
      this._nextToken();

      return true;
    }

    return false;
  };

  var _L4__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Jl_Parser = function (lexer) {
    _L4__95classCallCheck(this, _Jl_Parser);

    this.lexer = lexer;
  };

  var _Jm_ = _Jl_Parser.prototype;

  var _Kc_ = function () {
    var result = this.term([]); // make sure we consumed all the program, otherwise there was a syntax error

    this.lexer.match(_Ll_Token.EOF);
    return result;
  };

  var _Kd_ = function (ctx) {
    if (this.lexer.skip(_Ll_Token.LAMBDA)) {
      var id = this.lexer.token(_Ll_Token.LCID);
      this.lexer.match(_Ll_Token.DOT);
      var term = this.term([id].concat(ctx));
      return new _Jo_Abstraction(id, term);
    } else if (this.lexer.skip(_Ll_Token.LET)) {
      var _id = this.lexer.token(_Ll_Token.LCID);

      this.lexer.match(_Ll_Token.DEFINE);
      var N = this.term(ctx);
      this.lexer.match(_Ll_Token.IN);
      var M = this.term([_id].concat(ctx));
      return new _Jp_Application(new _Jo_Abstraction(_id, M), N);
    } else if (this.lexer.skip(_Ll_Token.REC)) {
      var _id2 = this.lexer.token(_Ll_Token.LCID);

      this.lexer.match(_Ll_Token.DOT);

      var _term = this.term([_id2].concat(ctx));

      return new _Jz_Recursion(_id2, _term);
    } else if (this.lexer.skip(_Ll_Token.IF)) {
      var cond = this.term(ctx);
      this.lexer.match(_Ll_Token.THEN);
      var t1 = this.term(ctx);
      this.lexer.match(_Ll_Token.ELSE);
      var t2 = this.term(ctx);
      return new _Jy_IfThenElse(cond, t1, t2);
    } else {
      return this.application(ctx);
    }
  };

  var _Ke_ = function (token) {
    return token.type == _Ll_Token.AND || token.type == _Ll_Token.OR || token.type == _Ll_Token.PLUS || token.type == _Ll_Token.SUB || token.type == _Ll_Token.MULT || token.type == _Ll_Token.DIV || token.type == _Ll_Token.LTE;
  };

  var _Kf_ = function (ctx, lhs, pred) {
    var nextToken = this.lexer.lookahead();

    while (this.isBinaryOp(nextToken) && nextToken.pred >= pred) {
      var op = nextToken;

      this.lexer._nextToken();

      var rhs = this.atom(ctx); //var rhs = this.term(ctx);

      nextToken = this.lexer.lookahead();

      while (this.isBinaryOp(nextToken) && nextToken.pred > op.pred) {
        rhs = this.parseBinop(ctx, rhs, nextToken.pred);
        nextToken = this.lexer.lookahead();
      }

      if (op.type == _Ll_Token.AND) {
        lhs = new _Jr_BinaryOp(_Iw_BinOpType.And, "&&", lhs, rhs);
      } else if (op.type == _Ll_Token.OR) {
        lhs = new _Jr_BinaryOp(_Iw_BinOpType.Or, "||", lhs, rhs);
      } else if (op.type == _Ll_Token.PLUS) {
        lhs = new _Jr_BinaryOp(_Iw_BinOpType.Plus, "+", lhs, rhs);
      } else if (op.type == _Ll_Token.SUB) {
        lhs = new _Jr_BinaryOp(_Iw_BinOpType.Sub, "-", lhs, rhs);
      } else if (op.type == _Ll_Token.MULT) {
        lhs = new _Jr_BinaryOp(_Iw_BinOpType.Mult, "*", lhs, rhs);
      } else if (op.type == _Ll_Token.DIV) {
        lhs = new _Jr_BinaryOp(_Iw_BinOpType.Div, "/", lhs, rhs);
      } else if (op.type == _Ll_Token.LTE) {
        lhs = new _Jr_BinaryOp(_Iw_BinOpType.Lte, "<=", lhs, rhs);
      }
    }

    return lhs;
  };

  var _Kg_ = function (ctx) {
    var lhs = this.atom(ctx);

    while (true) {
      var rhs;

      if (this.isBinaryOp(this.lexer.lookahead())) {
        lhs = this.parseBinop(ctx, lhs, 0);
      } else {
        rhs = this.atom(ctx);

        if (!rhs) {
          return lhs;
        } else {
          lhs = new _Jp_Application(lhs, rhs);
        }
      }
    }
  };

  var _Kh_ = function (ctx) {
    if (this.lexer.skip(_Ll_Token.LPAREN)) {
      var _term2 = this.term(ctx);

      this.lexer.match(_Ll_Token.RPAREN);
      return _term2;
    } else if (this.lexer.next(_Ll_Token.LCID)) {
      var id = this.lexer.token(_Ll_Token.LCID);
      return new _Jn_Identifier(ctx.indexOf(id), id);
    } else if (this.lexer.next(_Ll_Token.INT)) {
      var n = this.lexer.token(_Ll_Token.INT);
      return new _Jq_Constant(n);
    } else if (this.lexer.skip(_Ll_Token.TRUE)) {
      return new _Jq_Constant(true);
    } else if (this.lexer.skip(_Ll_Token.FALSE)) {
      return new _Jq_Constant(false);
    } else if (this.lexer.skip(_Ll_Token.NOT)) {
      var _term3 = this.term(ctx);

      return new _Jv_UnaryOp(_LB_UnOpType.Not, "~", _term3);
    } else if (this.lexer.skip(_Ll_Token.PROP)) {
      return new _KB_Propagation();
    } else if (this.lexer.skip(_Ll_Token.DEP)) {
      var term = this.term(ctx);
      return new _K3_Deprecation(term);
    } else if (this.lexer.skip(_Ll_Token.DEREF)) {
      var term = this.term(ctx);
      return new _K6_Dereference(term);
    } else if (this.lexer.skip(_Ll_Token.CLPAREN)) {
      var term = this.term(ctx);
      this.lexer.match(_Ll_Token.CRPAREN);
      return new _K2_ProvisionalConstant(term);
    } else if (this.lexer.skip(_Ll_Token.CHANGE)) {
      var _id3 = this.lexer.token(_Ll_Token.LCID);

      this.lexer.match(_Ll_Token.TO);

      var _term4 = this.term(ctx);

      return new _K7_Change(_id3, _term4);
    } else if (this.lexer.skip(_Ll_Token.SET)) {
      var _id4 = this.lexer.token(_Ll_Token.LCID);

      this.lexer.match(_Ll_Token.TO);

      var _term5 = this.term(ctx);

      return new _K8_Assign(_id4, _term5);
    } else {
      return undefined;
    }
  };

  var _Jh__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _IE_MachineToken = function (machine) {
    _Jh__95classCallCheck(this, _IE_MachineToken);

    this.machine = machine;
    this.reset();
  };

  var _GE_ = _IE_MachineToken.prototype;

  var _J5_ = function () {
    return _Ic_CompData;
  };

  var _J6_ = function () {
    return _Ij_RewriteFlag;
  };

  var _IB_ = function (link) {
    if (this.link != null) {
      //this.link.tokens.splice(this.link.tokens.indexOf(this), 1);
      this.link.clearFocus();
    }

    this.link = link;

    if (this.link != null) {
      //this.link.tokens.push(this);
      if (this.isMain) this.link.focus("red");else this.link.focus("green");
    }
  };

  var _IC_ = function () {
    this.forward = true;
    this.rewrite = false;
    this.transited = false;
    this.link = null;
    this.rewriteFlag = _Ij_RewriteFlag.EMPTY;
    this.dataStack = [_Ic_CompData.PROMPT];
    this.boxStack = [];
  };

  var _ID_ = function () {
    this.setLink(null);
    this.machine.evalTokens.splice(this.machine.evalTokens.indexOf(this), 1);
  };

  var _J8__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _J9_isNumber = function (n) {
    return !isNaN(parseFloat(n)) && isFinite(n);
  };

  var _GY_Link = function (from, to, fromPort, toPort, reverse) {
    _J8__95classCallCheck(this, _GY_Link);

    this.from = from;
    this.to = to;
    this.fromPort = fromPort;
    this.toPort = toPort;
    this.reverse = reverse;
    this.colour = null;
    this.penWidth = null;
    this.addToGraph(_Ib_.graph); // cheating

    this.addToNode(); // cheating
  };

  var _K_ = _GY_Link.prototype;

  var _GO_ = function () {
    var fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.push(this);
    var toNode = this.graph.findNodeByKey(this.to);
    toNode.links.push(this);
  };

  var _GP_ = function (graph) {
    if (graph != null) graph.addLink(this);
    this.graph = graph;
    return this; // to provide chain operation
  };

  var _GQ_ = function (group) {
    group.addLink(this);
    this.group = group;
    return this; // to provide chain operation
  };

  var _GR_ = function (group) {
    this.group.removeLink(this);
    this.addToGroup(group);
    return this;
  };

  var _GS_ = function (key, port) {
    var fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.splice(fromNode.links.indexOf(this), 1);
    this.from = key;
    this.fromPort = port;
    fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.push(this);
  };

  var _GT_ = function (key, port) {
    var toNode = this.graph.findNodeByKey(this.to);
    toNode.links.splice(toNode.links.indexOf(this), 1);
    this.to = key;
    this.toPort = port;
    toNode = this.graph.findNodeByKey(this.to);
    toNode.links.push(this);
  };

  var _GU_ = function (colour) {
    this.colour = colour;
    this.penWidth = "20";
  };

  var _GV_ = function () {
    this.colour = null;
    this.penWidth = null;
  };

  var _GW_ = function () {
    var fromNode = this.graph.findNodeByKey(this.from);
    fromNode.links.splice(fromNode.links.indexOf(this), 1);
    var toNode = this.graph.findNodeByKey(this.to);
    toNode.links.splice(toNode.links.indexOf(this), 1);
    this.group.removeLink(this);
    this.graph.removeLink(this);
  };

  var _GX_ = function () {
    return this.from + "->" + this.to;
  };

  var _Jg__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Kx__95typeof = function (obj) {
    var __captured__scope_5_ = __scope_0_main[4] || __get_scope_binding_0_get_95scope_95binding(4);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_5_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_5_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_5_[1](obj);
  };

  var _JL__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _JM__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_5_ = __scope_0_main[4] || __get_scope_binding_0_get_95scope_95binding(4);

    if (call && (__captured__scope_5_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _LW__95assertThisInitialized(self);
  };

  var _LW__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _JB__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Gm_Node = function (shape, text, colour, name) {
    _JB__95classCallCheck(this, _Gm_Node);

    this.key = null;
    this.shape = shape;
    this.text = text;
    this.colour = colour;
    this.name = name; // identifier name or constant name if any

    this.graph = null;
    this.group = null;
    this.width = null;
    this.height = null;
    this.links = [];
    this.addToGraph(_Ib_.graph); // cheating!
  };

  var _1d_ = _Gm_Node.prototype;

  var _Gc_ = function (graph) {
    if (graph != null) graph.addNode(this);
    this.graph = graph;
    return this; // to provide chain operation
  };

  var _Gd_ = function (group) {
    group.addNode(this);
    this.group = group;
    return this; // to provide chain operation
  };

  var _Ge_ = function (group) {
    this.group.removeNode(this);
    this.addToGroup(group);
    return this;
  };

  var _Gf_ = function () {
    return this.links;
  };

  var _Gg_ = function (toPort) {
    var links = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = this.links[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var link = _step.value;
        if (link.to == this.key && (toPort == null ? true : link.toPort == toPort)) links.push(link);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return links;
  };

  var _Gh_ = function (fromPort) {
    var links = [];
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = this.links[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var link = _step2.value;
        if (link.from == this.key && (fromPort == null ? true : link.fromPort == fromPort)) links.push(link);
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }

    return links;
  };

  var _Gi_ = function (graph) {
    var newNode = new _Gm_Node(this.shape, this.text, this.name).addToGraph(graph);
    newNode.width = this.width;
    newNode.height = this.height;
  };

  var _Gj_ = function () {
    this.group.removeNode(this);
    this.graph.removeNode(this);
  };

  var _Gk_ = function (token, link) {
    return link;
  };

  var _Gl_ = function (token, nextLink) {
    token.rewrite = false;
    return nextLink;
  };

  var _HA_Group = function () {
    var _this;

    _JL__95classCallCheck(this, _HA_Group);

    _this = _JM__95possibleConstructorReturn(this, _JI_(_HA_Group).call(this, null, null, null)); // shape, text, name

    _this.nodes = [];
    _this.links = []; // for copying

    return _this;
  };

  var _HB_ = function (node) {
    this.nodes.push(node);
  };

  var _HC_ = function (node) {
    return this.nodes.splice(this.nodes.indexOf(node), 1);
  };

  var _HD_ = function (link) {
    this.links.push(link);
  };

  var _HE_ = function (link) {
    var i = this.links.indexOf(link);
    if (i != -1) this.links.splice(i, 1);
  };

  var _HF_ = function () {
    var _arr = Array.from(this.nodes);

    for (var _i = 0; _i < _arr.length; _i++) {
      var node = _arr[_i];
      node.delete();
    }

    _JJ_(_JI_(_HA_Group.prototype), "delete", this).call(this);
  };

  var _IA_Graph = function (machine) {
    _Jg__95classCallCheck(this, _IA_Graph);

    this.machine = machine;
    this.clear();
  };

  var _G8_ = _IA_Graph.prototype;

  var _I4_ = function () {
    this.key = 0;
    this.linkKey = 0;
    this.allNodes = new Map(); // for efficiency searching

    this.allLinks = []; // for printing ONLY

    this.child = new _HA_Group();
  };

  var _I5_ = function (node) {
    node.key = 'nd' + this.key;
    this.allNodes.set(node.key, node);
    this.key++;
  };

  var _I6_ = function (node) {
    var _arr = Array.from(node.findLinksConnected());

    for (var _i = 0; _i < _arr.length; _i++) {
      var link = _arr[_i];
      link.delete();
    }

    return this.allNodes.delete(node.key);
  };

  var _I7_ = function (key) {
    return this.allNodes.get(key);
  };

  var _I8_ = function (link) {
    this.allLinks.push(link);
  };

  var _I9_ = function (link) {
    this.allLinks.splice(this.allLinks.indexOf(link), 1);
  };

  var _JT__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KK__95possibleConstructorReturn = function (self, call) {
    if (call && (_La_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mc__95assertThisInitialized(self);
  };

  var _Mc__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _JO__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _JP__95possibleConstructorReturn = function (self, call) {
    if (call && (_Ky_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Kz__95assertThisInitialized(self);
  };

  var _Kz__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _JQ__95get = function (target, property, receiver) {
    var __captured__scope_2_ = __scope_0_main[1] || __get_scope_binding_0_get_95scope_95binding(1);

    if (typeof Reflect !== "undefined" && Reflect.get) {
      __captured__scope_2_[1] = Reflect.get;
    } else {
      __captured__scope_2_[1] = function _get(target, property, receiver) {
        var base = _LY__95superPropBase(target, property);

        if (!base) return;
        var desc = Object.getOwnPropertyDescriptor(base, property);

        if (desc.get) {
          return desc.get.call(receiver);
        }

        return desc.value;
      };
    }

    return __captured__scope_2_[1](target, property, receiver || target);
  };

  var _LY__95superPropBase = function (object, property) {
    while (!Object.prototype.hasOwnProperty.call(object, property)) {
      object = _JI_(object);
      if (object === null) break;
    }

    return object;
  };

  var _Kw__95typeof = function (obj) {
    var __captured__scope_4_ = __scope_0_main[3] || __get_scope_binding_0_get_95scope_95binding(3);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_4_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_4_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_4_[1](obj);
  };

  var _JG__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _JH__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_4_ = __scope_0_main[3] || __get_scope_binding_0_get_95scope_95binding(3);

    if (call && (__captured__scope_4_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _LU__95assertThisInitialized(self);
  };

  var _LU__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _H4_Expo = function (shape, text, name) {
    var _this;

    _JG__95classCallCheck(this, _H4_Expo);

    _this = _JH__95possibleConstructorReturn(this, _JI_(_H4_Expo).call(this, shape, text, "cyan", name));
    _this.width = ".3";
    _this.height = ".3";
    return _this;
  };

  var _H5_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      return nextLink;
    } else if (link.from == this.key) {
      var nextLink = this.findLinksInto(null)[0];
      return nextLink;
    }
  };

  var _H6_ = function () {
    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];

    if (outLink != null && inLink != null) {
      inLink.changeTo(outLink.to, outLink.toPort);
    }

    _JJ_(_JI_(_H4_Expo.prototype), "delete", this).call(this);
  };

  var _H7_ = function () {
    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];

    if (inLink != null && outLink != null) {
      outLink.changeFrom(inLink.from, inLink.fromPort);
    }

    _JJ_(_JI_(_H4_Expo.prototype), "delete", this).call(this);
  };

  var _HK_Pax = function (name) {
    _JO__95classCallCheck(this, _HK_Pax);

    return _JP__95possibleConstructorReturn(this, _JI_(_HK_Pax).call(this, null, "?", name));
  };

  var _HL_ = function () {
    return new _HK_Pax(this.name);
  };

  var _HM_ = function () {
    var __captured__scope_2_ = __scope_0_main[1] || __get_scope_binding_0_get_95scope_95binding(1);

    this.group.auxs.splice(this.group.auxs.indexOf(this), 1);

    __captured__scope_2_[1](_JI_(_HK_Pax.prototype), "delete", this).call(this);
  };

  var _JF__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KH__95possibleConstructorReturn = function (self, call) {
    if (call && (_LT_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _MZ__95assertThisInitialized(self);
  };

  var _MZ__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _H0_Contract = function (name) {
    _JF__95classCallCheck(this, _H0_Contract);

    return _KH__95possibleConstructorReturn(this, _JI_(_H0_Contract).call(this, null, "C", name));
  };

  var _H1_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.boxStack.push(link);
      token.rewriteFlag = _Ij_RewriteFlag.F_C;
      return nextLink;
    } else if (link.from == this.key && token.boxStack.length > 0) {
      var nextLink = token.boxStack.pop();
      return nextLink;
    }
  };

  var _H2_ = function (token, nextLink) {
    if (token.rewriteFlag == _Ij_RewriteFlag.F_C && nextLink.from == this.key) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;

      if (this.findLinksInto(null).length == 1) {
        token.boxStack.pop();
        /*
                    for (let _token of nextLink.tokens)
                    	_token.boxStack.pop();
                    */

        var inLink = this.findLinksInto(null)[0];
        /*
                    for (let _token of inLink.tokens)
                    	_token.setLink(nextLink);
                    */

        nextLink.changeFrom(inLink.from, inLink.fromPort);
        this.delete();
      } else {
        var i = token.boxStack[token.boxStack.length - 1];
        var prev = this.graph.findNodeByKey(i.from);

        if (prev instanceof _H0_Contract) {
          token.boxStack.pop();
          /*
                        for (let _token of Array.from(nextLink.tokens)) {
                        	if (_token.boxStack[token.boxStack.length - 1] == i)
                        		_token.boxStack.pop();
                        }
                        for (let _token of Array.from(i.tokens)) {
                        	_token.setLink(nextLink);
                        	_token.rewriteFlag = RewriteFlag.F_C;
                        }
                        */

          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            for (var _iterator = prev.findLinksInto(null)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var link = _step.value;
              link.changeTo(this.key, "s");
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }

          prev.delete();
          token.rewriteFlag = _Ij_RewriteFlag.F_C;
        }
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _H3_ = function () {
    var con = new _H0_Contract(this.name);
    con.text = this.text;
    return con;
  };

  var _HV_Term = function (prin, auxs) {
    var _this;

    _JT__95classCallCheck(this, _HV_Term);

    _this = _KK__95possibleConstructorReturn(this, _JI_(_HV_Term).call(this));

    _this.set(prin, auxs);

    return _this;
  };

  var _HW_ = function (prin, auxs) {
    this.prin = prin;
    this.auxs = auxs;
    return this;
  };

  var _HX_ = function (auxs) {
    var newPaxs = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = auxs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var pax = _step.value;
        var newPax = new _HK_Pax(pax.name).addToGroup(this);
        if (pax.findLinksOutOf(null).length == 0) new _GY_Link(pax.key, newPax.key, "n", "s").addToGroup(this);else {
          var outLink = pax.findLinksOutOf(null)[0];
          new _GY_Link(newPax.key, outLink.to, "n", outLink.toPort).addToGroup(this.group);
          outLink.changeTo(newPax.key, "s");
          outLink.changeToGroup(this);
        }
        newPaxs.push(newPax);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return newPaxs;
  };

  var _J4_ = function (leftAuxs, rightAuxs, group) {
    var newAuxs = leftAuxs.concat(rightAuxs);
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      outter: for (var _iterator2 = leftAuxs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var leftAux = _step2.value;
        var _iteratorNormalCompletion3 = true;
        var _didIteratorError3 = false;
        var _iteratorError3 = undefined;

        try {
          for (var _iterator3 = rightAuxs[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
            var rightAux = _step3.value;

            if (leftAux.name == rightAux.name) {
              var con = new _H0_Contract(leftAux.name).addToGroup(group);
              var outLink = leftAux.findLinksOutOf(null)[0];

              if (typeof outLink != 'undefined') {
                outLink.changeFrom(con.key, outLink.fromPort);
              }

              new _GY_Link(rightAux.key, con.key, "n", "s").addToGroup(group);
              new _GY_Link(leftAux.key, con.key, "n", "s").addToGroup(group);
              newAuxs.splice(newAuxs.indexOf(leftAux), 1);
              newAuxs.splice(newAuxs.indexOf(rightAux), 1);
              newAuxs.push(con);
              continue outter;
            }
          }
        } catch (err) {
          _didIteratorError3 = true;
          _iteratorError3 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
              _iterator3.return();
            }
          } finally {
            if (_didIteratorError3) {
              throw _iteratorError3;
            }
          }
        }
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }

    return newAuxs;
  };

  var _JR__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _JS__95possibleConstructorReturn = function (self, call) {
    if (call && (_L0_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _LZ__95assertThisInitialized(self);
  };

  var _LZ__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _JK__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KI__95possibleConstructorReturn = function (self, call) {
    if (call && (_LV_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Ma__95assertThisInitialized(self);
  };

  var _Ma__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _H8_Box = function () {
    var _this;

    _JK__95classCallCheck(this, _H8_Box);

    _this = _KI__95possibleConstructorReturn(this, _JI_(_H8_Box).call(this));
    _this.nodes = [];
    _this.links = [];
    return _this;
  };

  var _H9_ = function (graph) {// this shouldnt be call, since every box should be inside a wrapper
  };

  var _JN__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KJ__95possibleConstructorReturn = function (self, call) {
    if (call && (_LX_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mb__95assertThisInitialized(self);
  };

  var _Mb__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _JY__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KP__95possibleConstructorReturn = function (self, call) {
    if (call && (_Lf_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mh__95assertThisInitialized(self);
  };

  var _Mh__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hk_Der = function (name) {
    _JY__95classCallCheck(this, _Hk_Der);

    return _KP__95possibleConstructorReturn(this, _JI_(_Hk_Der).call(this, null, "D", name));
  };

  var _Hl_ = function () {
    var der = new _Hk_Der(this.name);
    return der;
  };

  var _HG_Promo = function () {
    _JN__95classCallCheck(this, _HG_Promo);

    return _KJ__95possibleConstructorReturn(this, _JI_(_HG_Promo).call(this, null, "!"));
  };

  var _HH_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.rewriteFlag = _Ij_RewriteFlag.F_PROMO;
      return nextLink;
    } else if (link.from == this.key) {
      var nextLink = this.findLinksInto(null)[0];
      return nextLink;
    }
  };

  var _HI_ = function (token, nextLink) {
    if (token.rewriteFlag == _Ij_RewriteFlag.F_PROMO) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var prev = this.graph.findNodeByKey(this.findLinksInto(null)[0].from);

      if (prev instanceof _Hk_Der) {
        var oldGroup = this.group;
        oldGroup.moveOut(); // this.group is a box-wrapper

        oldGroup.deleteAndPreserveLink();
        var newNextLink = prev.findLinksInto(null)[0];
        prev.deleteAndPreserveInLink(); // preserve inLink

        token.rewrite = true;
        return newNextLink;
      } else if (prev instanceof _H0_Contract && token.boxStack.length >= 1) {
        if (nextLink.from == this.key) {
          var link = token.boxStack.pop();
          var inLinks = prev.findLinksInto(null);

          if (inLinks.length == 1) {// this will not happen as the C-node should have taken care of it
          } else {
            var newBoxWrapper = this.group.copy().addToGroup(this.group.group);

            _HV_Term.joinAuxs(this.group.auxs, newBoxWrapper.auxs, newBoxWrapper.group);

            var prevLink = prev.findLinksOutOf(null)[0];
            prevLink.changeTo(newBoxWrapper.prin.key, prev.findLinksOutOf(null)[0].toPort);
            link.changeTo(this.key, "s");
          }

          token.rewriteFlag = _Ij_RewriteFlag.F_PROMO;
          token.rewrite = true;
          return nextLink;
        }
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _HJ_ = function () {
    return new _HG_Promo();
  };

  var _HN_BoxWrapper = function (prin, box, auxs) {
    var _this;

    _JR__95classCallCheck(this, _HN_BoxWrapper);

    _this = _JS__95possibleConstructorReturn(this, _JI_(_HN_BoxWrapper).call(this, prin, auxs));
    _this.box = box;
    return _this;
  };

  var _HO_ = function (prin, box, auxs) {
    _JJ_(_JI_(_HN_BoxWrapper.prototype), "set", this).call(this, prin, auxs);

    this.box = box;
  };

  var _HP_ = function (aux) {
    this.auxs.splice(this.auxs.indexOf(aux), 1);
    aux.deleteAndPreserveOutLink();
  };

  var _HQ_ = function () {
    var _arr = Array.from(this.box.links);

    for (var _i = 0; _i < _arr.length; _i++) {
      var link = _arr[_i];
      link.changeToGroup(this.group);
    }

    var _arr2 = Array.from(this.links);

    for (var _i2 = 0; _i2 < _arr2.length; _i2++) {
      var _link = _arr2[_i2];

      _link.changeToGroup(this.group);
    }

    var _arr3 = Array.from(this.box.nodes);

    for (var _i3 = 0; _i3 < _arr3.length; _i3++) {
      var node = _arr3[_i3];
      node.changeToGroup(this.group);
    }

    var _arr4 = Array.from(this.auxs);

    for (var _i4 = 0; _i4 < _arr4.length; _i4++) {
      var aux = _arr4[_i4];
      aux.changeToGroup(this.group);
    }

    this.prin.changeToGroup(this.group);

    var _arr5 = Array.from(this.nodes);

    for (var _i5 = 0; _i5 < _arr5.length; _i5++) {
      var _node = _arr5[_i5];

      _node.changeToGroup(this.group);
    }
  };

  var _HR_ = function (map) {
    var newBoxWrapper = new _HN_BoxWrapper();
    var newPrin = this.prin.copy().addToGroup(newBoxWrapper);
    newBoxWrapper.prin = newPrin;
    map.set(this.prin.key, newPrin.key);
    var newBox = new _H8_Box().addToGroup(newBoxWrapper);
    newBoxWrapper.box = newBox;
    newBoxWrapper.auxs = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = this.box.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var node = _step.value;
        var newNode;

        if (node instanceof _HN_BoxWrapper) {
          newNode = node.copyBox(map).addToGroup(newBox);
        } else {
          var newNode = node.copy().addToGroup(newBox);
          map.set(node.key, newNode.key);
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = this.auxs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var aux = _step2.value;
        var newAux = aux.copy().addToGroup(newBoxWrapper);
        newBoxWrapper.auxs.push(newAux);
        map.set(aux.key, newAux.key);
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }

    var _iteratorNormalCompletion3 = true;
    var _didIteratorError3 = false;
    var _iteratorError3 = undefined;

    try {
      for (var _iterator3 = this.box.links[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
        var link = _step3.value;
        var newLink = new _GY_Link(map.get(link.from), map.get(link.to), link.fromPort, link.toPort).addToGroup(newBox);
        newLink.reverse = link.reverse;
      }
    } catch (err) {
      _didIteratorError3 = true;
      _iteratorError3 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
          _iterator3.return();
        }
      } finally {
        if (_didIteratorError3) {
          throw _iteratorError3;
        }
      }
    }

    var _iteratorNormalCompletion4 = true;
    var _didIteratorError4 = false;
    var _iteratorError4 = undefined;

    try {
      for (var _iterator4 = this.links[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
        var _link2 = _step4.value;
        var newLink = new _GY_Link(map.get(_link2.from), map.get(_link2.to), _link2.fromPort, _link2.toPort).addToGroup(newBoxWrapper);
        newLink.reverse = _link2.reverse;
      }
    } catch (err) {
      _didIteratorError4 = true;
      _iteratorError4 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion4 && _iterator4.return != null) {
          _iterator4.return();
        }
      } finally {
        if (_didIteratorError4) {
          throw _iteratorError4;
        }
      }
    }

    return newBoxWrapper;
  };

  var _HS_ = function () {
    var map = new Map();
    return this.copyBox(map);
  };

  var _HT_ = function () {
    this.box.delete();

    var _arr6 = Array.from(this.auxs);

    for (var _i6 = 0; _i6 < _arr6.length; _i6++) {
      var aux = _arr6[_i6];
      aux.delete();
    }

    this.prin.delete();

    _JJ_(_JI_(_HN_BoxWrapper.prototype), "delete", this).call(this);
  };

  var _HU_ = function () {
    this.box.delete();

    var _arr7 = Array.from(this.auxs);

    for (var _i7 = 0; _i7 < _arr7.length; _i7++) {
      var aux = _arr7[_i7];
      this.removeAux(aux); // preserve outLink
    }

    this.prin.deleteAndPreserveInLink(); //preserve inLink

    _JJ_(_JI_(_HN_BoxWrapper.prototype), "delete", this).call(this);
  };

  var _J3_ = function () {
    var wrapper = new _HN_BoxWrapper();
    var box = new _H8_Box().addToGroup(wrapper);
    var promo = new _HG_Promo().addToGroup(wrapper);
    wrapper.set(promo, box, []);
    return wrapper;
  };

  var _LQ__95typeof = function (obj) {
    var __captured__scope_B_ = __scope_0_main[10] || __get_scope_binding_0_get_95scope_95binding(10);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_B_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_B_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_B_[1](obj);
  };

  var _JC__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KE__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_B_ = __scope_0_main[10] || __get_scope_binding_0_get_95scope_95binding(10);

    if (call && (__captured__scope_B_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _MW__95assertThisInitialized(self);
  };

  var _MW__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Ld__95typeof = function (obj) {
    var __captured__scope_G_ = __scope_0_main[15] || __get_scope_binding_0_get_95scope_95binding(15);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_G_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_G_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_G_[1](obj);
  };

  var _JW__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KN__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_G_ = __scope_0_main[15] || __get_scope_binding_0_get_95scope_95binding(15);

    if (call && (__captured__scope_G_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mf__95assertThisInitialized(self);
  };

  var _Mf__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hf_App = function () {
    _JW__95classCallCheck(this, _Hf_App);

    return _KN__95possibleConstructorReturn(this, _JI_(_Hf_App).call(this, null, "@", "yellow"));
  };

  var _Hg_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_Ic_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "e") {
      var nextLink = this.findLinksOutOf("w")[0];
      token.dataStack.pop();
      token.dataStack.push(_Ic_CompData.R);
      token.forward = true;
      return nextLink;
    }
  };

  var _Hh_ = function () {
    return new _Hf_App();
  };

  var _Gn_Abs = function () {
    _JC__95classCallCheck(this, _Gn_Abs);

    return _KE__95possibleConstructorReturn(this, _JI_(_Gn_Abs).call(this, null, "Î»", "yellow"));
  };

  var _Go_ = function (token, link) {
    if (link.to == this.key && link.toPort == "s") {
      var data = token.dataStack[token.dataStack.length - 1];

      if (data == _Ic_CompData.PROMPT) {
        token.dataStack.pop();
        token.dataStack.push([_Ic_CompData.LAMBDA, _Ic_CompData.EMPTY]);
        token.forward = false;
        return link;
      } else if (data == _Ic_CompData.R) {
        var nextLink = this.findLinksOutOf(null)[0];
        token.dataStack.pop();
        token.rewriteFlag = _Ij_RewriteFlag.F_LAMBDA;
        return nextLink;
      }
    }
  };

  var _Gp_ = function (token, nextLink) {
    if (token.rewriteFlag == _Ij_RewriteFlag.F_LAMBDA && nextLink.from == this.key) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var prev = this.graph.findNodeByKey(this.findLinksInto("s")[0].from);

      if (prev instanceof _Hf_App) {
        // M rule
        var appLink = prev.findLinksInto(null)[0];
        var appOtherLink = prev.findLinksOutOf("e")[0];
        var otherNextLink = this.findLinksInto("w")[0];
        nextLink.changeFrom(appLink.from, appLink.fromPort);
        nextLink.changeToGroup(appLink.group);
        otherNextLink.changeTo(appOtherLink.to, appOtherLink.toPort);
        otherNextLink.reverse = false;
        var otherNode = this.graph.findNodeByKey(otherNextLink.from);
        if (otherNode instanceof _H4_Expo) otherNextLink.fromPort = "n";
        otherNextLink.changeToGroup(appOtherLink.group);
        this.delete();
        prev.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Gq_ = function () {
    return new _Gn_Abs();
  };

  var _LS__95typeof = function (obj) {
    var __captured__scope_D_ = __scope_0_main[12] || __get_scope_binding_0_get_95scope_95binding(12);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_D_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_D_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_D_[1](obj);
  };

  var _JE__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KG__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_D_ = __scope_0_main[12] || __get_scope_binding_0_get_95scope_95binding(12);

    if (call && (__captured__scope_D_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _MY__95assertThisInitialized(self);
  };

  var _MY__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Lb__95typeof = function (obj) {
    var __captured__scope_E_ = __scope_0_main[13] || __get_scope_binding_0_get_95scope_95binding(13);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_E_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_E_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_E_[1](obj);
  };

  var _JU__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KL__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_E_ = __scope_0_main[13] || __get_scope_binding_0_get_95scope_95binding(13);

    if (call && (__captured__scope_E_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Md__95assertThisInitialized(self);
  };

  var _Md__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _HY_Const = function (name) {
    _JU__95classCallCheck(this, _HY_Const);

    return _KL__95possibleConstructorReturn(this, _JI_(_HY_Const).call(this, null, name, "mediumpurple1", name));
  };

  var _HZ_ = function (token, link) {
    if (token.dataStack[token.dataStack.length - 1] == _Ic_CompData.PROMPT) {
      token.dataStack.pop();
      token.dataStack.push([this.name, _Ic_CompData.EMPTY]);
      token.forward = false;
      return link;
    }
  };

  var _Ha_ = function () {
    return new _HY_Const(this.name);
  };

  var _Gv_BinOp = function (text) {
    var _this;

    _JE__95classCallCheck(this, _Gv_BinOp);

    _this = _KG__95possibleConstructorReturn(this, _JI_(_Gv_BinOp).call(this, null, text, "mediumpurple1"));
    _this.subType = null;
    return _this;
  };

  var _Gw_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_Ic_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "e") {
      var nextLink = this.findLinksOutOf("w")[0];
      token.dataStack.push(_Ic_CompData.PROMPT);
      token.forward = true;
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "w") {
      if (token.dataStack[token.dataStack.length - 3] == _Ic_CompData.PROMPT) {
        var l = token.dataStack.pop();
        var r = token.dataStack.pop();
        token.dataStack.pop();
        var result = this.binOpApply(this.subType, l[0], r[0]);
        token.dataStack.push([result, _Ic_CompData.EMPTY]);
        token.rewriteFlag = _Ij_RewriteFlag.F_OP;
        return this.findLinksInto(null)[0];
        ;
      }
    }
  };

  var _Gx_ = function (token, nextLink) {
    if (token.rewriteFlag == _Ij_RewriteFlag.F_OP && nextLink.to == this.key) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var left = this.graph.findNodeByKey(this.findLinksOutOf("w")[0].to);
      var right = this.graph.findNodeByKey(this.findLinksOutOf("e")[0].to);

      if (left instanceof _HG_Promo && right instanceof _HG_Promo) {
        var wrapper = _HN_BoxWrapper.create().addToGroup(this.group);

        var newConst = new _HY_Const(token.dataStack[token.dataStack.length - 1][0]).addToGroup(wrapper.box);
        new _GY_Link(wrapper.prin.key, newConst.key, "n", "s").addToGroup(wrapper);
        nextLink.changeTo(wrapper.prin.key, "s");
        left.group.delete();
        right.group.delete();
        this.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Gy_ = function (type, v1, v2) {
    switch (type) {
      case _Iw_BinOpType.And:
        return v1 && v2;

      case _Iw_BinOpType.Or:
        return v1 || v2;

      case _Iw_BinOpType.Plus:
        return parseFloat(v1) + parseFloat(v2);

      case _Iw_BinOpType.Sub:
        return parseFloat(v1) - parseFloat(v2);

      case _Iw_BinOpType.Mult:
        return parseFloat(v1) * parseFloat(v2);

      case _Iw_BinOpType.Div:
        return parseFloat(v1) / parseFloat(v2);

      case _Iw_BinOpType.Lte:
        return parseFloat(v1) <= parseFloat(v2);
    }
  };

  var _Gz_ = function () {
    var newNode = new _Gv_BinOp(this.text);
    newNode.subType = this.subType;
    return newNode;
  };

  var _Iu_ = function () {
    var node = new _Gv_BinOp("+");
    node.subType = _Iw_BinOpType.Plus;
    return node;
  };

  var _Iv_ = function () {
    var node = new _Gv_BinOp("*");
    node.subType = _Iw_BinOpType.Mult;
    return node;
  };

  var _Jc__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KT__95possibleConstructorReturn = function (self, call) {
    if (call && (_Lj_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Ml__95assertThisInitialized(self);
  };

  var _Ml__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hx_Var = function (name) {
    var _this;

    _Jc__95classCallCheck(this, _Hx_Var);

    _this = _KT__95possibleConstructorReturn(this, _JI_(_Hx_Var).call(this, name));
    _this.text = "V";
    return _this;
  };

  var _Hy_ = function () {
    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];
    var inNode = this.graph.findNodeByKey(inLink.from);

    if (inLink != null && outLink != null) {
      if (this.graph.findNodeByKey(outLink.to) instanceof _Gn_Abs && inNode instanceof _H4_Expo) outLink.changeFrom(inLink.from, "nw");else outLink.changeFrom(inLink.from, inLink.fromPort);
    }

    this.delete();
  };

  var _LR__95typeof = function (obj) {
    var __captured__scope_C_ = __scope_0_main[11] || __get_scope_binding_0_get_95scope_95binding(11);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_C_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_C_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_C_[1](obj);
  };

  var _JD__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KF__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_C_ = __scope_0_main[11] || __get_scope_binding_0_get_95scope_95binding(11);

    if (call && (__captured__scope_C_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _MX__95assertThisInitialized(self);
  };

  var _MX__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _JX__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KO__95possibleConstructorReturn = function (self, call) {
    if (call && (_Le_(call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mg__95assertThisInitialized(self);
  };

  var _Mg__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hi_Weak = function () {
    _JX__95classCallCheck(this, _Hi_Weak);

    return _KO__95possibleConstructorReturn(this, _JI_(_Hi_Weak).call(this, null, 'C0'));
  };

  var _Hj_ = function () {
    return new _Hi_Weak();
  };

  var _Gr_If = function () {
    _JD__95classCallCheck(this, _Gr_If);

    return _KF__95possibleConstructorReturn(this, _JI_(_Gr_If).call(this, null, "if", "mediumpurple1"));
  };

  var _Gs_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("w")[0];
      token.dataStack.push(_Ic_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key && link.fromPort == "w") {
      var left = this.graph.findNodeByKey(this.findLinksOutOf("w")[0].to);

      if (left instanceof _HG_Promo) {
        if (token.dataStack[token.dataStack.length - 1][0] == true) {
          var nextLink = this.findLinksOutOf("n")[0];
          token.dataStack.pop();
          token.rewriteFlag = _Ij_RewriteFlag.F_IF;
          token.forward = true;
          return nextLink;
        } else if (token.dataStack[token.dataStack.length - 1][0] == false) {
          var nextLink = this.findLinksOutOf("e")[0];
          token.dataStack.pop();
          token.rewriteFlag = _Ij_RewriteFlag.F_IF;
          token.forward = true;
          return nextLink;
        }
      } else {
        var nextLink = this.findLinksOutOf("n")[0];
        var data = token.dataStack.pop();
        token.dataStack.push(data[0]);
        token.dataStack.push(_Ic_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      }
    } else if (link.from == this.key) {
      if (link.fromPort == "n") {
        var nextLink = this.findLinksOutOf("e")[0];
        token.dataStack.push(_Ic_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      } else if (link.fromPort == "e") {
        var nextLink = this.findLinksInto("s")[0];
        var y = token.dataStack.pop();
        var x = token.dataStack.pop();
        var cond = token.dataStack.pop();
        var result;
        if (cond) result = x;else result = y;
        token.dataStack.pop();
        token.dataStack.push(result);
        token.forward = false;
        return nextLink;
      }
    }
  };

  var _Gt_ = function (token, nextLink) {
    if (token.rewriteFlag == _Ij_RewriteFlag.F_IF && nextLink.from == this.key) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var left = this.graph.findNodeByKey(this.findLinksOutOf("w")[0].to);

      if (left instanceof _HG_Promo) {
        var downLink = this.findLinksInto(null)[0];
        var otherLink = this.findLinksOutOf(nextLink.fromPort == "n" ? "e" : "n")[0];
        nextLink.changeFrom(downLink.from, downLink.fromPort);
        var weak = new _Hi_Weak(this.graph.findNodeByKey(otherLink.to).name).addToGroup(this.group);
        otherLink.changeFrom(weak.key, "n");
        this.delete();
        left.group.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Gu_ = function () {
    return new _Gr_If();
  };

  var _Mr__95typeof = function (obj) {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_7_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_7_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_7_[1](obj);
  };

  var _LG__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _MP__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    if (call && (__captured__scope_7_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Ms__95assertThisInitialized(self);
  };

  var _Ms__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _MQ__95getPrototypeOf = function (o) {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    __captured__scope_7_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_7_[3](o);
  };

  var _K0_Recur = function () {
    var __captured__scope_7_ = __scope_0_main[6] || __get_scope_binding_0_get_95scope_95binding(6);

    _LG__95classCallCheck(this, _K0_Recur);

    return _MP__95possibleConstructorReturn(this, __captured__scope_7_[3](_K0_Recur).call(this, null, "Î¼", "mediumpurple1"));
  };

  var _Kn_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.rewriteFlag = _Ij_RewriteFlag.F_RECUR;
      return nextLink;
    }
  };

  var _Ko_ = function (token, nextLink) {
    if (token.rewriteFlag == _Ij_RewriteFlag.F_RECUR && nextLink.from == this.key) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var wrapper = this.group.copy().addToGroup(this.group);

      _HV_Term.joinAuxs(this.group.auxs, wrapper.auxs, wrapper.group);

      var oldGroup = this.group;
      var oldBox = this.group.box;
      this.group.moveOut();
      var leftLink = this.findLinksInto("w")[0];
      leftLink.changeTo(wrapper.prin.key, "s");
      leftLink.fromPort = "n";
      leftLink.reverse = false;
      var inLink = this.findLinksInto("s")[0];
      var outLink = this.findLinksOutOf("e")[0];
      outLink.changeFrom(inLink.from, inLink.fromPort);
      oldGroup.deleteAndPreserveLink();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Kp_ = function () {
    return new _K0_Recur();
  };

  var _LP__95typeof = function (obj) {
    var __captured__scope_A_ = __scope_0_main[9] || __get_scope_binding_0_get_95scope_95binding(9);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_A_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_A_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_A_[1](obj);
  };

  var _JA__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KD__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_A_ = __scope_0_main[9] || __get_scope_binding_0_get_95scope_95binding(9);

    if (call && (__captured__scope_A_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _MV__95assertThisInitialized(self);
  };

  var _MV__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _GZ_Start = function () {
    _JA__95classCallCheck(this, _GZ_Start);

    return _KD__95possibleConstructorReturn(this, _JI_(_GZ_Start).call(this, "point", "", "black"));
  };

  var _Ga_ = function (token) {
    if (token.link == null && token.dataStack[token.dataStack.length - 1] == _Ic_CompData.PROMPT) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.forward = true;
      return nextLink;
    } else return null;
  };

  var _Gb_ = function () {
    return new _GZ_Start();
  };

  var _Mp__95typeof = function (obj) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_6_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_6_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_6_[1](obj);
  };

  var _LD__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _MN__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    if (call && (__captured__scope_6_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mq__95assertThisInitialized(self);
  };

  var _Mq__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _MO__95getPrototypeOf = function (o) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    __captured__scope_6_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_6_[3](o);
  };

  var _Jw_UnOp = function (text) {
    var __captured__scope_6_ = __scope_0_main[5] || __get_scope_binding_0_get_95scope_95binding(5);

    var _this;

    _LD__95classCallCheck(this, _Jw_UnOp);

    _this = _MN__95possibleConstructorReturn(this, __captured__scope_6_[3](_Jw_UnOp).call(this, null, text, "mediumpurple1"));
    _this.subType = null;
    return _this;
  };

  var _Kj_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.dataStack.push(_Ic_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (token.dataStack[token.dataStack.length - 2] == _Ic_CompData.PROMPT) {
        var v1 = token.dataStack.pop();
        token.dataStack.pop();
        token.dataStack.push([this.unOpApply(this.subType, v1[0]), _Ic_CompData.EMPTY]);
        token.rewriteFlag = _Ij_RewriteFlag.F_OP;
        return this.findLinksInto(null)[0];
      }
    }
  };

  var _Kk_ = function (token, nextLink) {
    if (token.rewriteFlag == _Ij_RewriteFlag.F_OP && nextLink.to == this.key) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var prev = this.graph.findNodeByKey(this.findLinksOutOf(null)[0].to);

      if (prev instanceof _HG_Promo) {
        var wrapper = _HN_BoxWrapper.create().addToGroup(this.group);

        var newConst = new _HY_Const(token.dataStack[token.dataStack.length - 1][0]).addToGroup(wrapper.box);
        new _GY_Link(wrapper.prin.key, newConst.key, "n", "s").addToGroup(wrapper);
        nextLink.changeTo(wrapper.prin.key, "s");
        prev.group.delete();
        this.delete();
      }

      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Kl_ = function (type, v1) {
    switch (type) {
      case _LB_UnOpType.Not:
        return !v1;
    }
  };

  var _Km_ = function () {
    var newNode = new _Jw_UnOp(this.text);
    newNode.subType = this.subType;
    return newNode;
  };

  var _Lh__95typeof = function (obj) {
    var __captured__scope_I_ = __scope_0_main[17] || __get_scope_binding_0_get_95scope_95binding(17);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_I_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_I_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_I_[1](obj);
  };

  var _Ja__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KR__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_I_ = __scope_0_main[17] || __get_scope_binding_0_get_95scope_95binding(17);

    if (call && (__captured__scope_I_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mj__95assertThisInitialized(self);
  };

  var _Mj__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hq_Delta = function () {
    _Ja__95classCallCheck(this, _Hq_Delta);

    return _KR__95possibleConstructorReturn(this, _JI_(_Hq_Delta).call(this, null, "Î", "indianred1"));
  };

  var _Hr_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_Ic_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (link.fromPort == "e") {
        var nextLink = this.findLinksOutOf("w")[0];
        token.dataStack.pop();
        token.dataStack.push(_Ic_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      } else if (link.fromPort == "w") {
        if (token.dataStack[token.dataStack.length - 2] == _Ic_CompData.PROMPT) {
          var data = token.dataStack.pop();
          token.dataStack.pop();
          token.dataStack.push([_Ic_CompData.UNIT, _Ic_CompData.EMPTY]);
          token.rewriteFlag = _Ij_RewriteFlag.F_DELTA + data[1];
          return this.findLinksInto(null)[0];
        }
      }
    }
  };

  var _Hs_ = function (token, nextLink) {
    if (token.rewriteFlag.substring(0, 3) == _Ij_RewriteFlag.F_DELTA && nextLink.to == this.key) {
      var key = token.rewriteFlag.substring(3, token.rewriteFlag.length);
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var data = token.dataStack[token.dataStack.length - 1];
      var weak1 = new _Hi_Weak().addToGroup(this.group);
      this.findLinksOutOf("w")[0].changeFrom(weak1.key, "n");
      var mod = this.graph.findNodeByKey(key);
      var weak2 = new _Hi_Weak().addToGroup(this.group);
      mod.findLinksOutOf('e')[0].changeFrom(weak2.key, 'n');
      this.findLinksOutOf("e")[0].changeFrom(mod.key, "e");

      var wrapper = _HN_BoxWrapper.create().addToGroup(this.group);

      var con = new _HY_Const(data[0]).addToGroup(wrapper.box);
      new _GY_Link(wrapper.prin.key, con.key, "n", "s").addToGroup(wrapper);
      this.findLinksInto(null)[0].changeTo(wrapper.prin.key, "s");
      this.delete();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Ht_ = function () {
    return new _Hq_Delta();
  };

  var _Mv__95typeof = function (obj) {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_9_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_9_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_9_[1](obj);
  };

  var _LN__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _MT__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    if (call && (__captured__scope_9_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mw__95assertThisInitialized(self);
  };

  var _Mw__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _MU__95getPrototypeOf = function (o) {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    __captured__scope_9_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_9_[3](o);
  };

  var _K9_Set = function () {
    var __captured__scope_9_ = __scope_0_main[8] || __get_scope_binding_0_get_95scope_95binding(8);

    _LN__95classCallCheck(this, _K9_Set);

    return _MT__95possibleConstructorReturn(this, __captured__scope_9_[3](_K9_Set).call(this, null, "<<~", "indianred1"));
  };

  var _Kt_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf("e")[0];
      token.dataStack.push(_Ic_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (link.fromPort == "e") {
        var nextLink = this.findLinksOutOf("w")[0]; //token.dataStack.pop();

        token.dataStack.push(_Ic_CompData.PROMPT);
        token.forward = true;
        return nextLink;
      } else if (link.fromPort == "w") {
        if (token.dataStack[token.dataStack.length - 3] == _Ic_CompData.PROMPT) {
          var data = token.dataStack.pop();
          var new_v = token.dataStack.pop();
          token.dataStack.pop();
          token.dataStack.push([_Ic_CompData.UNIT, _Ic_CompData.EMPTY]);
          token.rewriteFlag = _Ij_RewriteFlag.F_DELTA + data[1] + ';' + new_v[0];
          return this.findLinksInto(null)[0];
        }
      }
    }
  };

  var _Ku_ = function (token, nextLink) {
    if (token.rewriteFlag.substring(0, 3) == _Ij_RewriteFlag.F_DELTA && nextLink.to == this.key) {
      var string = token.rewriteFlag.substring(3, token.rewriteFlag.length);
      var s = string.split(";");
      var key = s[0];
      var data = s[1];
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var data = token.dataStack[token.dataStack.length - 1];
      var weak1 = new _Hi_Weak().addToGroup(this.group);
      this.findLinksOutOf("w")[0].changeFrom(weak1.key, "n");
      var mod = this.graph.findNodeByKey(key);
      var weak2 = new _Hi_Weak().addToGroup(this.group);
      mod.findLinksOutOf('e')[0].changeFrom(weak2.key, 'n');
      this.findLinksOutOf("e")[0].changeFrom(mod.key, "e");
      this.graph.findNodeByKey(mod.findLinksOutOf('e')[0].to).name = s[1];

      var wrapper = _HN_BoxWrapper.create().addToGroup(this.group);

      var con = new _HY_Const(data[0]).addToGroup(wrapper.box);
      new _GY_Link(wrapper.prin.key, con.key, "n", "s").addToGroup(wrapper);
      this.findLinksInto(null)[0].changeTo(wrapper.prin.key, "s");
      this.delete();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Kv_ = function () {
    return new _K9_Set();
  };

  var _Mt__95typeof = function (obj) {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_8_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_8_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_8_[1](obj);
  };

  var _LJ__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _MR__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    if (call && (__captured__scope_8_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mu__95assertThisInitialized(self);
  };

  var _Mu__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _MS__95getPrototypeOf = function (o) {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    __captured__scope_8_[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return __captured__scope_8_[3](o);
  };

  var _K4_Dep = function () {
    var __captured__scope_8_ = __scope_0_main[7] || __get_scope_binding_0_get_95scope_95binding(7);

    _LJ__95classCallCheck(this, _K4_Dep);

    return _MR__95possibleConstructorReturn(this, __captured__scope_8_[3](_K4_Dep).call(this, null, 'p', "mediumpurple1"));
  };

  var _Kq_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.dataStack.push(_Ic_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      if (token.dataStack[token.dataStack.length - 2] == _Ic_CompData.PROMPT) {
        var data = token.dataStack.pop();
        token.dataStack.pop();
        token.dataStack.push([data[0], _Ic_CompData.EMPTY]);
        token.rewriteFlag = _Ij_RewriteFlag.F_DEP;
        return this.findLinksInto(null)[0];
      }
    }
  };

  var _Kr_ = function (token, nextLink) {
    if (nextLink.to == this.key && token.rewriteFlag == _Ij_RewriteFlag.F_DEP) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var data = token.dataStack[token.dataStack.length - 1];

      if (_Ib_.isNumber(data[0]) || typeof data[0] === "boolean") {
        var outLink = this.findLinksOutOf(null)[0];
        var weak = new _Hi_Weak(outLink.text).addToGroup(this.group);
        outLink.changeFrom(weak.key, "n");

        var wrapper = _HN_BoxWrapper.create().addToGroup(this.group);

        var newConst = new _HY_Const(data[0]).addToGroup(wrapper.box);
        new _GY_Link(wrapper.prin.key, newConst.key, "n", "s").addToGroup(wrapper);
        nextLink.changeTo(wrapper.prin.key, "s");
        this.delete();
        token.rewrite = true;
      }

      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Ks_ = function () {
    return new _K4_Dep();
  };

  var _Li__95typeof = function (obj) {
    var __captured__scope_J_ = __scope_0_main[18] || __get_scope_binding_0_get_95scope_95binding(18);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_J_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_J_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_J_[1](obj);
  };

  var _Jb__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KS__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_J_ = __scope_0_main[18] || __get_scope_binding_0_get_95scope_95binding(18);

    if (call && (__captured__scope_J_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mk__95assertThisInitialized(self);
  };

  var _Mk__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hu_Deref = function () {
    _Jb__95classCallCheck(this, _Hu_Deref);

    return _KS__95possibleConstructorReturn(this, _JI_(_Hu_Deref).call(this, null, "d", "mediumpurple1"));
  };

  var _Hv_ = function (token, link) {
    if (link.to == this.key) return this.findLinksOutOf(null)[0];else if (link.from == this.key) return this.findLinksInto(null)[0];
  };

  var _Hw_ = function () {
    return new _Hu_Deref();
  };

  var _Lc__95typeof = function (obj) {
    var __captured__scope_F_ = __scope_0_main[14] || __get_scope_binding_0_get_95scope_95binding(14);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_F_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_F_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_F_[1](obj);
  };

  var _JV__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KM__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_F_ = __scope_0_main[14] || __get_scope_binding_0_get_95scope_95binding(14);

    if (call && (__captured__scope_F_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Me__95assertThisInitialized(self);
  };

  var _Me__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hb_Mod = function () {
    var _this;

    _JV__95classCallCheck(this, _Hb_Mod);

    _this = _KM__95possibleConstructorReturn(this, _JI_(_Hb_Mod).call(this, null, "M", "indianred1"));

    _this.graph.machine.cells.push(_this.key);

    return _this;
  };

  var _Hc_ = function (token, link) {
    if (link.to == this.key) {
      return this.findLinksOutOf("w")[0];
    } else if (link.from == this.key && link.fromPort == "w") {
      var data = token.dataStack.pop();
      token.dataStack.push([data[0], this.key]);
      return this.findLinksInto(null)[0];
    } else if (link.from == this.key && link.fromPort == "e") {
      token.machine.newValues.set(this.key, token.dataStack[token.dataStack.length - 1][0]);
      token.delete();
      return null;
    }
  };

  var _Hd_ = function (data) {
    var leftLink = this.findLinksOutOf("w")[0];

    if (_Ib_.isNumber(data) || typeof data === "boolean") {
      var value = this.graph.findNodeByKey(leftLink.to);
      var oldData = value.name;
      value.text = data;
      value.name = data;
      return oldData;
    }
  };

  var _He_ = function () {
    var mod = new _Hb_Mod();
    return mod;
  };

  var _Lg__95typeof = function (obj) {
    var __captured__scope_H_ = __scope_0_main[16] || __get_scope_binding_0_get_95scope_95binding(16);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_H_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_H_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_H_[1](obj);
  };

  var _JZ__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _KQ__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_H_ = __scope_0_main[16] || __get_scope_binding_0_get_95scope_95binding(16);

    if (call && (__captured__scope_H_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _Mi__95assertThisInitialized(self);
  };

  var _Mi__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Hm_Prop = function () {
    _JZ__95classCallCheck(this, _Hm_Prop);

    return _KQ__95possibleConstructorReturn(this, _JI_(_Hm_Prop).call(this, null, "s", "indianred1"));
  };

  var _Hn_ = function (token, link) {
    if (link.to == this.key) {
      if (token.dataStack[token.dataStack.length - 1] == _Ic_CompData.PROMPT) {
        token.dataStack.pop();
        token.dataStack.push(false);
        token.rewriteFlag = _Ij_RewriteFlag.F_PROP;
        token.forward = false;
        token.machine.startPropagation();
        return link;
      }
    }
  };

  var _Ho_ = function (token, nextLink) {
    if (token.rewriteFlag == _Ij_RewriteFlag.F_PROP && nextLink.to == this.key) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var data = token.machine.hasUpdate;
      token.dataStack.pop();
      token.dataStack.push([data, _Ic_CompData.EMPTY]);

      var wrapper = _HN_BoxWrapper.create().addToGroup(this.group);

      var con = new _HY_Const(data).addToGroup(wrapper.box);
      new _GY_Link(wrapper.prin.key, con.key, "n", "s").addToGroup(wrapper);
      nextLink.changeTo(wrapper.prin.key, "s");
      this.delete();
      token.rewrite = true;
      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _Hp_ = function () {
    return new _Hm_Prop();
  };

  var _L1__95typeof = function (obj) {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      __captured__scope_3_[1] = function _typeof(obj) {
        return typeof obj;
      };
    } else {
      __captured__scope_3_[1] = function _typeof(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return __captured__scope_3_[1](obj);
  };

  var _Jd__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _Je__95possibleConstructorReturn = function (self, call) {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    if (call && (__captured__scope_3_[1](call) === "object" || typeof call === "function")) {
      return call;
    }

    return _L2__95assertThisInitialized(self);
  };

  var _L2__95assertThisInitialized = function (self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  };

  var _Jf__95get = function (target, property, receiver) {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    if (typeof Reflect !== "undefined" && Reflect.get) {
      __captured__scope_3_[3] = Reflect.get;
    } else {
      __captured__scope_3_[3] = function _get(target, property, receiver) {
        var base = _Lk__95superPropBase(target, property);

        if (!base) return;
        var desc = Object.getOwnPropertyDescriptor(base, property);

        if (desc.get) {
          return desc.get.call(receiver);
        }

        return desc.value;
      };
    }

    return __captured__scope_3_[3](target, property, receiver || target);
  };

  var _Lk__95superPropBase = function (object, property) {
    while (!Object.prototype.hasOwnProperty.call(object, property)) {
      object = _JI_(object);
      if (object === null) break;
    }

    return object;
  };

  var _Hz_Prov = function () {
    var _this;

    _Jd__95classCallCheck(this, _Hz_Prov);

    _this = _Je__95possibleConstructorReturn(this, _JI_(_Hz_Prov).call(this, 'diamond', '', "indianred1"));
    _this.width = ".3";
    _this.height = ".3";
    return _this;
  };

  var _I0_ = function (token, link) {
    if (link.to == this.key) {
      var nextLink = this.findLinksOutOf(null)[0];
      token.dataStack.push(_Ic_CompData.PROMPT);
      return nextLink;
    } else if (link.from == this.key) {
      var data = token.dataStack.pop();
      token.dataStack.pop();
      token.dataStack.push(data);
      token.rewriteFlag = _Ij_RewriteFlag.F_MOD;
      return this.findLinksInto(null)[0];
    }
  };

  var _I1_ = function (token, nextLink) {
    if (nextLink.to == this.key && token.rewriteFlag == _Ij_RewriteFlag.F_MOD) {
      token.rewriteFlag = _Ij_RewriteFlag.EMPTY;
      var data = token.dataStack.pop();

      if (_Ib_.isNumber(data[0]) || typeof data[0] === "boolean") {
        var mod = new _Hb_Mod().addToGroup(this.group);
        var con = new _HY_Const(data[0]).addToGroup(this.group);
        new _GY_Link(mod.key, con.key, "w", "s").addToGroup(this.group);
        var outLink = this.findLinksOutOf(null)[0];
        outLink.changeFrom(mod.key, "e");
        var inLink = this.findLinksInto(null)[0];
        inLink.changeTo(mod.key, "s");
        this.delete();
        token.rewrite = true;
        token.dataStack.push([data[0], mod.key]);
      }

      return nextLink;
    } else if (token.rewriteFlag == _Ij_RewriteFlag.EMPTY) {
      token.rewrite = false;
      return nextLink;
    }
  };

  var _I2_ = function () {
    var __captured__scope_3_ = __scope_0_main[2] || __get_scope_binding_0_get_95scope_95binding(2);

    var inLink = this.findLinksInto(null)[0];
    var outLink = this.findLinksOutOf(null)[0];

    if (outLink != null && inLink != null) {
      inLink.changeTo(outLink.to, outLink.toPort);
    }

    __captured__scope_3_[3](_JI_(_Hz_Prov.prototype), "delete", this).call(this);
  };

  var _I3_ = function () {
    return new _Hz_Prov();
  };

  var _Ji__95classCallCheck = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  var _II_GC = function (graph) {
    _Ji__95classCallCheck(this, _II_GC);

    this.graph = graph;
    this.noMore = false;
  };

  var _GG_ = _II_GC.prototype;

  var _IF_ = function () {
    /*
            do {
            	this.noMore = true;
            	this.collectInGroup(this.graph.child);
            } while (!this.noMore)
            */
  };

  var _IG_ = function (group) {
    var _arr = Array.from(group.nodes);

    for (var _i = 0; _i < _arr.length; _i++) {
      var node = _arr[_i];

      if (node instanceof _Hi_Weak || node instanceof _H0_Contract && node.findLinksInto(null).length == 0) {
        var link = node.findLinksOutOf(null)[0];
        var nextNode = this.graph.findNodeByKey(link.to);

        if (!(nextNode instanceof _Gn_Abs && link.toPort == "w")) {
          this.noMore = false;
          this.collectFromBottom(node);
        }
      } else if (node instanceof _HA_Group) {
        this.collectInGroup(node);
      }
    }
  };

  var _IH_ = function (node) {
    if (node instanceof _H0_Contract && node.findLinksInto(null).length != 0) {} else if (node instanceof _HG_Promo || node instanceof _K0_Recur) {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = node.group.auxs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var aux = _step.value;
          this.collectFromBottom(aux);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      node.group.delete();
    } else {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = node.findLinksOutOf(null)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var link = _step2.value;
          this.collectFromBottom(this.graph.findNodeByKey(link.to));
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      node.delete();
    }
  };

  var _IY_GoIMachine = function () {
    _KC__95classCallCheck(this, _IY_GoIMachine);

    this.graph = new _IA_Graph(this);
    _Ib_.graph = this.graph; // cheating!

    this.token = new _IE_MachineToken(this);
    this.gc = new _II_GC(this.graph);
    this.count = 0;
    this.token.isMain = true;
    this.evalTokens = [];
    this.cells = [];
    this.evaluating = false;
    this.newValues = new Map();
    this.hasUpdate = false;
    this.play = false;
    this.playing = false;
    this.finished = false;
  };

  var _GM_ = _IY_GoIMachine.prototype;

  var _IJ_ = function () {
    return this.playing;
  };

  var _IK_ = function (playValue) {
    this.play = playValue;
  };

  var _IL_ = function () {
    return this.playing;
  };

  var _IM_ = function (playingValue) {
    this.playing = playingValue;
  };

  var _IN_ = function () {
    return this.finished;
  };

  var _IO_ = function (finishedValue) {
    this.finished = finishedValue;
  };

  var _IP_ = function (source) {
    var lexer = new _Jj_Lexer(source + '\0');
    var parser = new _Jl_Parser(lexer);
    var ast = parser.parse(); // init

    this.graph.clear();
    this.token.reset();
    this.count = 0;
    this.evalTokens = [];
    this.cells = [];
    this.readyEvalTokens = 0;
    this.evaluating = false;
    this.newValues.clear();
    this.hasUpdate = false; // create graph

    var start = new _GZ_Start().addToGroup(this.graph.child);
    var term = this.toGraph(ast, this.graph.child);
    new _GY_Link(start.key, term.prin.key, "n", "s").addToGroup(this.graph.child);
    this.deleteVarNode(this.graph.child);
  };

  var _IQ_ = function (ast, group) {
    var graph = this.graph;

    if (ast instanceof _Jn_Identifier) {
      var v = new _Hx_Var(ast.name).addToGroup(group);
      return new _HV_Term(v, [v]);
    } else if (ast instanceof _Jo_Abstraction) {
      var param = ast.param;

      var wrapper = _HN_BoxWrapper.create().addToGroup(group);

      var abs = new _Gn_Abs().addToGroup(wrapper.box);
      var term = this.toGraph(ast.body, wrapper.box);
      new _GY_Link(wrapper.prin.key, abs.key, "n", "s").addToGroup(wrapper);
      new _GY_Link(abs.key, term.prin.key, "e", "s").addToGroup(abs.group);
      var auxs = Array.from(term.auxs);
      var paramUsed = false;
      var auxNode;
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = term.auxs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _aux = _step.value;

          if (_aux.name == param) {
            paramUsed = true;
            auxNode = _aux;
            break;
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      if (paramUsed) {
        auxs.splice(auxs.indexOf(auxNode), 1);
      } else {
        auxNode = new _Hi_Weak(param).addToGroup(abs.group);
      }

      new _GY_Link(auxNode.key, abs.key, "nw", "w", true).addToGroup(abs.group);
      wrapper.auxs = wrapper.createPaxsOnTopOf(auxs);
      return new _HV_Term(wrapper.prin, wrapper.auxs);
    } else if (ast instanceof _Jp_Application) {
      var app = new _Hf_App().addToGroup(group); //lhs

      var left = this.toGraph(ast.lhs, group);
      var der = new _Hk_Der(left.prin.name).addToGroup(group);
      new _GY_Link(der.key, left.prin.key, "n", "s").addToGroup(group); // rhs

      var right = this.toGraph(ast.rhs, group);
      new _GY_Link(app.key, der.key, "w", "s").addToGroup(group);
      new _GY_Link(app.key, right.prin.key, "e", "s").addToGroup(group);
      return new _HV_Term(app, _HV_Term.joinAuxs(left.auxs, right.auxs, group));
    } else if (ast instanceof _Jq_Constant) {
      var wrapper = _HN_BoxWrapper.create().addToGroup(group);

      var constant = new _HY_Const(ast.value).addToGroup(wrapper.box);
      new _GY_Link(wrapper.prin.key, constant.key, "n", "s").addToGroup(wrapper);
      return new _HV_Term(wrapper.prin, wrapper.auxs);
    } else if (ast instanceof _Jr_BinaryOp) {
      var binop = new _Gv_BinOp(ast.name).addToGroup(group);
      binop.subType = ast.type;
      var left = this.toGraph(ast.v1, group);
      var right = this.toGraph(ast.v2, group);
      new _GY_Link(binop.key, left.prin.key, "w", "s").addToGroup(group);
      new _GY_Link(binop.key, right.prin.key, "e", "s").addToGroup(group);
      return new _HV_Term(binop, _HV_Term.joinAuxs(left.auxs, right.auxs, group));
    } else if (ast instanceof _Jv_UnaryOp) {
      var unop = new _Jw_UnOp(ast.name).addToGroup(group);
      unop.subType = ast.type;
      var box = this.toGraph(ast.v1, group);
      new _GY_Link(unop.key, box.prin.key, "n", "s").addToGroup(group);
      return new _HV_Term(unop, box.auxs);
    } else if (ast instanceof _Jy_IfThenElse) {
      var ifnode = new _Gr_If().addToGroup(group);
      var cond = this.toGraph(ast.cond, group);
      var t1 = this.toGraph(ast.t1, group);
      var t2 = this.toGraph(ast.t2, group);
      new _GY_Link(ifnode.key, cond.prin.key, "w", "s").addToGroup(group);
      new _GY_Link(ifnode.key, t1.prin.key, "n", "s").addToGroup(group);
      new _GY_Link(ifnode.key, t2.prin.key, "e", "s").addToGroup(group);
      return new _HV_Term(ifnode, _HV_Term.joinAuxs(_HV_Term.joinAuxs(t1.auxs, t2.auxs, group), cond.auxs, group));
    } else if (ast instanceof _Jz_Recursion) {
      var p1 = ast.param; // recur term

      var wrapper = _HN_BoxWrapper.create().addToGroup(group);

      wrapper.prin.delete();
      var recur = new _K0_Recur().addToGroup(wrapper);
      wrapper.prin = recur;
      var box = this.toGraph(ast.body, wrapper.box);
      wrapper.auxs = wrapper.createPaxsOnTopOf(box.auxs);
      new _GY_Link(recur.key, box.prin.key, "e", "s").addToGroup(wrapper);
      var p1Used = false;
      var auxNode1;

      for (var i = 0; i < wrapper.auxs.length; i++) {
        var aux = wrapper.auxs[i];

        if (aux.name == p1) {
          p1Used = true;
          auxNode1 = this.graph.findNodeByKey(aux.findLinksInto(null)[0].from);
          aux.delete();
          break;
        }
      }

      if (p1Used) {// wrapper.auxs.splice(wrapper.auxs.indexOf(auxNode1), 1);
      } else {
        auxNode1 = new _Hi_Weak(p1).addToGroup(wrapper.box);
      }

      new _GY_Link(auxNode1.key, recur.key, "nw", "w", true).addToGroup(wrapper);
      return new _HV_Term(wrapper.prin, wrapper.auxs);
    } else if (ast instanceof _K2_ProvisionalConstant) {
      var term = this.toGraph(ast.term, group);
      var prov = new _Hz_Prov().addToGroup(group);
      new _GY_Link(prov.key, term.prin.key, "n", "s").addToGroup(group);
      return new _HV_Term(prov, term.auxs);
    } else if (ast instanceof _K3_Deprecation) {
      var term = this.toGraph(ast.term, group);
      var dep = new _K4_Dep().addToGroup(group);
      new _GY_Link(dep.key, term.prin.key, "n", "s").addToGroup(group);
      return new _HV_Term(dep, term.auxs);
    } else if (ast instanceof _K6_Dereference) {
      var term = this.toGraph(ast.term, group);
      var deref = new _Hu_Deref().addToGroup(group);
      new _GY_Link(deref.key, term.prin.key, "n", "s").addToGroup(group);
      return new _HV_Term(deref, term.auxs);
    } else if (ast instanceof _K7_Change) {
      var param = ast.param;
      var delta = new _Hq_Delta().addToGroup(group);
      var term = this.toGraph(ast.body, group);
      var v = new _Hx_Var(param).addToGroup(group);
      new _GY_Link(delta.key, v.key, "w", "s").addToGroup(group);
      new _GY_Link(delta.key, term.prin.key, "e", "s").addToGroup(group);
      var auxs = Array.from(term.auxs);
      var p1Used = false;
      var auxNode1;

      for (var i = 0; i < term.auxs.length; i++) {
        var aux = auxs[i];

        if (aux.name == param) {
          p1Used = true;
          auxs.splice(i, 1);
          var con = new _H0_Contract(aux.name).addToGroup(group);
          new _GY_Link(aux.key, con.key, "n", "s").addToGroup(group);
          new _GY_Link(v.key, con.key, "n", "s").addToGroup(group);
          auxs.push(con);
          break;
        }
      }

      if (!p1Used) auxs.push(v);
      return new _HV_Term(delta, auxs);
    } else if (ast instanceof _K8_Assign) {
      var param = ast.param;
      var setn = new _K9_Set().addToGroup(group);
      var term = this.toGraph(ast.body, group);
      var v = new _Hx_Var(param).addToGroup(group);
      new _GY_Link(setn.key, v.key, "w", "s").addToGroup(group);
      new _GY_Link(setn.key, term.prin.key, "e", "s").addToGroup(group);
      var auxs = Array.from(term.auxs);
      var p1Used = false;
      var auxNode1;

      for (var i = 0; i < term.auxs.length; i++) {
        var aux = auxs[i];

        if (aux.name == param) {
          p1Used = true;
          auxs.splice(i, 1);
          var con = new _H0_Contract(aux.name).addToGroup(group);
          new _GY_Link(aux.key, con.key, "n", "s").addToGroup(group);
          new _GY_Link(v.key, con.key, "n", "s").addToGroup(group);
          auxs.push(con);
          break;
        }
      }

      if (!p1Used) auxs.push(v);
      return new _HV_Term(setn, auxs);
    } else if (ast instanceof _KB_Propagation) {
      var prop = new _Hm_Prop().addToGroup(group);
      return new _HV_Term(prop, []);
    }
  };

  var _IR_ = function (group) {
    var _arr = Array.from(group.nodes);

    for (var _i = 0; _i < _arr.length; _i++) {
      var node = _arr[_i];
      if (node instanceof _HA_Group) this.deleteVarNode(node);else if (node instanceof _Hx_Var) node.deleteAndPreserveOutLink();
    }
  };

  var _IS_ = function () {
    this.evaluating = true;
    this.hasUpdate = false;
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = this.cells[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var key = _step2.value;
        var cell = this.graph.findNodeByKey(key);
        var evalToken = new _IE_MachineToken(this);
        evalToken.isMain = false;
        evalToken.setLink(cell.findLinksOutOf('e')[0]);
        this.evalTokens.push(evalToken);
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }
  };

  var _IT_ = function (a) {
    var j, x, i;

    for (i = a.length - 1; i > 0; i--) {
      j = Math.floor(Math.random() * (i + 1));
      x = a[i];
      a[i] = a[j];
      a[j] = x;
    }
  };

  var _IU_ = function (tokens) {
    // random	

    /*	
            var arr = Array.from(new Array(tokens.length),(val,index)=>index+1);	
            this.shuffle(arr);	
            for (var i=0; i<arr.length; i++) {	
            	var token = arr_2[arr[i]-1];	
            	this.tokenPass(token, flag, dataStack, boxStack, modStack);	
            }	
            */
    var arr_2 = Array.from(tokens); // all progress 1 step

    for (var i = 0; i < arr_2.length; i++) {
      var token = arr_2[i];
      this.tokenPass(token);
    }
  };

  var _IV_ = function () {
    if (!this.isFinished()) {
      /*	
                this.count++;	
                if (this.count == 200) {	
                	this.count = 0;	
                	this.gc.collect();	
                }	
                */
      if (this.evaluating) {
        this.batchPass(this.evalTokens);

        if (this.evalTokens.length == 0) {
          this.evaluating = false;
          var machine = this;
          this.newValues.forEach(function (value, key, map) {
            var mod = machine.graph.findNodeByKey(key);
            var oldData = mod.update(value);
            if (oldData != value) machine.hasUpdate = true;
          });
          this.newValues.clear();
          return;
        }
      } else this.tokenPass(this.token);
    }

    return this.getData(this.token);
  };

  var _IW_ = function (token) {
    var node;

    if (!token.transited) {
      if (token.link != null) {
        var target = token.forward ? token.link.to : token.link.from;
        node = this.graph.findNodeByKey(target);
      } else node = this.graph.findNodeByKey("nd1");

      var nextLink;
      token.rewrite = false;
      nextLink = node.transition(token, token.link);

      if (nextLink != null) {
        token.setLink(nextLink);
        token.transited = true;

        if (token.isMain) {// prints progress
          // console.log(this.getData(token));
        }
      } else {
        token.transited = false;

        if (token.isMain) {
          token.setLink(null); //this.gc.collect();

          this.setPlay(false);
          this.setPlaying(false);
          this.setFinished(true);
        } else token.setLink(token.link);
      }
    } else {
      var target = token.forward ? token.link.from : token.link.to;
      node = this.graph.findNodeByKey(target);
      var nextLink = node.rewrite(token, token.link);

      if (!token.rewrite) {
        token.transited = false;
        this.tokenPass(token);
      } else {
        token.setLink(nextLink);
      }
    }
  };

  var _IX_ = function (token) {
    var dataStack = Array.from(token.dataStack).reverse();
    dataStack.push('â¡'); // the latest value is stored in the first element in the dataStack

    var data = dataStack[0]; // data consists of the last node and it's link

    if (data[0] === 'Î»') {
      // abstraction
      var machine = this; // this means it doesn't return a simple value

      return function (source) {
        // create AST of the future abstract arguments
        var lexer = new _Jj_Lexer(source + '\0');
        var parser = new _Jl_Parser(lexer);
        var ast = parser.parse(); // init

        machine.token.reset();
        machine.count = 0;
        machine.evalTokens = [];
        machine.cells = [];
        machine.readyEvalTokens = 0;
        machine.evaluating = false;
        machine.newValues.clear();
        machine.hasUpdate = false; // get the start node

        var start = machine.graph.findNodeByKey("nd1"); // the start node will point to the node that'll be the lhs of the application

        var left = machine.graph.findNodeByKey(start.links[0].to);
        var leftAuxs = left.group.auxs; // need to remove link out of start nodes

        start.findLinksConnected().forEach(function (link) {
          link.delete();
        }); // follow the same steps from Application in toGraph

        var der = new _Hk_Der(left.name).addToGroup(machine.graph.child);
        new _GY_Link(der.key, left.key, "n", "s").addToGroup(machine.graph.child); // create the rhs from the source AST

        var right = machine.toGraph(ast, machine.graph.child);
        var app = new _Hf_App().addToGroup(machine.graph.child);
        new _GY_Link(app.key, der.key, "w", "s").addToGroup(machine.graph.child);
        new _GY_Link(app.key, right.prin.key, "e", "s").addToGroup(machine.graph.child);
        var term = new _HV_Term(app, _HV_Term.joinAuxs(leftAuxs, right.auxs, machine.graph.child));
        new _GY_Link(start.key, term.prin.key, "n", "s").addToGroup(machine.graph.child);
        machine.deleteVarNode(machine.graph.child);
      };
    } else if (data[1] !== '-') {
      var machine = Object.assign(Object.create(Object.getPrototypeOf(_IY_GoIMachine)), this);
      return {
        data: data[0],
        machine: machine
      };
    } else {
      if (data[0] === 'â¢') {
        // this represents the unit so it doesn't return anything
        return undefined;
      } else {
        return data[0];
      }
    }
  };

  var _2_autoPlay = function (callback) {
    var __captured__scope_1_ = __scope_0_main[0] || __get_scope_binding_0_get_95scope_95binding(0);

    __captured__scope_1_[0]++;

    _5_machine.setPlaying(true);

    var result;

    if (!_5_machine.isFinished()) {
      result = _5_machine.pass();
    }

    if (_5_machine.isFinished()) {
      if (typeof result === 'function') {
        callback(null, function () {
          _5_machine.setPlay(false);

          _5_machine.setPlaying(false); // can only receive one argument at a time so this work


          if (arguments.length !== 0) {
            result(arguments[0]);
          }

          _5_machine.setPlay(true);

          _5_machine.setFinished(false);

          if (!_5_machine.isPlaying()) {
            _2_autoPlay(callback);
          }
        });
      } else {
        callback(null, result);
      }
    } else {
      if (_5_machine.isPlay()) {
        if (_IZ_.__residual) {
          // if we're in Prepack, and weve reached its maximum nubmer of calls
          if (__captured__scope_1_[0] > 125 / 3) {
            if (__captured__scope_1_[0] > 125) {
              // set to 0 because up till now Prepack evaluated everything
              __captured__scope_1_[0] = 0;

              _IZ_.__residual("void", function (autoPlay, callback) {
                autoPlay(callback);
              }, _2_autoPlay, callback);
            } else {
              // decrease now because we have already added a timeout
              __captured__scope_1_[0]--;
              setTimeout(function () {
                _2_autoPlay(callback);
              }, 0);
            }
          } else {
            // just call the function as it is
            _2_autoPlay(callback);
          }
        } else {
          // otherwise, if we've reached the maximum number of calls on the stack
          if (__captured__scope_1_[0] > 125) {
            // call the function with a timeout
            setTimeout(function () {
              _2_autoPlay(callback);
            }, 0);
          } else {
            // just call the function as it is
            _2_autoPlay(callback);
          }
        }
      } else {
        _5_machine.setPlaying(false);
      }
    }
  };

  var _3_ = function (err, result) {
    ;

    _J7_(err, result);
  };

  var _Mn_ = function (obj) {
    return typeof obj;
  };

  var _La_ = function (obj) {
    return typeof obj;
  };

  var _L0_ = function (obj) {
    return typeof obj;
  };

  var _LV_ = function (obj) {
    return typeof obj;
  };

  var _LX_ = function (obj) {
    return typeof obj;
  };

  var _Lf_ = function (obj) {
    return typeof obj;
  };

  var _Lj_ = function (obj) {
    return typeof obj;
  };

  var _Le_ = function (obj) {
    return typeof obj;
  };

  var _Ky_ = function (obj) {
    return typeof obj;
  };

  var _LT_ = function (obj) {
    return typeof obj;
  };

  var _1_ = function () {
    _2_autoPlay(_3_);
  };

  var __constructor = function () {};

  var _JI_ = _$3_Object_46getPrototypeOf;

  var _6_graph = (__constructor.prototype = _G8_, new __constructor());

  _6_graph.key = 143;
  _6_graph.linkKey = 0;

  var _9_ = new _$4_Map();

  _6_graph.allNodes = _9_;
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GO_, _$5_Object_46defineProperty(_K_, "addToNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GP_, _$5_Object_46defineProperty(_K_, "addToGraph", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GQ_, _$5_Object_46defineProperty(_K_, "addToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GR_, _$5_Object_46defineProperty(_K_, "changeToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GS_, _$5_Object_46defineProperty(_K_, "changeFrom", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GT_, _$5_Object_46defineProperty(_K_, "changeTo", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GU_, _$5_Object_46defineProperty(_K_, "focus", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GV_, _$5_Object_46defineProperty(_K_, "clearFocus", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GW_, _$5_Object_46defineProperty(_K_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GX_, _$5_Object_46defineProperty(_K_, "toString", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _78_ = (__constructor.prototype = _K_, new __constructor());

  _78_.from = "nd35";
  _78_.to = "nd36";
  _78_.fromPort = "n";
  _78_.toPort = "s";
  _78_.reverse = void 0;
  _78_.colour = null;
  _78_.penWidth = null;
  _78_.graph = _6_graph;

  var _7J_ = (__constructor.prototype = _K_, new __constructor());

  _7J_.from = "nd39";
  _7J_.to = "nd36";
  _7J_.fromPort = "nw";
  _7J_.toPort = "w";
  _7J_.reverse = true;
  _7J_.colour = null;
  _7J_.penWidth = null;
  _7J_.graph = _6_graph;

  var _7C_outLink = (__constructor.prototype = _K_, new __constructor());

  _7C_outLink.from = "nd36";
  _7C_outLink.to = "nd40";
  _7C_outLink.fromPort = "e";
  _7C_outLink.toPort = "s";
  _7C_outLink.reverse = void 0;
  _7C_outLink.colour = null;
  _7C_outLink.penWidth = null;
  _7C_outLink.graph = _6_graph;

  var _6c_ = (__constructor.prototype = _K_, new __constructor());

  _6c_.from = "nd42";
  _6c_.to = "nd35";
  _6c_.fromPort = "n";
  _6c_.toPort = "s";
  _6c_.reverse = void 0;
  _6c_.colour = null;
  _6c_.penWidth = null;
  _6c_.graph = _6_graph;

  var _6h_ = (__constructor.prototype = _K_, new __constructor());

  _6h_.from = "nd32";
  _6h_.to = "nd42";
  _6h_.fromPort = "w";
  _6h_.toPort = "s";
  _6h_.reverse = void 0;
  _6h_.colour = null;
  _6h_.penWidth = null;
  _6h_.graph = _6_graph;

  var _6l_ = (__constructor.prototype = _K_, new __constructor());

  _6l_.from = "nd32";
  _6l_.to = "nd43";
  _6l_.fromPort = "e";
  _6l_.toPort = "s";
  _6l_.reverse = void 0;
  _6l_.colour = null;
  _6l_.penWidth = null;
  _6l_.graph = _6_graph;

  var _6Q_ = (__constructor.prototype = _K_, new __constructor());

  _6Q_.from = "nd30";
  _6Q_.to = "nd31";
  _6Q_.fromPort = "n";
  _6Q_.toPort = "s";
  _6Q_.reverse = void 0;
  _6Q_.colour = null;
  _6Q_.penWidth = null;
  _6Q_.graph = _6_graph;

  var _6p_ = (__constructor.prototype = _K_, new __constructor());

  _6p_.from = "nd31";
  _6p_.to = "nd32";
  _6p_.fromPort = "e";
  _6p_.toPort = "s";
  _6p_.reverse = void 0;
  _6p_.colour = null;
  _6p_.penWidth = null;
  _6p_.graph = _6_graph;

  var _6s_ = (__constructor.prototype = _K_, new __constructor());

  _6s_.from = "nd46";
  _6s_.to = "nd31";
  _6s_.fromPort = "nw";
  _6s_.toPort = "w";
  _6s_.reverse = true;
  _6s_.colour = null;
  _6s_.penWidth = null;
  _6s_.graph = _6_graph;

  var _6U_link = (__constructor.prototype = _K_, new __constructor());

  _6U_link.from = "nd40";
  _6U_link.to = "nd47";
  _6U_link.fromPort = "n";
  _6U_link.toPort = "s";
  _6U_link.reverse = void 0;
  _6U_link.colour = null;
  _6U_link.penWidth = null;
  _6U_link.graph = _6_graph;

  var _5q_ = (__constructor.prototype = _K_, new __constructor());

  _5q_.from = "nd49";
  _5q_.to = "nd30";
  _5q_.fromPort = "n";
  _5q_.toPort = "s";
  _5q_.reverse = void 0;
  _5q_.colour = null;
  _5q_.penWidth = null;
  _5q_.graph = _6_graph;

  var _8a_ = (__constructor.prototype = _K_, new __constructor());

  _8a_.from = "nd53";
  _8a_.to = "nd54";
  _8a_.fromPort = "n";
  _8a_.toPort = "s";
  _8a_.reverse = void 0;
  _8a_.colour = null;
  _8a_.penWidth = null;
  _8a_.graph = _6_graph;

  var _5v_ = (__constructor.prototype = _K_, new __constructor());

  _5v_.from = "nd50";
  _5v_.to = "nd53";
  _5v_.fromPort = "e";
  _5v_.toPort = "s";
  _5v_.reverse = void 0;
  _5v_.colour = null;
  _5v_.penWidth = null;
  _5v_.graph = _6_graph;

  var _5z_ = (__constructor.prototype = _K_, new __constructor());

  _5z_.from = "nd27";
  _5z_.to = "nd49";
  _5z_.fromPort = "w";
  _5z_.toPort = "s";
  _5z_.reverse = void 0;
  _5z_.colour = null;
  _5z_.penWidth = null;
  _5z_.graph = _6_graph;

  var _63_ = (__constructor.prototype = _K_, new __constructor());

  _63_.from = "nd27";
  _63_.to = "nd50";
  _63_.fromPort = "e";
  _63_.toPort = "s";
  _63_.reverse = void 0;
  _63_.colour = null;
  _63_.penWidth = null;
  _63_.graph = _6_graph;

  var _5a_ = (__constructor.prototype = _K_, new __constructor());

  _5a_.from = "nd25";
  _5a_.to = "nd26";
  _5a_.fromPort = "n";
  _5a_.toPort = "s";
  _5a_.reverse = void 0;
  _5a_.colour = null;
  _5a_.penWidth = null;
  _5a_.graph = _6_graph;

  var _66_ = (__constructor.prototype = _K_, new __constructor());

  _66_.from = "nd26";
  _66_.to = "nd27";
  _66_.fromPort = "e";
  _66_.toPort = "s";
  _66_.reverse = void 0;
  _66_.colour = null;
  _66_.penWidth = null;
  _66_.graph = _6_graph;

  var _69_ = (__constructor.prototype = _K_, new __constructor());

  _69_.from = "nd59";
  _69_.to = "nd26";
  _69_.fromPort = "nw";
  _69_.toPort = "w";
  _69_.reverse = true;
  _69_.colour = null;
  _69_.penWidth = null;
  _69_.graph = _6_graph;

  var _5e_ = (__constructor.prototype = _K_, new __constructor());

  _5e_.from = "nd47";
  _5e_.to = "nd60";
  _5e_.fromPort = "n";
  _5e_.toPort = "s";
  _5e_.reverse = void 0;
  _5e_.colour = null;
  _5e_.penWidth = null;
  _5e_.graph = _6_graph;

  var _5i_outLink = (__constructor.prototype = _K_, new __constructor());

  _5i_outLink.from = "nd50";
  _5i_outLink.to = "nd61";
  _5i_outLink.fromPort = "w";
  _5i_outLink.toPort = "s";
  _5i_outLink.reverse = void 0;
  _5i_outLink.colour = null;
  _5i_outLink.penWidth = null;
  _5i_outLink.graph = _6_graph;

  var _54_ = (__constructor.prototype = _K_, new __constructor());

  _54_.from = "nd63";
  _54_.to = "nd25";
  _54_.fromPort = "n";
  _54_.toPort = "s";
  _54_.reverse = void 0;
  _54_.colour = null;
  _54_.penWidth = null;
  _54_.graph = _6_graph;

  var _59_ = (__constructor.prototype = _K_, new __constructor());

  _59_.from = "nd22";
  _59_.to = "nd63";
  _59_.fromPort = "w";
  _59_.toPort = "s";
  _59_.reverse = void 0;
  _59_.colour = null;
  _59_.penWidth = null;
  _59_.graph = _6_graph;

  var _5D_ = (__constructor.prototype = _K_, new __constructor());

  _5D_.from = "nd22";
  _5D_.to = "nd64";
  _5D_.fromPort = "e";
  _5D_.toPort = "s";
  _5D_.reverse = void 0;
  _5D_.colour = null;
  _5D_.penWidth = null;
  _5D_.graph = _6_graph;

  var _4s_ = (__constructor.prototype = _K_, new __constructor());

  _4s_.from = "nd20";
  _4s_.to = "nd21";
  _4s_.fromPort = "n";
  _4s_.toPort = "s";
  _4s_.reverse = void 0;
  _4s_.colour = null;
  _4s_.penWidth = null;
  _4s_.graph = _6_graph;

  var _5H_ = (__constructor.prototype = _K_, new __constructor());

  _5H_.from = "nd21";
  _5H_.to = "nd22";
  _5H_.fromPort = "e";
  _5H_.toPort = "s";
  _5H_.reverse = void 0;
  _5H_.colour = null;
  _5H_.penWidth = null;
  _5H_.graph = _6_graph;

  var _5K_ = (__constructor.prototype = _K_, new __constructor());

  _5K_.from = "nd60";
  _5K_.to = "nd21";
  _5K_.fromPort = "nw";
  _5K_.toPort = "w";
  _5K_.reverse = true;
  _5K_.colour = null;
  _5K_.penWidth = null;
  _5K_.graph = _6_graph;

  var _4w_link = (__constructor.prototype = _K_, new __constructor());

  _4w_link.from = "nd61";
  _4w_link.to = "nd67";
  _4w_link.fromPort = "n";
  _4w_link.toPort = "s";
  _4w_link.reverse = void 0;
  _4w_link.colour = null;
  _4w_link.penWidth = null;
  _4w_link.graph = _6_graph;

  var _i_link = (__constructor.prototype = _K_, new __constructor());

  _i_link.from = "nd69";
  _i_link.to = "nd20";
  _i_link.fromPort = "n";
  _i_link.toPort = "s";
  _i_link.reverse = void 0;
  _i_link.colour = null;
  _i_link.penWidth = null;
  _i_link.graph = _6_graph;

  var _n_link = (__constructor.prototype = _K_, new __constructor());

  _n_link.from = "nd71";
  _n_link.to = "nd74";
  _n_link.fromPort = "w";
  _n_link.toPort = "s";
  _n_link.reverse = void 0;
  _n_link.colour = null;
  _n_link.penWidth = null;
  _n_link.graph = _6_graph;

  var _r_link = (__constructor.prototype = _K_, new __constructor());

  _r_link.from = "nd71";
  _r_link.to = "nd77";
  _r_link.fromPort = "e";
  _r_link.toPort = "s";
  _r_link.reverse = void 0;
  _r_link.colour = null;
  _r_link.penWidth = null;
  _r_link.graph = _6_graph;

  var _v_link = (__constructor.prototype = _K_, new __constructor());

  _v_link.from = "nd80";
  _v_link.to = "nd71";
  _v_link.fromPort = "n";
  _v_link.toPort = "s";
  _v_link.reverse = void 0;
  _v_link.colour = null;
  _v_link.penWidth = null;
  _v_link.graph = _6_graph;

  var _z_link = (__constructor.prototype = _K_, new __constructor());

  _z_link.from = "nd70";
  _z_link.to = "nd80";
  _z_link.fromPort = "w";
  _z_link.toPort = "s";
  _z_link.reverse = void 0;
  _z_link.colour = null;
  _z_link.penWidth = null;
  _z_link.graph = _6_graph;

  var _13_nextLink = (__constructor.prototype = _K_, new __constructor());

  _13_nextLink.from = "nd70";
  _13_nextLink.to = "nd83";
  _13_nextLink.fromPort = "e";
  _13_nextLink.toPort = "s";
  _13_nextLink.reverse = void 0;
  _13_nextLink.colour = "red";
  _13_nextLink.penWidth = "20";
  _13_nextLink.graph = _6_graph;

  var _19_link = (__constructor.prototype = _K_, new __constructor());

  _19_link.from = "nd17";
  _19_link.to = "nd69";
  _19_link.fromPort = "w";
  _19_link.toPort = "s";
  _19_link.reverse = void 0;
  _19_link.colour = null;
  _19_link.penWidth = null;
  _19_link.graph = _6_graph;

  var _1D_link = (__constructor.prototype = _K_, new __constructor());

  _1D_link.from = "nd17";
  _1D_link.to = "nd70";
  _1D_link.fromPort = "e";
  _1D_link.toPort = "s";
  _1D_link.reverse = void 0;
  _1D_link.colour = null;
  _1D_link.penWidth = null;
  _1D_link.graph = _6_graph;

  var _1G_link = (__constructor.prototype = _K_, new __constructor());

  _1G_link.from = "nd77";
  _1G_link.to = "nd86";
  _1G_link.fromPort = "n";
  _1G_link.toPort = "s";
  _1G_link.reverse = void 0;
  _1G_link.colour = null;
  _1G_link.penWidth = null;
  _1G_link.graph = _6_graph;

  var _1J_link = (__constructor.prototype = _K_, new __constructor());

  _1J_link.from = "nd67";
  _1J_link.to = "nd86";
  _1J_link.fromPort = "n";
  _1J_link.toPort = "s";
  _1J_link.reverse = void 0;
  _1J_link.colour = null;
  _1J_link.penWidth = null;
  _1J_link.graph = _6_graph;

  var _1N_link = (__constructor.prototype = _K_, new __constructor());

  _1N_link.from = "nd1";
  _1N_link.to = "nd17";
  _1N_link.fromPort = "n";
  _1N_link.toPort = "s";
  _1N_link.reverse = void 0;
  _1N_link.colour = null;
  _1N_link.penWidth = null;
  _1N_link.graph = _6_graph;

  var _1R_otherNextLink = (__constructor.prototype = _K_, new __constructor());

  _1R_otherNextLink.from = "nd83";
  _1R_otherNextLink.to = "nd141";
  _1R_otherNextLink.fromPort = "n";
  _1R_otherNextLink.toPort = "s";
  _1R_otherNextLink.reverse = false;
  _1R_otherNextLink.colour = null;
  _1R_otherNextLink.penWidth = null;
  _1R_otherNextLink.graph = _6_graph;

  var _4I_link = (__constructor.prototype = _K_, new __constructor());

  _4I_link.from = "nd94";
  _4I_link.to = "nd95";
  _4I_link.fromPort = "n";
  _4I_link.toPort = "s";
  _4I_link.reverse = void 0;
  _4I_link.colour = null;
  _4I_link.penWidth = null;
  _4I_link.graph = _6_graph;

  var _V_outLink = (__constructor.prototype = _K_, new __constructor());

  _V_outLink.from = "nd141";
  _V_outLink.to = "nd94";
  _V_outLink.fromPort = "e";
  _V_outLink.toPort = "s";
  _V_outLink.reverse = void 0;
  _V_outLink.colour = null;
  _V_outLink.penWidth = null;
  _V_outLink.graph = _6_graph;

  var _a_outLink = (__constructor.prototype = _K_, new __constructor());

  _a_outLink.from = "nd86";
  _a_outLink.to = "nd139";
  _a_outLink.fromPort = "n";
  _a_outLink.toPort = "s";
  _a_outLink.reverse = false;
  _a_outLink.colour = null;
  _a_outLink.penWidth = null;
  _a_outLink.graph = _6_graph;

  var _3l_link = (__constructor.prototype = _K_, new __constructor());

  _3l_link.from = "nd105";
  _3l_link.to = "nd106";
  _3l_link.fromPort = "n";
  _3l_link.toPort = "s";
  _3l_link.reverse = void 0;
  _3l_link.colour = null;
  _3l_link.penWidth = null;
  _3l_link.graph = _6_graph;

  var _F_outLink = (__constructor.prototype = _K_, new __constructor());

  _F_outLink.from = "nd139";
  _F_outLink.to = "nd105";
  _F_outLink.fromPort = "e";
  _F_outLink.toPort = "s";
  _F_outLink.reverse = void 0;
  _F_outLink.colour = null;
  _F_outLink.penWidth = null;
  _F_outLink.graph = _6_graph;

  var _L_outLink = (__constructor.prototype = _K_, new __constructor());

  _L_outLink.from = "nd74";
  _L_outLink.to = "nd115";
  _L_outLink.fromPort = "n";
  _L_outLink.toPort = "s";
  _L_outLink.reverse = false;
  _L_outLink.colour = null;
  _L_outLink.penWidth = null;
  _L_outLink.graph = _6_graph;

  var _2J_ = (__constructor.prototype = _K_, new __constructor());

  _2J_.from = "nd121";
  _2J_.to = "nd122";
  _2J_.fromPort = "w";
  _2J_.toPort = "s";
  _2J_.reverse = void 0;
  _2J_.colour = null;
  _2J_.penWidth = null;
  _2J_.graph = _6_graph;

  var _2O_outLink = (__constructor.prototype = _K_, new __constructor());

  _2O_outLink.from = "nd122";
  _2O_outLink.to = "nd132";
  _2O_outLink.fromPort = "e";
  _2O_outLink.toPort = "s";
  _2O_outLink.reverse = void 0;
  _2O_outLink.colour = null;
  _2O_outLink.penWidth = null;
  _2O_outLink.graph = _6_graph;

  var _2S_outLink = (__constructor.prototype = _K_, new __constructor());

  _2S_outLink.from = "nd121";
  _2S_outLink.to = "nd132";
  _2S_outLink.fromPort = "n";
  _2S_outLink.toPort = "s";
  _2S_outLink.reverse = void 0;
  _2S_outLink.colour = null;
  _2S_outLink.penWidth = null;
  _2S_outLink.graph = _6_graph;

  var _2V_outLink = (__constructor.prototype = _K_, new __constructor());

  _2V_outLink.from = "nd122";
  _2V_outLink.to = "nd133";
  _2V_outLink.fromPort = "w";
  _2V_outLink.toPort = "s";
  _2V_outLink.reverse = void 0;
  _2V_outLink.colour = null;
  _2V_outLink.penWidth = null;
  _2V_outLink.graph = _6_graph;

  var _2Y_outLink = (__constructor.prototype = _K_, new __constructor());

  _2Y_outLink.from = "nd121";
  _2Y_outLink.to = "nd133";
  _2Y_outLink.fromPort = "e";
  _2Y_outLink.toPort = "s";
  _2Y_outLink.reverse = void 0;
  _2Y_outLink.colour = null;
  _2Y_outLink.penWidth = null;
  _2Y_outLink.graph = _6_graph;

  var _27_ = (__constructor.prototype = _K_, new __constructor());

  _27_.from = "nd119";
  _27_.to = "nd120";
  _27_.fromPort = "n";
  _27_.toPort = "s";
  _27_.reverse = void 0;
  _27_.colour = null;
  _27_.penWidth = null;
  _27_.graph = _6_graph;

  var _2b_ = (__constructor.prototype = _K_, new __constructor());

  _2b_.from = "nd120";
  _2b_.to = "nd121";
  _2b_.fromPort = "e";
  _2b_.toPort = "s";
  _2b_.reverse = void 0;
  _2b_.colour = null;
  _2b_.penWidth = null;
  _2b_.graph = _6_graph;

  var _2e_ = (__constructor.prototype = _K_, new __constructor());

  _2e_.from = "nd132";
  _2e_.to = "nd120";
  _2e_.fromPort = "nw";
  _2e_.toPort = "w";
  _2e_.reverse = true;
  _2e_.colour = null;
  _2e_.penWidth = null;
  _2e_.graph = _6_graph;

  var _2B_ = (__constructor.prototype = _K_, new __constructor());

  _2B_.from = "nd133";
  _2B_.to = "nd135";
  _2B_.fromPort = "n";
  _2B_.toPort = "s";
  _2B_.reverse = void 0;
  _2B_.colour = null;
  _2B_.penWidth = null;
  _2B_.graph = _6_graph;

  var _1h_link = (__constructor.prototype = _K_, new __constructor());

  _1h_link.from = "nd115";
  _1h_link.to = "nd116";
  _1h_link.fromPort = "n";
  _1h_link.toPort = "s";
  _1h_link.reverse = void 0;
  _1h_link.colour = null;
  _1h_link.penWidth = null;
  _1h_link.graph = _6_graph;

  var _1p_ = (__constructor.prototype = _K_, new __constructor());

  _1p_.from = "nd116";
  _1p_.to = "nd119";
  _1p_.fromPort = "e";
  _1p_.toPort = "s";
  _1p_.reverse = void 0;
  _1p_.colour = null;
  _1p_.penWidth = null;
  _1p_.graph = _6_graph;

  var _1t_ = (__constructor.prototype = _K_, new __constructor());

  _1t_.from = "nd135";
  _1t_.to = "nd116";
  _1t_.fromPort = "nw";
  _1t_.toPort = "w";
  _1t_.reverse = true;
  _1t_.colour = null;
  _1t_.penWidth = null;
  _1t_.graph = _6_graph;

  var _R_ = (__constructor.prototype = _K_, new __constructor());

  _R_.from = "nd139";
  _R_.to = "nd140";
  _R_.fromPort = "w";
  _R_.toPort = "s";
  _R_.reverse = void 0;
  _R_.colour = null;
  _R_.penWidth = null;
  _R_.graph = _6_graph;

  var _e_ = (__constructor.prototype = _K_, new __constructor());

  _e_.from = "nd141";
  _e_.to = "nd142";
  _e_.fromPort = "w";
  _e_.toPort = "s";
  _e_.reverse = void 0;
  _e_.colour = null;
  _e_.penWidth = null;
  _e_.graph = _6_graph;
  var _G6_ = [_78_, _7J_, _7C_outLink, _6c_, _6h_, _6l_, _6Q_, _6p_, _6s_, _6U_link, _5q_, _8a_, _5v_, _5z_, _63_, _5a_, _66_, _69_, _5e_, _5i_outLink, _54_, _59_, _5D_, _4s_, _5H_, _5K_, _4w_link, _i_link, _n_link, _r_link, _v_link, _z_link, _13_nextLink, _19_link, _1D_link, _1G_link, _1J_link, _1N_link, _1R_otherNextLink, _4I_link, _V_outLink, _a_outLink, _3l_link, _F_outLink, _L_outLink, _2J_, _2O_outLink, _2S_outLink, _2V_outLink, _2Y_outLink, _27_, _2b_, _2e_, _2B_, _1h_link, _1p_, _1t_, _R_, _e_,,,,,,,,,,,,,,,,,,,,,,,,,,];
  _G6_.length = 59;
  _6_graph.allLinks = _G6_;
  var _Ib_ = {
    isNumber: _J9_isNumber,
    graph: _6_graph
  };

  var _1c_ = (__constructor.prototype = _1d_, new __constructor());

  _GZ_Start.prototype = _1c_;

  _$6_Object_46setPrototypeOf(_GZ_Start, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _GZ_Start, _$5_Object_46defineProperty(_1c_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _Ic_CompData = {
    EMPTY: "-",
    PROMPT: "*",
    LAMBDA: "\u03BB",
    R: "@",
    UNIT: "\u2022",
    IF0: "if0",
    IF1: "if1"
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ga_, _$5_Object_46defineProperty(_1c_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gb_, _$5_Object_46defineProperty(_1c_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1W_fromNode = (__constructor.prototype = _1c_, new __constructor());

  _1W_fromNode.key = "nd1";
  _1W_fromNode.shape = "point";
  _1W_fromNode.text = "";
  _1W_fromNode.colour = "black";
  _1W_fromNode.name = void 0;
  _1W_fromNode.graph = _6_graph;
  _1W_fromNode.width = null;
  _1W_fromNode.height = null;
  var _1a_ = [_1N_link,,];
  _1a_.length = 1;
  _1W_fromNode.links = _1a_;

  _9_.set("nd1", _1W_fromNode);

  var _4o_ = (__constructor.prototype = _1d_, new __constructor());

  _Hf_App.prototype = _4o_;

  _$6_Object_46setPrototypeOf(_Hf_App, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hf_App, _$5_Object_46defineProperty(_4o_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hg_, _$5_Object_46defineProperty(_4o_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hh_, _$5_Object_46defineProperty(_4o_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _4k_node = (__constructor.prototype = _4o_, new __constructor());

  _4k_node.key = "nd17";
  _4k_node.shape = null;
  _4k_node.text = "@";
  _4k_node.colour = "yellow";
  _4k_node.name = void 0;
  _4k_node.graph = _6_graph;
  _4k_node.width = null;
  _4k_node.height = null;
  var _4n_ = [_19_link, _1D_link, _1N_link];
  _4k_node.links = _4n_;

  _9_.set("nd17", _4k_node);

  var _38_ = (__constructor.prototype = _1d_, new __constructor());

  _H4_Expo.prototype = _38_;

  _$6_Object_46setPrototypeOf(_H4_Expo, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H4_Expo, _$5_Object_46defineProperty(_38_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H5_, _$5_Object_46defineProperty(_38_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _JJ_ = _$8_Reflect_46get;
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H6_, _$5_Object_46defineProperty(_38_, "deleteAndPreserveInLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H7_, _$5_Object_46defineProperty(_38_, "deleteAndPreserveOutLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3P_ = (__constructor.prototype = _38_, new __constructor());

  _HG_Promo.prototype = _3P_;

  _$6_Object_46setPrototypeOf(_HG_Promo, _H4_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HG_Promo, _$5_Object_46defineProperty(_3P_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _Ij_RewriteFlag = {
    EMPTY: "\u25A1",
    F_LAMBDA: "<\u03BB>",
    F_OP: "<$>",
    F_IF: "<if>",
    F_C: "<C>",
    F_PROMO: "<!>",
    F_RECUR: "<\u03BC>",
    F_MOD: "<M>",
    F_DEP: "<p>",
    F_DELTA: "<\u0394>",
    F_PROP: "<s>"
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HH_, _$5_Object_46defineProperty(_3P_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _7w_ = (__constructor.prototype = _38_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hk_Der, _$5_Object_46defineProperty(_7w_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hl_, _$5_Object_46defineProperty(_7w_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Hk_Der.prototype = _7w_;

  _$6_Object_46setPrototypeOf(_Hk_Der, _H4_Expo);

  var _37_ = (__constructor.prototype = _38_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H0_Contract, _$5_Object_46defineProperty(_37_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H1_, _$5_Object_46defineProperty(_37_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H2_, _$5_Object_46defineProperty(_37_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H3_, _$5_Object_46defineProperty(_37_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _H0_Contract.prototype = _37_;

  _$6_Object_46setPrototypeOf(_H0_Contract, _H4_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _J4_, _$5_Object_46defineProperty(_HV_Term, "joinAuxs", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_HV_Term, _HA_Group);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HI_, _$5_Object_46defineProperty(_3P_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HJ_, _$5_Object_46defineProperty(_3P_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _9V_node = (__constructor.prototype = _3P_, new __constructor());

  _9V_node.key = "nd20";
  _9V_node.shape = null;
  _9V_node.text = "!";
  _9V_node.colour = "cyan";
  _9V_node.name = void 0;
  _9V_node.graph = _6_graph;
  _9V_node.width = ".3";
  _9V_node.height = ".3";
  var _9a_ = [_4s_, _i_link];
  _9V_node.links = _9a_;

  _9_.set("nd20", _9V_node);

  var _23_ = (__constructor.prototype = _1d_, new __constructor());

  _Gn_Abs.prototype = _23_;

  _$6_Object_46setPrototypeOf(_Gn_Abs, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gn_Abs, _$5_Object_46defineProperty(_23_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Go_, _$5_Object_46defineProperty(_23_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gp_, _$5_Object_46defineProperty(_23_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gq_, _$5_Object_46defineProperty(_23_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _5P_node = (__constructor.prototype = _23_, new __constructor());

  _5P_node.key = "nd21";
  _5P_node.shape = null;
  _5P_node.text = "\u03BB";
  _5P_node.colour = "yellow";
  _5P_node.name = void 0;
  _5P_node.graph = _6_graph;
  _5P_node.width = null;
  _5P_node.height = null;
  var _5S_ = [_4s_, _5H_, _5K_];
  _5P_node.links = _5S_;

  _9_.set("nd21", _5P_node);

  var _5T_node = (__constructor.prototype = _4o_, new __constructor());

  _5T_node.key = "nd22";
  _5T_node.shape = null;
  _5T_node.text = "@";
  _5T_node.colour = "yellow";
  _5T_node.name = void 0;
  _5T_node.graph = _6_graph;
  _5T_node.width = null;
  _5T_node.height = null;
  var _5W_ = [_59_, _5D_, _5H_];
  _5T_node.links = _5W_;

  _9_.set("nd22", _5T_node);

  var _91_node = (__constructor.prototype = _3P_, new __constructor());

  _91_node.key = "nd25";
  _91_node.shape = null;
  _91_node.text = "!";
  _91_node.colour = "cyan";
  _91_node.name = void 0;
  _91_node.graph = _6_graph;
  _91_node.width = ".3";
  _91_node.height = ".3";
  var _96_ = [_5a_, _54_];
  _91_node.links = _96_;

  _9_.set("nd25", _91_node);

  var _6F_node = (__constructor.prototype = _23_, new __constructor());

  _6F_node.key = "nd26";
  _6F_node.shape = null;
  _6F_node.text = "\u03BB";
  _6F_node.colour = "yellow";
  _6F_node.name = void 0;
  _6F_node.graph = _6_graph;
  _6F_node.width = null;
  _6F_node.height = null;
  var _6I_ = [_5a_, _66_, _69_];
  _6F_node.links = _6I_;

  _9_.set("nd26", _6F_node);

  var _6J_node = (__constructor.prototype = _4o_, new __constructor());

  _6J_node.key = "nd27";
  _6J_node.shape = null;
  _6J_node.text = "@";
  _6J_node.colour = "yellow";
  _6J_node.name = void 0;
  _6J_node.graph = _6_graph;
  _6J_node.width = null;
  _6J_node.height = null;
  var _6M_ = [_5z_, _63_, _66_];
  _6J_node.links = _6M_;

  _9_.set("nd27", _6J_node);

  var _88_node = (__constructor.prototype = _3P_, new __constructor());

  _88_node.key = "nd30";
  _88_node.shape = null;
  _88_node.text = "!";
  _88_node.colour = "cyan";
  _88_node.name = void 0;
  _88_node.graph = _6_graph;
  _88_node.width = ".3";
  _88_node.height = ".3";
  var _8D_ = [_6Q_, _5q_];
  _88_node.links = _8D_;

  _9_.set("nd30", _88_node);

  var _6x_node = (__constructor.prototype = _23_, new __constructor());

  _6x_node.key = "nd31";
  _6x_node.shape = null;
  _6x_node.text = "\u03BB";
  _6x_node.colour = "yellow";
  _6x_node.name = void 0;
  _6x_node.graph = _6_graph;
  _6x_node.width = null;
  _6x_node.height = null;
  var _70_ = [_6Q_, _6p_, _6s_];
  _6x_node.links = _70_;

  _9_.set("nd31", _6x_node);

  var _71_node = (__constructor.prototype = _4o_, new __constructor());

  _71_node.key = "nd32";
  _71_node.shape = null;
  _71_node.text = "@";
  _71_node.colour = "yellow";
  _71_node.name = void 0;
  _71_node.graph = _6_graph;
  _71_node.width = null;
  _71_node.height = null;
  var _74_ = [_6h_, _6l_, _6p_];
  _71_node.links = _74_;

  _9_.set("nd32", _71_node);

  var _7c_node = (__constructor.prototype = _3P_, new __constructor());

  _7c_node.key = "nd35";
  _7c_node.shape = null;
  _7c_node.text = "!";
  _7c_node.colour = "cyan";
  _7c_node.name = void 0;
  _7c_node.graph = _6_graph;
  _7c_node.width = ".3";
  _7c_node.height = ".3";
  var _7h_ = [_78_, _6c_];
  _7c_node.links = _7h_;

  _9_.set("nd35", _7c_node);

  var _7P_fromNode = (__constructor.prototype = _23_, new __constructor());

  _7P_fromNode.key = "nd36";
  _7P_fromNode.shape = null;
  _7P_fromNode.text = "\u03BB";
  _7P_fromNode.colour = "yellow";
  _7P_fromNode.name = void 0;
  _7P_fromNode.graph = _6_graph;
  _7P_fromNode.width = null;
  _7P_fromNode.height = null;
  var _7S_ = [_78_, _7J_, _7C_outLink,,];
  _7S_.length = 3;
  _7P_fromNode.links = _7S_;

  _9_.set("nd36", _7P_fromNode);

  var _7a_ = (__constructor.prototype = _38_, new __constructor());

  _Hi_Weak.prototype = _7a_;

  _$6_Object_46setPrototypeOf(_Hi_Weak, _H4_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hi_Weak, _$5_Object_46defineProperty(_7a_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hj_, _$5_Object_46defineProperty(_7a_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _7U_node = (__constructor.prototype = _7a_, new __constructor());

  _7U_node.key = "nd39";
  _7U_node.shape = null;
  _7U_node.text = "C0";
  _7U_node.colour = "cyan";
  _7U_node.name = void 0;
  _7U_node.graph = _6_graph;
  _7U_node.width = ".3";
  _7U_node.height = ".3";
  var _7Z_ = [_7J_];
  _7U_node.links = _7Z_;

  _9_.set("nd39", _7U_node);

  var _3W_ = (__constructor.prototype = _38_, new __constructor());

  _HK_Pax.prototype = _3W_;

  _$6_Object_46setPrototypeOf(_HK_Pax, _H4_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HK_Pax, _$5_Object_46defineProperty(_3W_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HL_, _$5_Object_46defineProperty(_3W_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HM_, _$5_Object_46defineProperty(_3W_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _7i_node = (__constructor.prototype = _3W_, new __constructor());

  _7i_node.key = "nd40";
  _7i_node.shape = null;
  _7i_node.text = "?";
  _7i_node.colour = "cyan";
  _7i_node.name = "m";
  _7i_node.graph = _6_graph;
  _7i_node.width = ".3";
  _7i_node.height = ".3";
  var _7o_ = [_7C_outLink, _6U_link];
  _7i_node.links = _7o_;

  _9_.set("nd40", _7i_node);

  var _7q_node = (__constructor.prototype = _7w_, new __constructor());

  _7q_node.key = "nd42";
  _7q_node.shape = null;
  _7q_node.text = "D";
  _7q_node.colour = "cyan";
  _7q_node.name = void 0;
  _7q_node.graph = _6_graph;
  _7q_node.width = ".3";
  _7q_node.height = ".3";
  var _7v_ = [_6c_, _6h_];
  _7q_node.links = _7v_;

  _9_.set("nd42", _7q_node);

  var _81_ = (__constructor.prototype = _1d_, new __constructor());

  _Hm_Prop.prototype = _81_;

  _$6_Object_46setPrototypeOf(_Hm_Prop, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hm_Prop, _$5_Object_46defineProperty(_81_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hn_, _$5_Object_46defineProperty(_81_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_H8_Box, _HA_Group);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _J3_, _$5_Object_46defineProperty(_HN_BoxWrapper, "create", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_HN_BoxWrapper, _HV_Term);

  var _3y_ = (__constructor.prototype = _1d_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HY_Const, _$5_Object_46defineProperty(_3y_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HZ_, _$5_Object_46defineProperty(_3y_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ha_, _$5_Object_46defineProperty(_3y_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _HY_Const.prototype = _3y_;

  _$6_Object_46setPrototypeOf(_HY_Const, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ho_, _$5_Object_46defineProperty(_81_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hp_, _$5_Object_46defineProperty(_81_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _7x_node = (__constructor.prototype = _81_, new __constructor());

  _7x_node.key = "nd43";
  _7x_node.shape = null;
  _7x_node.text = "s";
  _7x_node.colour = "indianred1";
  _7x_node.name = void 0;
  _7x_node.graph = _6_graph;
  _7x_node.width = null;
  _7x_node.height = null;
  var _80_ = [_6l_];
  _7x_node.links = _80_;

  _9_.set("nd43", _7x_node);

  var _82_node = (__constructor.prototype = _7a_, new __constructor());

  _82_node.key = "nd46";
  _82_node.shape = null;
  _82_node.text = "C0";
  _82_node.colour = "cyan";
  _82_node.name = void 0;
  _82_node.graph = _6_graph;
  _82_node.width = ".3";
  _82_node.height = ".3";
  var _87_ = [_6s_];
  _82_node.links = _87_;

  _9_.set("nd46", _82_node);

  var _8E_node = (__constructor.prototype = _3W_, new __constructor());

  _8E_node.key = "nd47";
  _8E_node.shape = null;
  _8E_node.text = "?";
  _8E_node.colour = "cyan";
  _8E_node.name = "m";
  _8E_node.graph = _6_graph;
  _8E_node.width = ".3";
  _8E_node.height = ".3";
  var _8J_ = [_6U_link, _5e_];
  _8E_node.links = _8J_;

  _9_.set("nd47", _8E_node);

  var _8L_node = (__constructor.prototype = _7w_, new __constructor());

  _8L_node.key = "nd49";
  _8L_node.shape = null;
  _8L_node.text = "D";
  _8L_node.colour = "cyan";
  _8L_node.name = void 0;
  _8L_node.graph = _6_graph;
  _8L_node.width = ".3";
  _8L_node.height = ".3";
  var _8Q_ = [_5q_, _5z_];
  _8L_node.links = _8Q_;

  _9_.set("nd49", _8L_node);

  var _8W_ = (__constructor.prototype = _1d_, new __constructor());

  _Hq_Delta.prototype = _8W_;

  _$6_Object_46setPrototypeOf(_Hq_Delta, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hq_Delta, _$5_Object_46defineProperty(_8W_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hr_, _$5_Object_46defineProperty(_8W_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hs_, _$5_Object_46defineProperty(_8W_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ht_, _$5_Object_46defineProperty(_8W_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _8R_fromNode = (__constructor.prototype = _8W_, new __constructor());

  _8R_fromNode.key = "nd50";
  _8R_fromNode.shape = null;
  _8R_fromNode.text = "\u0394";
  _8R_fromNode.colour = "indianred1";
  _8R_fromNode.name = void 0;
  _8R_fromNode.graph = _6_graph;
  _8R_fromNode.width = null;
  _8R_fromNode.height = null;
  var _8U_ = [_5v_, _63_, _5i_outLink,,];
  _8U_.length = 3;
  _8R_fromNode.links = _8U_;

  _9_.set("nd50", _8R_fromNode);

  var _8n_node = (__constructor.prototype = _3P_, new __constructor());

  _8n_node.key = "nd53";
  _8n_node.shape = null;
  _8n_node.text = "!";
  _8n_node.colour = "cyan";
  _8n_node.name = void 0;
  _8n_node.graph = _6_graph;
  _8n_node.width = ".3";
  _8n_node.height = ".3";
  var _8s_ = [_8a_, _5v_];
  _8n_node.links = _8s_;

  _9_.set("nd53", _8n_node);

  var _8j_node = (__constructor.prototype = _3y_, new __constructor());

  _8j_node.key = "nd54";
  _8j_node.shape = null;
  _8j_node.text = 3;
  _8j_node.colour = "mediumpurple1";
  _8j_node.name = 3;
  _8j_node.graph = _6_graph;
  _8j_node.width = null;
  _8j_node.height = null;
  var _8m_ = [_8a_];
  _8j_node.links = _8m_;

  _9_.set("nd54", _8j_node);

  var _8u_node = (__constructor.prototype = _7a_, new __constructor());

  _8u_node.key = "nd59";
  _8u_node.shape = null;
  _8u_node.text = "C0";
  _8u_node.colour = "cyan";
  _8u_node.name = void 0;
  _8u_node.graph = _6_graph;
  _8u_node.width = ".3";
  _8u_node.height = ".3";
  var _8z_ = [_69_];
  _8u_node.links = _8z_;

  _9_.set("nd59", _8u_node);

  var _97_node = (__constructor.prototype = _3W_, new __constructor());

  _97_node.key = "nd60";
  _97_node.shape = null;
  _97_node.text = "?";
  _97_node.colour = "cyan";
  _97_node.name = "m";
  _97_node.graph = _6_graph;
  _97_node.width = ".3";
  _97_node.height = ".3";
  var _9C_ = [_5e_, _5K_];
  _97_node.links = _9C_;

  _9_.set("nd60", _97_node);

  var _9D_node = (__constructor.prototype = _3W_, new __constructor());

  _9D_node.key = "nd61";
  _9D_node.shape = null;
  _9D_node.text = "?";
  _9D_node.colour = "cyan";
  _9D_node.name = "x";
  _9D_node.graph = _6_graph;
  _9D_node.width = ".3";
  _9D_node.height = ".3";
  var _9J_ = [_5i_outLink, _4w_link];
  _9D_node.links = _9J_;

  _9_.set("nd61", _9D_node);

  var _9L_node = (__constructor.prototype = _7w_, new __constructor());

  _9L_node.key = "nd63";
  _9L_node.shape = null;
  _9L_node.text = "D";
  _9L_node.colour = "cyan";
  _9L_node.name = void 0;
  _9L_node.graph = _6_graph;
  _9L_node.width = ".3";
  _9L_node.height = ".3";
  var _9Q_ = [_54_, _59_];
  _9L_node.links = _9Q_;

  _9_.set("nd63", _9L_node);

  var _9R_node = (__constructor.prototype = _81_, new __constructor());

  _9R_node.key = "nd64";
  _9R_node.shape = null;
  _9R_node.text = "s";
  _9R_node.colour = "indianred1";
  _9R_node.name = void 0;
  _9R_node.graph = _6_graph;
  _9R_node.width = null;
  _9R_node.height = null;
  var _9U_ = [_5D_];
  _9R_node.links = _9U_;

  _9_.set("nd64", _9R_node);

  var _9b_node = (__constructor.prototype = _3W_, new __constructor());

  _9b_node.key = "nd67";
  _9b_node.shape = null;
  _9b_node.text = "?";
  _9b_node.colour = "cyan";
  _9b_node.name = "x";
  _9b_node.graph = _6_graph;
  _9b_node.width = ".3";
  _9b_node.height = ".3";
  var _9g_ = [_4w_link, _1J_link];
  _9b_node.links = _9g_;

  _9_.set("nd67", _9b_node);

  var _9i_node = (__constructor.prototype = _7w_, new __constructor());

  _9i_node.key = "nd69";
  _9i_node.shape = null;
  _9i_node.text = "D";
  _9i_node.colour = "cyan";
  _9i_node.name = void 0;
  _9i_node.graph = _6_graph;
  _9i_node.width = ".3";
  _9i_node.height = ".3";
  var _9n_ = [_i_link, _19_link];
  _9i_node.links = _9n_;

  _9_.set("nd69", _9i_node);

  var _9o_node = (__constructor.prototype = _4o_, new __constructor());

  _9o_node.key = "nd70";
  _9o_node.shape = null;
  _9o_node.text = "@";
  _9o_node.colour = "yellow";
  _9o_node.name = void 0;
  _9o_node.graph = _6_graph;
  _9o_node.width = null;
  _9o_node.height = null;
  var _9r_ = [_z_link, _13_nextLink, _1D_link];
  _9o_node.links = _9r_;

  _9_.set("nd70", _9o_node);

  var _9s_node = (__constructor.prototype = _4o_, new __constructor());

  _9s_node.key = "nd71";
  _9s_node.shape = null;
  _9s_node.text = "@";
  _9s_node.colour = "yellow";
  _9s_node.name = void 0;
  _9s_node.graph = _6_graph;
  _9s_node.width = null;
  _9s_node.height = null;
  var _9v_ = [_n_link, _r_link, _v_link];
  _9s_node.links = _9v_;

  _9_.set("nd71", _9s_node);

  var _9w_fromNode = (__constructor.prototype = _7w_, new __constructor());

  _9w_fromNode.key = "nd74";
  _9w_fromNode.shape = null;
  _9w_fromNode.text = "D";
  _9w_fromNode.colour = "cyan";
  _9w_fromNode.name = "max";
  _9w_fromNode.graph = _6_graph;
  _9w_fromNode.width = ".3";
  _9w_fromNode.height = ".3";
  var _A2_ = [_n_link, _L_outLink,,];
  _A2_.length = 2;
  _9w_fromNode.links = _A2_;

  _9_.set("nd74", _9w_fromNode);

  var _A9_ = (__constructor.prototype = _1d_, new __constructor());

  _Hu_Deref.prototype = _A9_;

  _$6_Object_46setPrototypeOf(_Hu_Deref, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hu_Deref, _$5_Object_46defineProperty(_A9_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hv_, _$5_Object_46defineProperty(_A9_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hw_, _$5_Object_46defineProperty(_A9_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _A4_node = (__constructor.prototype = _A9_, new __constructor());

  _A4_node.key = "nd77";
  _A4_node.shape = null;
  _A4_node.text = "d";
  _A4_node.colour = "mediumpurple1";
  _A4_node.name = void 0;
  _A4_node.graph = _6_graph;
  _A4_node.width = null;
  _A4_node.height = null;
  var _A7_ = [_r_link, _1G_link,,];
  _A7_.length = 2;
  _A4_node.links = _A7_;

  _9_.set("nd77", _A4_node);

  var _AA_node = (__constructor.prototype = _7w_, new __constructor());

  _AA_node.key = "nd80";
  _AA_node.shape = null;
  _AA_node.text = "D";
  _AA_node.colour = "cyan";
  _AA_node.name = void 0;
  _AA_node.graph = _6_graph;
  _AA_node.width = ".3";
  _AA_node.height = ".3";
  var _AF_ = [_v_link, _z_link];
  _AA_node.links = _AF_;

  _9_.set("nd80", _AA_node);

  var _AG_otherNode = (__constructor.prototype = _A9_, new __constructor());

  _AG_otherNode.key = "nd83";
  _AG_otherNode.shape = null;
  _AG_otherNode.text = "d";
  _AG_otherNode.colour = "mediumpurple1";
  _AG_otherNode.name = void 0;
  _AG_otherNode.graph = _6_graph;
  _AG_otherNode.width = null;
  _AG_otherNode.height = null;
  var _AJ_ = [_13_nextLink, _1R_otherNextLink,,];
  _AJ_.length = 2;
  _AG_otherNode.links = _AJ_;

  _9_.set("nd83", _AG_otherNode);

  var _AL_fromNode = (__constructor.prototype = _37_, new __constructor());

  _AL_fromNode.key = "nd86";
  _AL_fromNode.shape = null;
  _AL_fromNode.text = "C";
  _AL_fromNode.colour = "cyan";
  _AL_fromNode.name = "x";
  _AL_fromNode.graph = _6_graph;
  _AL_fromNode.width = ".3";
  _AL_fromNode.height = ".3";
  var _AQ_ = [_1G_link, _1J_link, _a_outLink,,];
  _AQ_.length = 3;
  _AL_fromNode.links = _AQ_;

  _9_.set("nd86", _AL_fromNode);

  var _4V_node = (__constructor.prototype = _3P_, new __constructor());

  _4V_node.key = "nd94";
  _4V_node.shape = null;
  _4V_node.text = "!";
  _4V_node.colour = "cyan";
  _4V_node.name = void 0;
  _4V_node.graph = _6_graph;
  _4V_node.width = ".3";
  _4V_node.height = ".3";
  var _4a_ = [_4I_link, _V_outLink];
  _4V_node.links = _4a_;

  _9_.set("nd94", _4V_node);

  var _4R_node = (__constructor.prototype = _3y_, new __constructor());

  _4R_node.key = "nd95";
  _4R_node.shape = null;
  _4R_node.text = 2;
  _4R_node.colour = "mediumpurple1";
  _4R_node.name = 2;
  _4R_node.graph = _6_graph;
  _4R_node.width = null;
  _4R_node.height = null;
  var _4U_ = [_4I_link];
  _4R_node.links = _4U_;

  _9_.set("nd95", _4R_node);

  var _3z_node = (__constructor.prototype = _3P_, new __constructor());

  _3z_node.key = "nd105";
  _3z_node.shape = null;
  _3z_node.text = "!";
  _3z_node.colour = "cyan";
  _3z_node.name = void 0;
  _3z_node.graph = _6_graph;
  _3z_node.width = ".3";
  _3z_node.height = ".3";
  var _44_ = [_3l_link, _F_outLink];
  _3z_node.links = _44_;

  _9_.set("nd105", _3z_node);

  var _3u_node = (__constructor.prototype = _3y_, new __constructor());

  _3u_node.key = "nd106";
  _3u_node.shape = null;
  _3u_node.text = 1;
  _3u_node.colour = "mediumpurple1";
  _3u_node.name = 1;
  _3u_node.graph = _6_graph;
  _3u_node.width = null;
  _3u_node.height = null;
  var _3x_ = [_3l_link];
  _3u_node.links = _3x_;

  _9_.set("nd106", _3u_node);

  var _3a_toNode = (__constructor.prototype = _3P_, new __constructor());

  _3a_toNode.key = "nd115";
  _3a_toNode.shape = null;
  _3a_toNode.text = "!";
  _3a_toNode.colour = "cyan";
  _3a_toNode.name = void 0;
  _3a_toNode.graph = _6_graph;
  _3a_toNode.width = ".3";
  _3a_toNode.height = ".3";
  var _3f_ = [_1h_link, _L_outLink,,];
  _3f_.length = 2;
  _3a_toNode.links = _3f_;

  _9_.set("nd115", _3a_toNode);

  var _1z_node = (__constructor.prototype = _23_, new __constructor());

  _1z_node.key = "nd116";
  _1z_node.shape = null;
  _1z_node.text = "\u03BB";
  _1z_node.colour = "yellow";
  _1z_node.name = void 0;
  _1z_node.graph = _6_graph;
  _1z_node.width = null;
  _1z_node.height = null;
  var _22_ = [_1h_link, _1p_, _1t_];
  _1z_node.links = _22_;

  _9_.set("nd116", _1z_node);

  var _3J_node = (__constructor.prototype = _3P_, new __constructor());

  _3J_node.key = "nd119";
  _3J_node.shape = null;
  _3J_node.text = "!";
  _3J_node.colour = "cyan";
  _3J_node.name = void 0;
  _3J_node.graph = _6_graph;
  _3J_node.width = ".3";
  _3J_node.height = ".3";
  var _3O_ = [_27_, _1p_];
  _3J_node.links = _3O_;

  _9_.set("nd119", _3J_node);

  var _2j_node = (__constructor.prototype = _23_, new __constructor());

  _2j_node.key = "nd120";
  _2j_node.shape = null;
  _2j_node.text = "\u03BB";
  _2j_node.colour = "yellow";
  _2j_node.name = void 0;
  _2j_node.graph = _6_graph;
  _2j_node.width = null;
  _2j_node.height = null;
  var _2m_ = [_27_, _2b_, _2e_];
  _2j_node.links = _2m_;

  _9_.set("nd120", _2j_node);

  var _2s_ = (__constructor.prototype = _1d_, new __constructor());

  _Gr_If.prototype = _2s_;

  _$6_Object_46setPrototypeOf(_Gr_If, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gr_If, _$5_Object_46defineProperty(_2s_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gs_, _$5_Object_46defineProperty(_2s_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gt_, _$5_Object_46defineProperty(_2s_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gu_, _$5_Object_46defineProperty(_2s_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _2n_fromNode = (__constructor.prototype = _2s_, new __constructor());

  _2n_fromNode.key = "nd121";
  _2n_fromNode.shape = null;
  _2n_fromNode.text = "if";
  _2n_fromNode.colour = "mediumpurple1";
  _2n_fromNode.name = void 0;
  _2n_fromNode.graph = _6_graph;
  _2n_fromNode.width = null;
  _2n_fromNode.height = null;
  var _2q_ = [_2J_, _2b_, _2S_outLink, _2Y_outLink,,];
  _2q_.length = 4;
  _2n_fromNode.links = _2q_;

  _9_.set("nd121", _2n_fromNode);

  var _2z_ = (__constructor.prototype = _1d_, new __constructor());

  _Gv_BinOp.prototype = _2z_;
  var _Iw_BinOpType = {
    And: 0,
    Or: 1,
    Plus: 2,
    Sub: 3,
    Mult: 4,
    Div: 7,
    Lte: 5
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Iu_, _$5_Object_46defineProperty(_Gv_BinOp, "createPlus", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Iv_, _$5_Object_46defineProperty(_Gv_BinOp, "createMult", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  _$6_Object_46setPrototypeOf(_Gv_BinOp, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gv_BinOp, _$5_Object_46defineProperty(_2z_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gw_, _$5_Object_46defineProperty(_2z_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gx_, _$5_Object_46defineProperty(_2z_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gy_, _$5_Object_46defineProperty(_2z_, "binOpApply", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gz_, _$5_Object_46defineProperty(_2z_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _2t_fromNode = (__constructor.prototype = _2z_, new __constructor());

  _2t_fromNode.key = "nd122";
  _2t_fromNode.shape = null;
  _2t_fromNode.text = "<=";
  _2t_fromNode.colour = "mediumpurple1";
  _2t_fromNode.name = void 0;
  _2t_fromNode.graph = _6_graph;
  _2t_fromNode.width = null;
  _2t_fromNode.height = null;
  var _2w_ = [_2J_, _2V_outLink, _2O_outLink,,];
  _2w_.length = 3;
  _2t_fromNode.links = _2w_;
  _2t_fromNode.subType = 5;

  _9_.set("nd122", _2t_fromNode);

  var _30_node = (__constructor.prototype = _37_, new __constructor());

  _30_node.key = "nd132";
  _30_node.shape = null;
  _30_node.text = "C";
  _30_node.colour = "cyan";
  _30_node.name = "y";
  _30_node.graph = _6_graph;
  _30_node.width = ".3";
  _30_node.height = ".3";
  var _36_ = [_2O_outLink, _2S_outLink, _2e_];
  _30_node.links = _36_;

  _9_.set("nd132", _30_node);

  var _39_node = (__constructor.prototype = _37_, new __constructor());

  _39_node.key = "nd133";
  _39_node.shape = null;
  _39_node.text = "C";
  _39_node.colour = "cyan";
  _39_node.name = "x";
  _39_node.graph = _6_graph;
  _39_node.width = ".3";
  _39_node.height = ".3";
  var _3F_ = [_2V_outLink, _2Y_outLink, _2B_];
  _39_node.links = _3F_;

  _9_.set("nd133", _39_node);

  var _3Q_node = (__constructor.prototype = _3W_, new __constructor());

  _3Q_node.key = "nd135";
  _3Q_node.shape = null;
  _3Q_node.text = "?";
  _3Q_node.colour = "cyan";
  _3Q_node.name = "x";
  _3Q_node.graph = _6_graph;
  _3Q_node.width = ".3";
  _3Q_node.height = ".3";
  var _3V_ = [_2B_, _1t_];
  _3Q_node.links = _3V_;

  _9_.set("nd135", _3Q_node);

  var _4B_ = (__constructor.prototype = _1d_, new __constructor());

  _Hb_Mod.prototype = _4B_;

  _$6_Object_46setPrototypeOf(_Hb_Mod, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hb_Mod, _$5_Object_46defineProperty(_4B_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hc_, _$5_Object_46defineProperty(_4B_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hd_, _$5_Object_46defineProperty(_4B_, "update", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _He_, _$5_Object_46defineProperty(_4B_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _46_toNode = (__constructor.prototype = _4B_, new __constructor());

  _46_toNode.key = "nd139";
  _46_toNode.shape = null;
  _46_toNode.text = "M";
  _46_toNode.colour = "indianred1";
  _46_toNode.name = void 0;
  _46_toNode.graph = _6_graph;
  _46_toNode.width = null;
  _46_toNode.height = null;
  var _49_ = [_R_, _F_outLink, _a_outLink,,];
  _49_.length = 3;
  _46_toNode.links = _49_;

  _9_.set("nd139", _46_toNode);

  var _4C_toNode = (__constructor.prototype = _3y_, new __constructor());

  _4C_toNode.key = "nd140";
  _4C_toNode.shape = null;
  _4C_toNode.text = 1;
  _4C_toNode.colour = "mediumpurple1";
  _4C_toNode.name = 1;
  _4C_toNode.graph = _6_graph;
  _4C_toNode.width = null;
  _4C_toNode.height = null;
  var _4E_ = [_R_];
  _4C_toNode.links = _4E_;

  _9_.set("nd140", _4C_toNode);

  var _4c_toNode = (__constructor.prototype = _4B_, new __constructor());

  _4c_toNode.key = "nd141";
  _4c_toNode.shape = null;
  _4c_toNode.text = "M";
  _4c_toNode.colour = "indianred1";
  _4c_toNode.name = void 0;
  _4c_toNode.graph = _6_graph;
  _4c_toNode.width = null;
  _4c_toNode.height = null;
  var _4f_ = [_e_, _V_outLink, _1R_otherNextLink,,];
  _4f_.length = 3;
  _4c_toNode.links = _4f_;

  _9_.set("nd141", _4c_toNode);

  var _4h_toNode = (__constructor.prototype = _3y_, new __constructor());

  _4h_toNode.key = "nd142";
  _4h_toNode.shape = null;
  _4h_toNode.text = 2;
  _4h_toNode.colour = "mediumpurple1";
  _4h_toNode.name = 2;
  _4h_toNode.graph = _6_graph;
  _4h_toNode.width = null;
  _4h_toNode.height = null;
  var _4j_ = [_e_];
  _4h_toNode.links = _4j_;

  _9_.set("nd142", _4h_toNode);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gc_, _$5_Object_46defineProperty(_1d_, "addToGraph", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gd_, _$5_Object_46defineProperty(_1d_, "addToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ge_, _$5_Object_46defineProperty(_1d_, "changeToGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gf_, _$5_Object_46defineProperty(_1d_, "findLinksConnected", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gg_, _$5_Object_46defineProperty(_1d_, "findLinksInto", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gh_, _$5_Object_46defineProperty(_1d_, "findLinksOutOf", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gi_, _$5_Object_46defineProperty(_1d_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gj_, _$5_Object_46defineProperty(_1d_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gk_, _$5_Object_46defineProperty(_1d_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Gl_, _$5_Object_46defineProperty(_1d_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3I_ = (__constructor.prototype = _1d_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HA_Group, _$5_Object_46defineProperty(_3I_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HB_, _$5_Object_46defineProperty(_3I_, "addNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HC_, _$5_Object_46defineProperty(_3I_, "removeNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HD_, _$5_Object_46defineProperty(_3I_, "addLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HE_, _$5_Object_46defineProperty(_3I_, "removeLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HF_, _$5_Object_46defineProperty(_3I_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _B_ = (__constructor.prototype = _3I_, new __constructor());

  _B_.key = "nd0";
  _B_.shape = null;
  _B_.text = null;
  _B_.colour = null;
  _B_.name = void 0;
  _B_.graph = _6_graph;
  _B_.group = null;
  _B_.width = null;
  _B_.height = null;
  var _E_ = [_F_outLink, _L_outLink, _R_, _V_outLink, _a_outLink, _e_, _i_link, _n_link, _r_link, _v_link, _z_link, _13_nextLink, _19_link, _1D_link, _1G_link, _1J_link, _1N_link, _1R_otherNextLink,,,,,,,,];
  _E_.length = 18;
  _B_.links = _E_;

  var _3Z_ = (__constructor.prototype = _3I_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HV_Term, _$5_Object_46defineProperty(_3Z_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HW_, _$5_Object_46defineProperty(_3Z_, "set", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HX_, _$5_Object_46defineProperty(_3Z_, "createPaxsOnTopOf", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _3Y_ = (__constructor.prototype = _3Z_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HN_BoxWrapper, _$5_Object_46defineProperty(_3Y_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HO_, _$5_Object_46defineProperty(_3Y_, "set", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HP_, _$5_Object_46defineProperty(_3Y_, "removeAux", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HQ_, _$5_Object_46defineProperty(_3Y_, "moveOut", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HR_, _$5_Object_46defineProperty(_3Y_, "copyBox", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HS_, _$5_Object_46defineProperty(_3Y_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HT_, _$5_Object_46defineProperty(_3Y_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _HU_, _$5_Object_46defineProperty(_3Y_, "deleteAndPreserveLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1e_node = (__constructor.prototype = _3Y_, new __constructor());

  _1e_node.key = "nd113";
  _1e_node.shape = null;
  _1e_node.text = null;
  _1e_node.colour = null;
  _1e_node.name = void 0;
  _1e_node.graph = _6_graph;
  _1e_node.group = _B_;
  _1e_node.width = null;
  _1e_node.height = null;
  var _1g_ = [_1h_link];
  _1e_node.links = _1g_;

  var _3H_ = (__constructor.prototype = _3I_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H8_Box, _$5_Object_46defineProperty(_3H_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _H9_, _$5_Object_46defineProperty(_3H_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _1m_node = (__constructor.prototype = _3H_, new __constructor());

  _1m_node.key = "nd114";
  _1m_node.shape = null;
  _1m_node.text = null;
  _1m_node.colour = null;
  _1m_node.name = void 0;
  _1m_node.graph = _6_graph;
  _1m_node.group = _1e_node;
  _1m_node.width = null;
  _1m_node.height = null;
  var _1o_ = [_1p_, _1t_];
  _1m_node.links = _1o_;

  var _24_node = (__constructor.prototype = _3Y_, new __constructor());

  _24_node.key = "nd117";
  _24_node.shape = null;
  _24_node.text = null;
  _24_node.colour = null;
  _24_node.name = void 0;
  _24_node.graph = _6_graph;
  _24_node.group = _1m_node;
  _24_node.width = null;
  _24_node.height = null;
  var _26_ = [_27_, _2B_];
  _24_node.links = _26_;

  var _2G_node = (__constructor.prototype = _3H_, new __constructor());

  _2G_node.key = "nd118";
  _2G_node.shape = null;
  _2G_node.text = null;
  _2G_node.colour = null;
  _2G_node.name = void 0;
  _2G_node.graph = _6_graph;
  _2G_node.group = _24_node;
  _2G_node.width = null;
  _2G_node.height = null;
  var _2I_ = [_2J_, _2O_outLink, _2S_outLink, _2V_outLink, _2Y_outLink, _2b_, _2e_,,,,,];
  _2I_.length = 7;
  _2G_node.links = _2I_;
  var _2i_ = [_2j_node, _2n_fromNode, _2t_fromNode, _30_node, _39_node,,,,,];
  _2i_.length = 5;
  _2G_node.nodes = _2i_;
  var _2F_ = [_2G_node, _3J_node, _3Q_node];
  _24_node.nodes = _2F_;
  _24_node.prin = _3J_node;
  var _3X_newPaxs = [_3Q_node];
  _24_node.auxs = _3X_newPaxs;
  _24_node.box = _2G_node;
  var _1y_ = [_1z_node, _24_node];
  _1m_node.nodes = _1y_;
  var _1l_ = [_1m_node, _3a_toNode];
  _1e_node.nodes = _1l_;
  _1e_node.prin = _3a_toNode;
  var _3h_newPaxs = [];
  _1e_node.auxs = _3h_newPaxs;
  _1e_node.box = _1m_node;

  var _3i_node = (__constructor.prototype = _3Y_, new __constructor());

  _3i_node.key = "nd103";
  _3i_node.shape = null;
  _3i_node.text = null;
  _3i_node.colour = null;
  _3i_node.name = void 0;
  _3i_node.graph = _6_graph;
  _3i_node.group = _B_;
  _3i_node.width = null;
  _3i_node.height = null;
  var _3k_ = [_3l_link];
  _3i_node.links = _3k_;

  var _3q_node = (__constructor.prototype = _3H_, new __constructor());

  _3q_node.key = "nd104";
  _3q_node.shape = null;
  _3q_node.text = null;
  _3q_node.colour = null;
  _3q_node.name = void 0;
  _3q_node.graph = _6_graph;
  _3q_node.group = _3i_node;
  _3q_node.width = null;
  _3q_node.height = null;
  var _3s_ = [];
  _3q_node.links = _3s_;
  var _3t_ = [_3u_node];
  _3q_node.nodes = _3t_;
  var _3p_ = [_3q_node, _3z_node];
  _3i_node.nodes = _3p_;
  _3i_node.prin = _3z_node;
  var _45_ = [];
  _3i_node.auxs = _45_;
  _3i_node.box = _3q_node;

  var _4F_node = (__constructor.prototype = _3Y_, new __constructor());

  _4F_node.key = "nd92";
  _4F_node.shape = null;
  _4F_node.text = null;
  _4F_node.colour = null;
  _4F_node.name = void 0;
  _4F_node.graph = _6_graph;
  _4F_node.group = _B_;
  _4F_node.width = null;
  _4F_node.height = null;
  var _4H_ = [_4I_link];
  _4F_node.links = _4H_;

  var _4N_node = (__constructor.prototype = _3H_, new __constructor());

  _4N_node.key = "nd93";
  _4N_node.shape = null;
  _4N_node.text = null;
  _4N_node.colour = null;
  _4N_node.name = void 0;
  _4N_node.graph = _6_graph;
  _4N_node.group = _4F_node;
  _4N_node.width = null;
  _4N_node.height = null;
  var _4P_ = [];
  _4N_node.links = _4P_;
  var _4Q_ = [_4R_node];
  _4N_node.nodes = _4Q_;
  var _4M_ = [_4N_node, _4V_node];
  _4F_node.nodes = _4M_;
  _4F_node.prin = _4V_node;
  var _4b_ = [];
  _4F_node.auxs = _4b_;
  _4F_node.box = _4N_node;

  var _4p_node = (__constructor.prototype = _3Y_, new __constructor());

  _4p_node.key = "nd18";
  _4p_node.shape = null;
  _4p_node.text = null;
  _4p_node.colour = null;
  _4p_node.name = void 0;
  _4p_node.graph = _6_graph;
  _4p_node.group = _B_;
  _4p_node.width = null;
  _4p_node.height = null;
  var _4r_ = [_4s_, _4w_link];
  _4p_node.links = _4r_;

  var _51_node = (__constructor.prototype = _3H_, new __constructor());

  _51_node.key = "nd19";
  _51_node.shape = null;
  _51_node.text = null;
  _51_node.colour = null;
  _51_node.name = void 0;
  _51_node.graph = _6_graph;
  _51_node.group = _4p_node;
  _51_node.width = null;
  _51_node.height = null;
  var _53_ = [_54_, _59_, _5D_, _5H_, _5K_];
  _51_node.links = _53_;

  var _5X_node = (__constructor.prototype = _3Y_, new __constructor());

  _5X_node.key = "nd23";
  _5X_node.shape = null;
  _5X_node.text = null;
  _5X_node.colour = null;
  _5X_node.name = void 0;
  _5X_node.graph = _6_graph;
  _5X_node.group = _51_node;
  _5X_node.width = null;
  _5X_node.height = null;
  var _5Z_ = [_5a_, _5e_, _5i_outLink];
  _5X_node.links = _5Z_;

  var _5n_node = (__constructor.prototype = _3H_, new __constructor());

  _5n_node.key = "nd24";
  _5n_node.shape = null;
  _5n_node.text = null;
  _5n_node.colour = null;
  _5n_node.name = void 0;
  _5n_node.graph = _6_graph;
  _5n_node.group = _5X_node;
  _5n_node.width = null;
  _5n_node.height = null;
  var _5p_ = [_5q_, _5v_, _5z_, _63_, _66_, _69_,,];
  _5p_.length = 6;
  _5n_node.links = _5p_;

  var _6N_node = (__constructor.prototype = _3Y_, new __constructor());

  _6N_node.key = "nd28";
  _6N_node.shape = null;
  _6N_node.text = null;
  _6N_node.colour = null;
  _6N_node.name = void 0;
  _6N_node.graph = _6_graph;
  _6N_node.group = _5n_node;
  _6N_node.width = null;
  _6N_node.height = null;
  var _6P_ = [_6Q_, _6U_link];
  _6N_node.links = _6P_;

  var _6Z_node = (__constructor.prototype = _3H_, new __constructor());

  _6Z_node.key = "nd29";
  _6Z_node.shape = null;
  _6Z_node.text = null;
  _6Z_node.colour = null;
  _6Z_node.name = void 0;
  _6Z_node.graph = _6_graph;
  _6Z_node.group = _6N_node;
  _6Z_node.width = null;
  _6Z_node.height = null;
  var _6b_ = [_6c_, _6h_, _6l_, _6p_, _6s_];
  _6Z_node.links = _6b_;

  var _75_node = (__constructor.prototype = _3Y_, new __constructor());

  _75_node.key = "nd33";
  _75_node.shape = null;
  _75_node.text = null;
  _75_node.colour = null;
  _75_node.name = void 0;
  _75_node.graph = _6_graph;
  _75_node.group = _6Z_node;
  _75_node.width = null;
  _75_node.height = null;
  var _77_ = [_78_, _7C_outLink];
  _75_node.links = _77_;

  var _7G_node = (__constructor.prototype = _3H_, new __constructor());

  _7G_node.key = "nd34";
  _7G_node.shape = null;
  _7G_node.text = null;
  _7G_node.colour = null;
  _7G_node.name = void 0;
  _7G_node.graph = _6_graph;
  _7G_node.group = _75_node;
  _7G_node.width = null;
  _7G_node.height = null;
  var _7I_ = [_7J_,,];
  _7I_.length = 1;
  _7G_node.links = _7I_;
  var _7O_ = [_7P_fromNode, _7U_node,,];
  _7O_.length = 2;
  _7G_node.nodes = _7O_;
  var _7F_ = [_7G_node, _7c_node, _7i_node];
  _75_node.nodes = _7F_;
  _75_node.prin = _7c_node;
  var _7p_newPaxs = [_7i_node];
  _75_node.auxs = _7p_newPaxs;
  _75_node.box = _7G_node;
  var _6w_ = [_6x_node, _71_node, _75_node, _7q_node, _7x_node, _82_node];
  _6Z_node.nodes = _6w_;
  var _6Y_ = [_6Z_node, _88_node, _8E_node];
  _6N_node.nodes = _6Y_;
  _6N_node.prin = _88_node;
  var _8K_newPaxs = [_8E_node];
  _6N_node.auxs = _8K_newPaxs;
  _6N_node.box = _6Z_node;

  var _8X_node = (__constructor.prototype = _3Y_, new __constructor());

  _8X_node.key = "nd51";
  _8X_node.shape = null;
  _8X_node.text = null;
  _8X_node.colour = null;
  _8X_node.name = void 0;
  _8X_node.graph = _6_graph;
  _8X_node.group = _5n_node;
  _8X_node.width = null;
  _8X_node.height = null;
  var _8Z_ = [_8a_];
  _8X_node.links = _8Z_;

  var _8f_node = (__constructor.prototype = _3H_, new __constructor());

  _8f_node.key = "nd52";
  _8f_node.shape = null;
  _8f_node.text = null;
  _8f_node.colour = null;
  _8f_node.name = void 0;
  _8f_node.graph = _6_graph;
  _8f_node.group = _8X_node;
  _8f_node.width = null;
  _8f_node.height = null;
  var _8h_ = [];
  _8f_node.links = _8h_;
  var _8i_ = [_8j_node];
  _8f_node.nodes = _8i_;
  var _8e_ = [_8f_node, _8n_node];
  _8X_node.nodes = _8e_;
  _8X_node.prin = _8n_node;
  var _8t_ = [];
  _8X_node.auxs = _8t_;
  _8X_node.box = _8f_node;
  var _6E_ = [_6F_node, _6J_node, _6N_node, _8L_node, _8R_fromNode, _8X_node, _8u_node,,];
  _6E_.length = 7;
  _5n_node.nodes = _6E_;
  var _5m_ = [_5n_node, _91_node, _97_node, _9D_node];
  _5X_node.nodes = _5m_;
  _5X_node.prin = _91_node;
  var _9K_newPaxs = [_97_node, _9D_node];
  _5X_node.auxs = _9K_newPaxs;
  _5X_node.box = _5n_node;
  var _5O_ = [_5P_node, _5T_node, _5X_node, _9L_node, _9R_node];
  _51_node.nodes = _5O_;
  var _50_ = [_51_node, _9V_node, _9b_node];
  _4p_node.nodes = _50_;
  _4p_node.prin = _9V_node;
  var _9h_newPaxs = [_9b_node];
  _4p_node.auxs = _9h_newPaxs;
  _4p_node.box = _51_node;
  var _1V_ = [_1W_fromNode, _1e_node, _3i_node, _46_toNode, _4C_toNode, _4F_node, _4c_toNode, _4h_toNode, _4k_node, _4p_node, _9i_node, _9o_node, _9s_node, _9w_fromNode, _A4_node, _AA_node, _AG_otherNode, _AL_fromNode,,,,,,,,,];
  _1V_.length = 18;
  _B_.nodes = _1V_;
  _6_graph.child = _B_;

  _9_.set("nd0", _B_);

  _9_.set("nd18", _4p_node);

  _9_.set("nd19", _51_node);

  _9_.set("nd23", _5X_node);

  _9_.set("nd24", _5n_node);

  _9_.set("nd28", _6N_node);

  _9_.set("nd29", _6Z_node);

  _9_.set("nd33", _75_node);

  _9_.set("nd34", _7G_node);

  var _AU_term = (__constructor.prototype = _3Z_, new __constructor());

  _AU_term.key = "nd38";
  _AU_term.shape = null;
  _AU_term.text = null;
  _AU_term.colour = null;
  _AU_term.name = void 0;
  _AU_term.graph = _6_graph;
  _AU_term.group = null;
  _AU_term.width = null;
  _AU_term.height = null;
  var _AV_ = [];
  _AU_term.links = _AV_;
  var _AW_ = [];
  _AU_term.nodes = _AW_;

  var _Af_ = (__constructor.prototype = _7w_, new __constructor());

  _Hx_Var.prototype = _Af_;

  _$6_Object_46setPrototypeOf(_Hx_Var, _Hk_Der);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hx_Var, _$5_Object_46defineProperty(_Af_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hy_, _$5_Object_46defineProperty(_Af_, "deleteAndPreserveOutLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _AX_toNode = (__constructor.prototype = _Af_, new __constructor());

  _AX_toNode.key = "nd37";
  _AX_toNode.shape = null;
  _AX_toNode.text = "V";
  _AX_toNode.colour = "cyan";
  _AX_toNode.name = "m";
  _AX_toNode.graph = _6_graph;
  _AX_toNode.group = _7G_node;
  _AX_toNode.width = ".3";
  _AX_toNode.height = ".3";
  var _Ad_ = [,,];
  _Ad_.length = 0;
  _AX_toNode.links = _Ad_;
  _AU_term.prin = _AX_toNode;
  var _Ag_ = [_AX_toNode];
  _AU_term.auxs = _Ag_;

  _9_.set("nd38", _AU_term);

  var _Ai_left = (__constructor.prototype = _3Z_, new __constructor());

  _Ai_left.key = "nd41";
  _Ai_left.shape = null;
  _Ai_left.text = null;
  _Ai_left.colour = null;
  _Ai_left.name = void 0;
  _Ai_left.graph = _6_graph;
  _Ai_left.group = null;
  _Ai_left.width = null;
  _Ai_left.height = null;
  var _Aj_ = [];
  _Ai_left.links = _Aj_;
  var _Ak_ = [];
  _Ai_left.nodes = _Ak_;
  _Ai_left.prin = _7c_node;
  _Ai_left.auxs = _7p_newPaxs;

  _9_.set("nd41", _Ai_left);

  var _Am_right = (__constructor.prototype = _3Z_, new __constructor());

  _Am_right.key = "nd44";
  _Am_right.shape = null;
  _Am_right.text = null;
  _Am_right.colour = null;
  _Am_right.name = void 0;
  _Am_right.graph = _6_graph;
  _Am_right.group = null;
  _Am_right.width = null;
  _Am_right.height = null;
  var _An_ = [];
  _Am_right.links = _An_;
  var _Ao_ = [];
  _Am_right.nodes = _Ao_;
  _Am_right.prin = _7x_node;
  var _Ap_ = [];
  _Am_right.auxs = _Ap_;

  _9_.set("nd44", _Am_right);

  var _Ar_term = (__constructor.prototype = _3Z_, new __constructor());

  _Ar_term.key = "nd45";
  _Ar_term.shape = null;
  _Ar_term.text = null;
  _Ar_term.colour = null;
  _Ar_term.name = void 0;
  _Ar_term.graph = _6_graph;
  _Ar_term.group = null;
  _Ar_term.width = null;
  _Ar_term.height = null;
  var _As_ = [];
  _Ar_term.links = _As_;
  var _At_ = [];
  _Ar_term.nodes = _At_;
  _Ar_term.prin = _71_node;
  var _Au_newAuxs = [_7i_node];
  _Ar_term.auxs = _Au_newAuxs;

  _9_.set("nd45", _Ar_term);

  var _Aw_left = (__constructor.prototype = _3Z_, new __constructor());

  _Aw_left.key = "nd48";
  _Aw_left.shape = null;
  _Aw_left.text = null;
  _Aw_left.colour = null;
  _Aw_left.name = void 0;
  _Aw_left.graph = _6_graph;
  _Aw_left.group = null;
  _Aw_left.width = null;
  _Aw_left.height = null;
  var _Ax_ = [];
  _Aw_left.links = _Ax_;
  var _Ay_ = [];
  _Aw_left.nodes = _Ay_;
  _Aw_left.prin = _88_node;
  _Aw_left.auxs = _8K_newPaxs;

  _9_.set("nd48", _Aw_left);

  _9_.set("nd51", _8X_node);

  _9_.set("nd52", _8f_node);

  var _B0_term = (__constructor.prototype = _3Z_, new __constructor());

  _B0_term.key = "nd55";
  _B0_term.shape = null;
  _B0_term.text = null;
  _B0_term.colour = null;
  _B0_term.name = void 0;
  _B0_term.graph = _6_graph;
  _B0_term.group = null;
  _B0_term.width = null;
  _B0_term.height = null;
  var _B1_ = [];
  _B0_term.links = _B1_;
  var _B2_ = [];
  _B0_term.nodes = _B2_;
  _B0_term.prin = _8n_node;
  _B0_term.auxs = _8t_;

  _9_.set("nd55", _B0_term);

  var _B4_right = (__constructor.prototype = _3Z_, new __constructor());

  _B4_right.key = "nd57";
  _B4_right.shape = null;
  _B4_right.text = null;
  _B4_right.colour = null;
  _B4_right.name = void 0;
  _B4_right.graph = _6_graph;
  _B4_right.group = null;
  _B4_right.width = null;
  _B4_right.height = null;
  var _B5_ = [];
  _B4_right.links = _B5_;
  var _B6_ = [];
  _B4_right.nodes = _B6_;
  _B4_right.prin = _8R_fromNode;

  var _B8_toNode = (__constructor.prototype = _Af_, new __constructor());

  _B8_toNode.key = "nd56";
  _B8_toNode.shape = null;
  _B8_toNode.text = "V";
  _B8_toNode.colour = "cyan";
  _B8_toNode.name = "x";
  _B8_toNode.graph = _6_graph;
  _B8_toNode.group = _5n_node;
  _B8_toNode.width = ".3";
  _B8_toNode.height = ".3";
  var _BE_ = [,,];
  _BE_.length = 0;
  _B8_toNode.links = _BE_;
  var _B7_auxs = [_B8_toNode];
  _B4_right.auxs = _B7_auxs;

  _9_.set("nd57", _B4_right);

  var _BH_term = (__constructor.prototype = _3Z_, new __constructor());

  _BH_term.key = "nd58";
  _BH_term.shape = null;
  _BH_term.text = null;
  _BH_term.colour = null;
  _BH_term.name = void 0;
  _BH_term.graph = _6_graph;
  _BH_term.group = null;
  _BH_term.width = null;
  _BH_term.height = null;
  var _BI_ = [];
  _BH_term.links = _BI_;
  var _BJ_ = [];
  _BH_term.nodes = _BJ_;
  _BH_term.prin = _6J_node;
  var _BK_newAuxs = [_8E_node, _B8_toNode];
  _BH_term.auxs = _BK_newAuxs;

  _9_.set("nd58", _BH_term);

  var _BM_left = (__constructor.prototype = _3Z_, new __constructor());

  _BM_left.key = "nd62";
  _BM_left.shape = null;
  _BM_left.text = null;
  _BM_left.colour = null;
  _BM_left.name = void 0;
  _BM_left.graph = _6_graph;
  _BM_left.group = null;
  _BM_left.width = null;
  _BM_left.height = null;
  var _BN_ = [];
  _BM_left.links = _BN_;
  var _BO_ = [];
  _BM_left.nodes = _BO_;
  _BM_left.prin = _91_node;
  _BM_left.auxs = _9K_newPaxs;

  _9_.set("nd62", _BM_left);

  var _BQ_right = (__constructor.prototype = _3Z_, new __constructor());

  _BQ_right.key = "nd65";
  _BQ_right.shape = null;
  _BQ_right.text = null;
  _BQ_right.colour = null;
  _BQ_right.name = void 0;
  _BQ_right.graph = _6_graph;
  _BQ_right.group = null;
  _BQ_right.width = null;
  _BQ_right.height = null;
  var _BR_ = [];
  _BQ_right.links = _BR_;
  var _BS_ = [];
  _BQ_right.nodes = _BS_;
  _BQ_right.prin = _9R_node;
  var _BT_ = [];
  _BQ_right.auxs = _BT_;

  _9_.set("nd65", _BQ_right);

  var _BV_term = (__constructor.prototype = _3Z_, new __constructor());

  _BV_term.key = "nd66";
  _BV_term.shape = null;
  _BV_term.text = null;
  _BV_term.colour = null;
  _BV_term.name = void 0;
  _BV_term.graph = _6_graph;
  _BV_term.group = null;
  _BV_term.width = null;
  _BV_term.height = null;
  var _BW_ = [];
  _BV_term.links = _BW_;
  var _BX_ = [];
  _BV_term.nodes = _BX_;
  _BV_term.prin = _5T_node;
  var _BY_newAuxs = [_97_node, _9D_node];
  _BV_term.auxs = _BY_newAuxs;

  _9_.set("nd66", _BV_term);

  var _Ba_left = (__constructor.prototype = _3Z_, new __constructor());

  _Ba_left.key = "nd68";
  _Ba_left.shape = null;
  _Ba_left.text = null;
  _Ba_left.colour = null;
  _Ba_left.name = void 0;
  _Ba_left.graph = _6_graph;
  _Ba_left.group = null;
  _Ba_left.width = null;
  _Ba_left.height = null;
  var _Bb_ = [];
  _Ba_left.links = _Bb_;
  var _Bc_ = [];
  _Ba_left.nodes = _Bc_;
  _Ba_left.prin = _9V_node;
  _Ba_left.auxs = _9h_newPaxs;

  _9_.set("nd68", _Ba_left);

  var _Be_left = (__constructor.prototype = _3Z_, new __constructor());

  _Be_left.key = "nd73";
  _Be_left.shape = null;
  _Be_left.text = null;
  _Be_left.colour = null;
  _Be_left.name = void 0;
  _Be_left.graph = _6_graph;
  _Be_left.group = null;
  _Be_left.width = null;
  _Be_left.height = null;
  var _Bf_ = [];
  _Be_left.links = _Bf_;
  var _Bg_ = [];
  _Be_left.nodes = _Bg_;

  var _Bh_toNode = (__constructor.prototype = _Af_, new __constructor());

  _Bh_toNode.key = "nd72";
  _Bh_toNode.shape = null;
  _Bh_toNode.text = "V";
  _Bh_toNode.colour = "cyan";
  _Bh_toNode.name = "max";
  _Bh_toNode.graph = _6_graph;

  var _Bl__95node = (__constructor.prototype = _3H_, new __constructor());

  _Bl__95node.key = "nd14";
  _Bl__95node.shape = null;
  _Bl__95node.text = null;
  _Bl__95node.colour = null;
  _Bl__95node.name = void 0;
  _Bl__95node.graph = _6_graph;
  _Bl__95node.group = _B_;
  _Bl__95node.width = null;
  _Bl__95node.height = null;
  var _Bn_ = [,,,,,,,,,,,,,,,];
  _Bn_.length = 0;
  _Bl__95node.links = _Bn_;
  var _Bp_ = [,,,,,,,,,,,,,,];
  _Bp_.length = 0;
  _Bl__95node.nodes = _Bp_;
  _Bh_toNode.group = _Bl__95node;
  _Bh_toNode.width = ".3";
  _Bh_toNode.height = ".3";
  var _Bt_ = [,,];
  _Bt_.length = 0;
  _Bh_toNode.links = _Bt_;
  _Be_left.prin = _Bh_toNode;
  var _Bv_ = [_Bh_toNode];
  _Be_left.auxs = _Bv_;

  _9_.set("nd73", _Be_left);

  var _Bx_term = (__constructor.prototype = _3Z_, new __constructor());

  _Bx_term.key = "nd76";
  _Bx_term.shape = null;
  _Bx_term.text = null;
  _Bx_term.colour = null;
  _Bx_term.name = void 0;
  _Bx_term.graph = _6_graph;
  _Bx_term.group = null;
  _Bx_term.width = null;
  _Bx_term.height = null;
  var _By_ = [];
  _Bx_term.links = _By_;
  var _Bz_ = [];
  _Bx_term.nodes = _Bz_;

  var _C0_toNode = (__constructor.prototype = _Af_, new __constructor());

  _C0_toNode.key = "nd75";
  _C0_toNode.shape = null;
  _C0_toNode.text = "V";
  _C0_toNode.colour = "cyan";
  _C0_toNode.name = "x";
  _C0_toNode.graph = _6_graph;
  _C0_toNode.group = _Bl__95node;
  _C0_toNode.width = ".3";
  _C0_toNode.height = ".3";
  var _C7_ = [,,];
  _C7_.length = 0;
  _C0_toNode.links = _C7_;
  _Bx_term.prin = _C0_toNode;
  var _C9_ = [_C0_toNode];
  _Bx_term.auxs = _C9_;

  _9_.set("nd76", _Bx_term);

  var _CB_right = (__constructor.prototype = _3Z_, new __constructor());

  _CB_right.key = "nd78";
  _CB_right.shape = null;
  _CB_right.text = null;
  _CB_right.colour = null;
  _CB_right.name = void 0;
  _CB_right.graph = _6_graph;
  _CB_right.group = null;
  _CB_right.width = null;
  _CB_right.height = null;
  var _CC_ = [];
  _CB_right.links = _CC_;
  var _CD_ = [];
  _CB_right.nodes = _CD_;
  _CB_right.prin = _A4_node;
  _CB_right.auxs = _C9_;

  _9_.set("nd78", _CB_right);

  var _CF_left = (__constructor.prototype = _3Z_, new __constructor());

  _CF_left.key = "nd79";
  _CF_left.shape = null;
  _CF_left.text = null;
  _CF_left.colour = null;
  _CF_left.name = void 0;
  _CF_left.graph = _6_graph;
  _CF_left.group = null;
  _CF_left.width = null;
  _CF_left.height = null;
  var _CG_ = [];
  _CF_left.links = _CG_;
  var _CH_ = [];
  _CF_left.nodes = _CH_;
  _CF_left.prin = _9s_node;
  var _CI_newAuxs = [_Bh_toNode, _C0_toNode];
  _CF_left.auxs = _CI_newAuxs;

  _9_.set("nd79", _CF_left);

  var _CK_term = (__constructor.prototype = _3Z_, new __constructor());

  _CK_term.key = "nd82";
  _CK_term.shape = null;
  _CK_term.text = null;
  _CK_term.colour = null;
  _CK_term.name = void 0;
  _CK_term.graph = _6_graph;
  _CK_term.group = null;
  _CK_term.width = null;
  _CK_term.height = null;
  var _CL_ = [];
  _CK_term.links = _CL_;
  var _CM_ = [];
  _CK_term.nodes = _CM_;

  var _CN_toNode = (__constructor.prototype = _Af_, new __constructor());

  _CN_toNode.key = "nd81";
  _CN_toNode.shape = null;
  _CN_toNode.text = "V";
  _CN_toNode.colour = "cyan";
  _CN_toNode.name = "y";
  _CN_toNode.graph = _6_graph;
  _CN_toNode.group = _Bl__95node;
  _CN_toNode.width = ".3";
  _CN_toNode.height = ".3";
  var _CU_ = [,,];
  _CU_.length = 0;
  _CN_toNode.links = _CU_;
  _CK_term.prin = _CN_toNode;
  var _CW_ = [_CN_toNode];
  _CK_term.auxs = _CW_;

  _9_.set("nd82", _CK_term);

  var _CY_right = (__constructor.prototype = _3Z_, new __constructor());

  _CY_right.key = "nd84";
  _CY_right.shape = null;
  _CY_right.text = null;
  _CY_right.colour = null;
  _CY_right.name = void 0;
  _CY_right.graph = _6_graph;
  _CY_right.group = null;
  _CY_right.width = null;
  _CY_right.height = null;
  var _CZ_ = [];
  _CY_right.links = _CZ_;
  var _Ca_ = [];
  _CY_right.nodes = _Ca_;
  _CY_right.prin = _AG_otherNode;
  _CY_right.auxs = _CW_;

  _9_.set("nd84", _CY_right);

  var _Cc_right = (__constructor.prototype = _3Z_, new __constructor());

  _Cc_right.key = "nd85";
  _Cc_right.shape = null;
  _Cc_right.text = null;
  _Cc_right.colour = null;
  _Cc_right.name = void 0;
  _Cc_right.graph = _6_graph;
  _Cc_right.group = null;
  _Cc_right.width = null;
  _Cc_right.height = null;
  var _Cd_ = [];
  _Cc_right.links = _Cd_;
  var _Ce_ = [];
  _Cc_right.nodes = _Ce_;
  _Cc_right.prin = _9o_node;
  var _Cf_newAuxs = [_Bh_toNode, _C0_toNode, _CN_toNode];
  _Cc_right.auxs = _Cf_newAuxs;

  _9_.set("nd85", _Cc_right);

  var _Ch_term = (__constructor.prototype = _3Z_, new __constructor());

  _Ch_term.key = "nd87";
  _Ch_term.shape = null;
  _Ch_term.text = null;
  _Ch_term.colour = null;
  _Ch_term.name = void 0;
  _Ch_term.graph = _6_graph;
  _Ch_term.group = null;
  _Ch_term.width = null;
  _Ch_term.height = null;
  var _Ci_ = [];
  _Ch_term.links = _Ci_;
  var _Cj_ = [];
  _Ch_term.nodes = _Cj_;
  _Ch_term.prin = _4k_node;
  var _Ck_newAuxs = [_Bh_toNode, _CN_toNode, _AL_fromNode,,];
  _Ck_newAuxs.length = 3;
  _Ch_term.auxs = _Ck_newAuxs;

  _9_.set("nd87", _Ch_term);

  var _Cn_left = (__constructor.prototype = _3Z_, new __constructor());

  _Cn_left.key = "nd90";
  _Cn_left.shape = null;
  _Cn_left.text = null;
  _Cn_left.colour = null;
  _Cn_left.name = void 0;
  _Cn_left.graph = _6_graph;
  _Cn_left.group = null;
  _Cn_left.width = null;
  _Cn_left.height = null;
  var _Co_ = [];
  _Cn_left.links = _Co_;
  var _Cp_ = [];
  _Cn_left.nodes = _Cp_;

  var _Cq_fromNode = (__constructor.prototype = _3P_, new __constructor());

  _Cq_fromNode.key = "nd15";
  _Cq_fromNode.shape = null;
  _Cq_fromNode.text = "!";
  _Cq_fromNode.colour = "cyan";
  _Cq_fromNode.name = void 0;
  _Cq_fromNode.graph = _6_graph;
  _Cq_fromNode.group = _B_;
  _Cq_fromNode.width = ".3";
  _Cq_fromNode.height = ".3";
  var _Cw_ = [,,];
  _Cw_.length = 0;
  _Cq_fromNode.links = _Cw_;
  _Cn_left.prin = _Cq_fromNode;
  var _Cy_newPaxs = [,,];
  _Cy_newPaxs.length = 0;
  _Cn_left.auxs = _Cy_newPaxs;

  _9_.set("nd90", _Cn_left);

  _9_.set("nd92", _4F_node);

  _9_.set("nd93", _4N_node);

  var _D1_term = (__constructor.prototype = _3Z_, new __constructor());

  _D1_term.key = "nd96";
  _D1_term.shape = null;
  _D1_term.text = null;
  _D1_term.colour = null;
  _D1_term.name = void 0;
  _D1_term.graph = _6_graph;
  _D1_term.group = null;
  _D1_term.width = null;
  _D1_term.height = null;
  var _D2_ = [];
  _D1_term.links = _D2_;
  var _D3_ = [];
  _D1_term.nodes = _D3_;
  _D1_term.prin = _4V_node;
  _D1_term.auxs = _4b_;

  _9_.set("nd96", _D1_term);

  var _D5_right = (__constructor.prototype = _3Z_, new __constructor());

  _D5_right.key = "nd98";
  _D5_right.shape = null;
  _D5_right.text = null;
  _D5_right.colour = null;
  _D5_right.name = void 0;
  _D5_right.graph = _6_graph;
  _D5_right.group = null;
  _D5_right.width = null;
  _D5_right.height = null;
  var _D6_ = [];
  _D5_right.links = _D6_;
  var _D7_ = [];
  _D5_right.nodes = _D7_;

  var _DH_ = (__constructor.prototype = _1d_, new __constructor());

  _Hz_Prov.prototype = _DH_;

  _$6_Object_46setPrototypeOf(_Hz_Prov, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Hz_Prov, _$5_Object_46defineProperty(_DH_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I0_, _$5_Object_46defineProperty(_DH_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I1_, _$5_Object_46defineProperty(_DH_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I2_, _$5_Object_46defineProperty(_DH_, "deleteAndPreserveInLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I3_, _$5_Object_46defineProperty(_DH_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _D8_toNode = (__constructor.prototype = _DH_, new __constructor());

  _D8_toNode.key = "nd97";
  _D8_toNode.shape = "diamond";
  _D8_toNode.text = "";
  _D8_toNode.colour = "indianred1";
  _D8_toNode.name = void 0;
  _D8_toNode.graph = _6_graph;
  _D8_toNode.group = _B_;
  _D8_toNode.width = ".3";
  _D8_toNode.height = ".3";
  var _DF_ = [,,];
  _DF_.length = 0;
  _D8_toNode.links = _DF_;
  _D5_right.prin = _D8_toNode;
  _D5_right.auxs = _4b_;

  _9_.set("nd98", _D5_right);

  var _DJ_term = (__constructor.prototype = _3Z_, new __constructor());

  _DJ_term.key = "nd99";
  _DJ_term.shape = null;
  _DJ_term.text = null;
  _DJ_term.colour = null;
  _DJ_term.name = void 0;
  _DJ_term.graph = _6_graph;
  _DJ_term.group = null;
  _DJ_term.width = null;
  _DJ_term.height = null;
  var _DK_ = [];
  _DJ_term.links = _DK_;
  var _DL_ = [];
  _DJ_term.nodes = _DL_;

  var _DM_toNode = (__constructor.prototype = _4o_, new __constructor());

  _DM_toNode.key = "nd12";
  _DM_toNode.shape = null;
  _DM_toNode.text = "@";
  _DM_toNode.colour = "yellow";
  _DM_toNode.name = void 0;
  _DM_toNode.graph = _6_graph;
  _DM_toNode.group = _B_;
  _DM_toNode.width = null;
  _DM_toNode.height = null;
  var _DQ_ = [,,,];
  _DQ_.length = 0;
  _DM_toNode.links = _DQ_;
  _DJ_term.prin = _DM_toNode;

  var _DT_toNode = (__constructor.prototype = _3W_, new __constructor());

  _DT_toNode.key = "nd88";
  _DT_toNode.shape = null;
  _DT_toNode.text = "?";
  _DT_toNode.colour = "cyan";
  _DT_toNode.name = "max";
  _DT_toNode.graph = _6_graph;
  _DT_toNode.group = _B_;
  _DT_toNode.width = ".3";
  _DT_toNode.height = ".3";
  var _DZ_ = [,,,];
  _DZ_.length = 0;
  _DT_toNode.links = _DZ_;

  var _Db_toNode = (__constructor.prototype = _3W_, new __constructor());

  _Db_toNode.key = "nd89";
  _Db_toNode.shape = null;
  _Db_toNode.text = "?";
  _Db_toNode.colour = "cyan";
  _Db_toNode.name = "x";
  _Db_toNode.graph = _6_graph;
  _Db_toNode.group = _B_;
  _Db_toNode.width = ".3";
  _Db_toNode.height = ".3";
  var _Dh_ = [,,];
  _Dh_.length = 0;
  _Db_toNode.links = _Dh_;
  var _DS_newAuxs = [_DT_toNode, _Db_toNode];
  _DJ_term.auxs = _DS_newAuxs;

  _9_.set("nd99", _DJ_term);

  var _Dk_left = (__constructor.prototype = _3Z_, new __constructor());

  _Dk_left.key = "nd101";
  _Dk_left.shape = null;
  _Dk_left.text = null;
  _Dk_left.colour = null;
  _Dk_left.name = void 0;
  _Dk_left.graph = _6_graph;
  _Dk_left.group = null;
  _Dk_left.width = null;
  _Dk_left.height = null;
  var _Dl_ = [];
  _Dk_left.links = _Dl_;
  var _Dm_ = [];
  _Dk_left.nodes = _Dm_;

  var _Dn_fromNode = (__constructor.prototype = _3P_, new __constructor());

  _Dn_fromNode.key = "nd10";
  _Dn_fromNode.shape = null;
  _Dn_fromNode.text = "!";
  _Dn_fromNode.colour = "cyan";
  _Dn_fromNode.name = void 0;
  _Dn_fromNode.graph = _6_graph;
  _Dn_fromNode.group = _B_;
  _Dn_fromNode.width = ".3";
  _Dn_fromNode.height = ".3";
  var _Dt_ = [,,];
  _Dt_.length = 0;
  _Dn_fromNode.links = _Dt_;
  _Dk_left.prin = _Dn_fromNode;
  var _Dv_newPaxs = [,];
  _Dv_newPaxs.length = 0;
  _Dk_left.auxs = _Dv_newPaxs;

  _9_.set("nd101", _Dk_left);

  _9_.set("nd103", _3i_node);

  _9_.set("nd104", _3q_node);

  var _Dy_term = (__constructor.prototype = _3Z_, new __constructor());

  _Dy_term.key = "nd107";
  _Dy_term.shape = null;
  _Dy_term.text = null;
  _Dy_term.colour = null;
  _Dy_term.name = void 0;
  _Dy_term.graph = _6_graph;
  _Dy_term.group = null;
  _Dy_term.width = null;
  _Dy_term.height = null;
  var _Dz_ = [];
  _Dy_term.links = _Dz_;
  var _E0_ = [];
  _Dy_term.nodes = _E0_;
  _Dy_term.prin = _3z_node;
  _Dy_term.auxs = _45_;

  _9_.set("nd107", _Dy_term);

  var _E2_right = (__constructor.prototype = _3Z_, new __constructor());

  _E2_right.key = "nd109";
  _E2_right.shape = null;
  _E2_right.text = null;
  _E2_right.colour = null;
  _E2_right.name = void 0;
  _E2_right.graph = _6_graph;
  _E2_right.group = null;
  _E2_right.width = null;
  _E2_right.height = null;
  var _E3_ = [];
  _E2_right.links = _E3_;
  var _E4_ = [];
  _E2_right.nodes = _E4_;

  var _E5_toNode = (__constructor.prototype = _DH_, new __constructor());

  _E5_toNode.key = "nd108";
  _E5_toNode.shape = "diamond";
  _E5_toNode.text = "";
  _E5_toNode.colour = "indianred1";
  _E5_toNode.name = void 0;
  _E5_toNode.graph = _6_graph;
  _E5_toNode.group = _B_;
  _E5_toNode.width = ".3";
  _E5_toNode.height = ".3";
  var _EC_ = [,,];
  _EC_.length = 0;
  _E5_toNode.links = _EC_;
  _E2_right.prin = _E5_toNode;
  _E2_right.auxs = _45_;

  _9_.set("nd109", _E2_right);

  var _EF_term = (__constructor.prototype = _3Z_, new __constructor());

  _EF_term.key = "nd110";
  _EF_term.shape = null;
  _EF_term.text = null;
  _EF_term.colour = null;
  _EF_term.name = void 0;
  _EF_term.graph = _6_graph;
  _EF_term.group = null;
  _EF_term.width = null;
  _EF_term.height = null;
  var _EG_ = [];
  _EF_term.links = _EG_;
  var _EH_ = [];
  _EF_term.nodes = _EH_;

  var _EI_toNode = (__constructor.prototype = _4o_, new __constructor());

  _EI_toNode.key = "nd7";
  _EI_toNode.shape = null;
  _EI_toNode.text = "@";
  _EI_toNode.colour = "yellow";
  _EI_toNode.name = void 0;
  _EI_toNode.graph = _6_graph;
  _EI_toNode.group = _B_;
  _EI_toNode.width = null;
  _EI_toNode.height = null;
  var _EM_ = [,,,];
  _EM_.length = 0;
  _EI_toNode.links = _EM_;
  _EF_term.prin = _EI_toNode;

  var _EP_toNode = (__constructor.prototype = _3W_, new __constructor());

  _EP_toNode.key = "nd100";
  _EP_toNode.shape = null;
  _EP_toNode.text = "?";
  _EP_toNode.colour = "cyan";
  _EP_toNode.name = "max";
  _EP_toNode.graph = _6_graph;
  _EP_toNode.group = _B_;
  _EP_toNode.width = ".3";
  _EP_toNode.height = ".3";
  var _EV_ = [,,];
  _EV_.length = 0;
  _EP_toNode.links = _EV_;
  var _EO_newAuxs = [_EP_toNode];
  _EF_term.auxs = _EO_newAuxs;

  _9_.set("nd110", _EF_term);

  var _EY_left = (__constructor.prototype = _3Z_, new __constructor());

  _EY_left.key = "nd111";
  _EY_left.shape = null;
  _EY_left.text = null;
  _EY_left.colour = null;
  _EY_left.name = void 0;
  _EY_left.graph = _6_graph;
  _EY_left.group = null;
  _EY_left.width = null;
  _EY_left.height = null;
  var _EZ_ = [];
  _EY_left.links = _EZ_;
  var _Ea_ = [];
  _EY_left.nodes = _Ea_;

  var _Eb_fromNode = (__constructor.prototype = _3P_, new __constructor());

  _Eb_fromNode.key = "nd5";
  _Eb_fromNode.shape = null;
  _Eb_fromNode.text = "!";
  _Eb_fromNode.colour = "cyan";
  _Eb_fromNode.name = void 0;
  _Eb_fromNode.graph = _6_graph;
  _Eb_fromNode.group = _B_;
  _Eb_fromNode.width = ".3";
  _Eb_fromNode.height = ".3";
  var _Eh_ = [,,];
  _Eh_.length = 0;
  _Eb_fromNode.links = _Eh_;
  _EY_left.prin = _Eb_fromNode;
  var _Ej_newPaxs = [];
  _EY_left.auxs = _Ej_newPaxs;

  _9_.set("nd111", _EY_left);

  _9_.set("nd113", _1e_node);

  _9_.set("nd114", _1m_node);

  _9_.set("nd117", _24_node);

  _9_.set("nd118", _2G_node);

  var _El_left = (__constructor.prototype = _3Z_, new __constructor());

  _El_left.key = "nd124";
  _El_left.shape = null;
  _El_left.text = null;
  _El_left.colour = null;
  _El_left.name = void 0;
  _El_left.graph = _6_graph;
  _El_left.group = null;
  _El_left.width = null;
  _El_left.height = null;
  var _Em_ = [];
  _El_left.links = _Em_;
  var _En_ = [];
  _El_left.nodes = _En_;

  var _Eo_toNode = (__constructor.prototype = _Af_, new __constructor());

  _Eo_toNode.key = "nd123";
  _Eo_toNode.shape = null;
  _Eo_toNode.text = "V";
  _Eo_toNode.colour = "cyan";
  _Eo_toNode.name = "x";
  _Eo_toNode.graph = _6_graph;
  _Eo_toNode.group = _2G_node;
  _Eo_toNode.width = ".3";
  _Eo_toNode.height = ".3";
  var _Ev_ = [,,];
  _Ev_.length = 0;
  _Eo_toNode.links = _Ev_;
  _El_left.prin = _Eo_toNode;
  var _Ex_ = [_Eo_toNode];
  _El_left.auxs = _Ex_;

  _9_.set("nd124", _El_left);

  var _Ez_right = (__constructor.prototype = _3Z_, new __constructor());

  _Ez_right.key = "nd126";
  _Ez_right.shape = null;
  _Ez_right.text = null;
  _Ez_right.colour = null;
  _Ez_right.name = void 0;
  _Ez_right.graph = _6_graph;
  _Ez_right.group = null;
  _Ez_right.width = null;
  _Ez_right.height = null;
  var _F0_ = [];
  _Ez_right.links = _F0_;
  var _F1_ = [];
  _Ez_right.nodes = _F1_;

  var _F2_toNode = (__constructor.prototype = _Af_, new __constructor());

  _F2_toNode.key = "nd125";
  _F2_toNode.shape = null;
  _F2_toNode.text = "V";
  _F2_toNode.colour = "cyan";
  _F2_toNode.name = "y";
  _F2_toNode.graph = _6_graph;
  _F2_toNode.group = _2G_node;
  _F2_toNode.width = ".3";
  _F2_toNode.height = ".3";
  var _F9_ = [,,];
  _F9_.length = 0;
  _F2_toNode.links = _F9_;
  _Ez_right.prin = _F2_toNode;
  var _FB_ = [_F2_toNode];
  _Ez_right.auxs = _FB_;

  _9_.set("nd126", _Ez_right);

  var _FD_cond = (__constructor.prototype = _3Z_, new __constructor());

  _FD_cond.key = "nd127";
  _FD_cond.shape = null;
  _FD_cond.text = null;
  _FD_cond.colour = null;
  _FD_cond.name = void 0;
  _FD_cond.graph = _6_graph;
  _FD_cond.group = null;
  _FD_cond.width = null;
  _FD_cond.height = null;
  var _FE_ = [];
  _FD_cond.links = _FE_;
  var _FF_ = [];
  _FD_cond.nodes = _FF_;
  _FD_cond.prin = _2t_fromNode;
  var _FG_newAuxs = [_Eo_toNode, _F2_toNode];
  _FD_cond.auxs = _FG_newAuxs;

  _9_.set("nd127", _FD_cond);

  var _FI_t1 = (__constructor.prototype = _3Z_, new __constructor());

  _FI_t1.key = "nd129";
  _FI_t1.shape = null;
  _FI_t1.text = null;
  _FI_t1.colour = null;
  _FI_t1.name = void 0;
  _FI_t1.graph = _6_graph;
  _FI_t1.group = null;
  _FI_t1.width = null;
  _FI_t1.height = null;
  var _FJ_ = [];
  _FI_t1.links = _FJ_;
  var _FK_ = [];
  _FI_t1.nodes = _FK_;

  var _FL_toNode = (__constructor.prototype = _Af_, new __constructor());

  _FL_toNode.key = "nd128";
  _FL_toNode.shape = null;
  _FL_toNode.text = "V";
  _FL_toNode.colour = "cyan";
  _FL_toNode.name = "y";
  _FL_toNode.graph = _6_graph;
  _FL_toNode.group = _2G_node;
  _FL_toNode.width = ".3";
  _FL_toNode.height = ".3";
  var _FR_ = [,,];
  _FR_.length = 0;
  _FL_toNode.links = _FR_;
  _FI_t1.prin = _FL_toNode;
  var _FT_ = [_FL_toNode];
  _FI_t1.auxs = _FT_;

  _9_.set("nd129", _FI_t1);

  var _FV_t2 = (__constructor.prototype = _3Z_, new __constructor());

  _FV_t2.key = "nd131";
  _FV_t2.shape = null;
  _FV_t2.text = null;
  _FV_t2.colour = null;
  _FV_t2.name = void 0;
  _FV_t2.graph = _6_graph;
  _FV_t2.group = null;
  _FV_t2.width = null;
  _FV_t2.height = null;
  var _FW_ = [];
  _FV_t2.links = _FW_;
  var _FX_ = [];
  _FV_t2.nodes = _FX_;

  var _FY_toNode = (__constructor.prototype = _Af_, new __constructor());

  _FY_toNode.key = "nd130";
  _FY_toNode.shape = null;
  _FY_toNode.text = "V";
  _FY_toNode.colour = "cyan";
  _FY_toNode.name = "x";
  _FY_toNode.graph = _6_graph;
  _FY_toNode.group = _2G_node;
  _FY_toNode.width = ".3";
  _FY_toNode.height = ".3";
  var _Fe_ = [,,];
  _Fe_.length = 0;
  _FY_toNode.links = _Fe_;
  _FV_t2.prin = _FY_toNode;
  var _Fg_ = [_FY_toNode];
  _FV_t2.auxs = _Fg_;

  _9_.set("nd131", _FV_t2);

  var _Fi_term = (__constructor.prototype = _3Z_, new __constructor());

  _Fi_term.key = "nd134";
  _Fi_term.shape = null;
  _Fi_term.text = null;
  _Fi_term.colour = null;
  _Fi_term.name = void 0;
  _Fi_term.graph = _6_graph;
  _Fi_term.group = null;
  _Fi_term.width = null;
  _Fi_term.height = null;
  var _Fj_ = [];
  _Fi_term.links = _Fj_;
  var _Fk_ = [];
  _Fi_term.nodes = _Fk_;
  _Fi_term.prin = _2n_fromNode;
  var _Fl_newAuxs = [_30_node, _39_node,,,];
  _Fl_newAuxs.length = 2;
  _Fi_term.auxs = _Fl_newAuxs;

  _9_.set("nd134", _Fi_term);

  var _Fo_term = (__constructor.prototype = _3Z_, new __constructor());

  _Fo_term.key = "nd136";
  _Fo_term.shape = null;
  _Fo_term.text = null;
  _Fo_term.colour = null;
  _Fo_term.name = void 0;
  _Fo_term.graph = _6_graph;
  _Fo_term.group = null;
  _Fo_term.width = null;
  _Fo_term.height = null;
  var _Fp_ = [];
  _Fo_term.links = _Fp_;
  var _Fq_ = [];
  _Fo_term.nodes = _Fq_;
  _Fo_term.prin = _3J_node;
  _Fo_term.auxs = _3X_newPaxs;

  _9_.set("nd136", _Fo_term);

  var _Fs_right = (__constructor.prototype = _3Z_, new __constructor());

  _Fs_right.key = "nd137";
  _Fs_right.shape = null;
  _Fs_right.text = null;
  _Fs_right.colour = null;
  _Fs_right.name = void 0;
  _Fs_right.graph = _6_graph;
  _Fs_right.group = null;
  _Fs_right.width = null;
  _Fs_right.height = null;
  var _Ft_ = [];
  _Fs_right.links = _Ft_;
  var _Fu_ = [];
  _Fs_right.nodes = _Fu_;
  _Fs_right.prin = _3a_toNode;
  _Fs_right.auxs = _3h_newPaxs;

  _9_.set("nd137", _Fs_right);

  var _Fw_term = (__constructor.prototype = _3Z_, new __constructor());

  _Fw_term.key = "nd138";
  _Fw_term.shape = null;
  _Fw_term.text = null;
  _Fw_term.colour = null;
  _Fw_term.name = void 0;
  _Fw_term.graph = _6_graph;
  _Fw_term.group = null;
  _Fw_term.width = null;
  _Fw_term.height = null;
  var _Fx_ = [];
  _Fw_term.links = _Fx_;
  var _Fy_ = [];
  _Fw_term.nodes = _Fy_;

  var _Fz_toNode = (__constructor.prototype = _4o_, new __constructor());

  _Fz_toNode.key = "nd2";
  _Fz_toNode.shape = null;
  _Fz_toNode.text = "@";
  _Fz_toNode.colour = "yellow";
  _Fz_toNode.name = void 0;
  _Fz_toNode.graph = _6_graph;
  _Fz_toNode.group = _B_;
  _Fz_toNode.width = null;
  _Fz_toNode.height = null;
  var _G3_ = [,,,];
  _G3_.length = 0;
  _Fz_toNode.links = _G3_;
  _Fw_term.prin = _Fz_toNode;
  var _G5_newAuxs = [];
  _Fw_term.auxs = _G5_newAuxs;

  _9_.set("nd138", _Fw_term);

  _78_.group = _75_node;
  _7J_.group = _7G_node;
  _7C_outLink.group = _75_node;
  _6c_.group = _6Z_node;
  _6h_.group = _6Z_node;
  _6l_.group = _6Z_node;
  _6Q_.group = _6N_node;
  _6p_.group = _6Z_node;
  _6s_.group = _6Z_node;
  _6U_link.group = _6N_node;
  _5q_.group = _5n_node;
  _8a_.group = _8X_node;
  _5v_.group = _5n_node;
  _5z_.group = _5n_node;
  _63_.group = _5n_node;
  _5a_.group = _5X_node;
  _66_.group = _5n_node;
  _69_.group = _5n_node;
  _5e_.group = _5X_node;
  _5i_outLink.group = _5X_node;
  _54_.group = _51_node;
  _59_.group = _51_node;
  _5D_.group = _51_node;
  _4s_.group = _4p_node;
  _5H_.group = _51_node;
  _5K_.group = _51_node;
  _4w_link.group = _4p_node;
  _i_link.group = _B_;
  _n_link.group = _B_;
  _r_link.group = _B_;
  _v_link.group = _B_;
  _z_link.group = _B_;
  _13_nextLink.group = _B_;
  _19_link.group = _B_;
  _1D_link.group = _B_;
  _1G_link.group = _B_;
  _1J_link.group = _B_;
  _1N_link.group = _B_;
  _1R_otherNextLink.group = _B_;
  _4I_link.group = _4F_node;
  _V_outLink.group = _B_;
  _a_outLink.group = _B_;
  _3l_link.group = _3i_node;
  _F_outLink.group = _B_;
  _L_outLink.group = _B_;
  _2J_.group = _2G_node;
  _2O_outLink.group = _2G_node;
  _2S_outLink.group = _2G_node;
  _2V_outLink.group = _2G_node;
  _2Y_outLink.group = _2G_node;
  _27_.group = _24_node;
  _2b_.group = _2G_node;
  _2e_.group = _2G_node;
  _2B_.group = _24_node;
  _1h_link.group = _1e_node;
  _1p_.group = _1m_node;
  _1t_.group = _1m_node;
  _R_.group = _B_;
  _e_.group = _B_;
  _1W_fromNode.group = _B_;
  _4k_node.group = _B_;
  _9V_node.group = _4p_node;
  _HV_Term.prototype = _3Z_;
  _5P_node.group = _51_node;
  _5T_node.group = _51_node;
  _91_node.group = _5X_node;
  _6F_node.group = _5n_node;
  _6J_node.group = _5n_node;
  _88_node.group = _6N_node;
  _6x_node.group = _6Z_node;
  _71_node.group = _6Z_node;
  _7c_node.group = _75_node;
  _7P_fromNode.group = _7G_node;
  _7U_node.group = _7G_node;
  _7i_node.group = _75_node;
  _7q_node.group = _6Z_node;
  _7x_node.group = _6Z_node;
  _HN_BoxWrapper.prototype = _3Y_;
  _H8_Box.prototype = _3H_;
  _82_node.group = _6Z_node;
  _8E_node.group = _6N_node;
  _8L_node.group = _5n_node;
  _8R_fromNode.group = _5n_node;
  _8n_node.group = _8X_node;
  _8j_node.group = _8f_node;
  _8u_node.group = _5n_node;
  _97_node.group = _5X_node;
  _9D_node.group = _5X_node;
  _9L_node.group = _51_node;
  _9R_node.group = _51_node;
  _9b_node.group = _4p_node;
  _9i_node.group = _B_;
  _9o_node.group = _B_;
  _9s_node.group = _B_;
  _9w_fromNode.group = _B_;
  _A4_node.group = _B_;
  _AA_node.group = _B_;
  _AG_otherNode.group = _B_;
  _AL_fromNode.group = _B_;
  _4V_node.group = _4F_node;
  _4R_node.group = _4N_node;
  _3z_node.group = _3i_node;
  _3u_node.group = _3q_node;
  _3a_toNode.group = _1e_node;
  _1z_node.group = _1m_node;
  _3J_node.group = _24_node;
  _2j_node.group = _2G_node;
  _2n_fromNode.group = _2G_node;
  _2t_fromNode.group = _2G_node;
  _30_node.group = _2G_node;
  _39_node.group = _2G_node;
  _3Q_node.group = _24_node;
  _46_toNode.group = _B_;
  _4C_toNode.group = _B_;
  _4c_toNode.group = _B_;
  _4h_toNode.group = _B_;
  _HA_Group.prototype = _3I_;

  _$6_Object_46setPrototypeOf(_HA_Group, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I4_, _$5_Object_46defineProperty(_G8_, "clear", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I5_, _$5_Object_46defineProperty(_G8_, "addNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I6_, _$5_Object_46defineProperty(_G8_, "removeNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I7_, _$5_Object_46defineProperty(_G8_, "findNodeByKey", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I8_, _$5_Object_46defineProperty(_G8_, "addLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _I9_, _$5_Object_46defineProperty(_G8_, "removeLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _J5_, _$5_Object_46defineProperty(_IE_MachineToken, "CompData", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _J6_, _$5_Object_46defineProperty(_IE_MachineToken, "RewriteFlag", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IB_, _$5_Object_46defineProperty(_GE_, "setLink", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IC_, _$5_Object_46defineProperty(_GE_, "reset", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _ID_, _$5_Object_46defineProperty(_GE_, "delete", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IF_, _$5_Object_46defineProperty(_GG_, "collect", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IG_, _$5_Object_46defineProperty(_GG_, "collectInGroup", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _K1_ = (__constructor.prototype = _38_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _K0_Recur, _$5_Object_46defineProperty(_K1_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kn_, _$5_Object_46defineProperty(_K1_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ko_, _$5_Object_46defineProperty(_K1_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kp_, _$5_Object_46defineProperty(_K1_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _K0_Recur.prototype = _K1_;

  _$6_Object_46setPrototypeOf(_K0_Recur, _H4_Expo);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IH_, _$5_Object_46defineProperty(_GG_, "collectFromBottom", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IJ_, _$5_Object_46defineProperty(_GM_, "isPlay", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IK_, _$5_Object_46defineProperty(_GM_, "setPlay", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IL_, _$5_Object_46defineProperty(_GM_, "isPlaying", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IM_, _$5_Object_46defineProperty(_GM_, "setPlaying", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IN_, _$5_Object_46defineProperty(_GM_, "isFinished", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IO_, _$5_Object_46defineProperty(_GM_, "setFinished", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _KU_, _$5_Object_46defineProperty(_Jk_, "_nextChar", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Ll_Token.EOF = "EOF";
  _Ll_Token.LAMBDA = "LAMBDA";
  _Ll_Token.LPAREN = "LPAREN";
  _Ll_Token.RPAREN = "RPAREN";
  _Ll_Token.CLPAREN = "CLPAREN";
  _Ll_Token.CRPAREN = "CRPAREN";
  _Ll_Token.LCID = "LCID";
  _Ll_Token.DOT = "DOT";
  _Ll_Token.COMMA = "COMMA";
  _Ll_Token.APP = "APP";
  _Ll_Token.LET = "LET";
  _Ll_Token.DEFINE = "DEFINE";
  _Ll_Token.IN = "IN";
  _Ll_Token.REC = "REC";
  _Ll_Token.INT = "INT";
  _Ll_Token.TRUE = "TRUE";
  _Ll_Token.FALSE = "FALSE";
  _Ll_Token.NOT = "NOT";
  _Ll_Token.AND = "AND";
  _Ll_Token.OR = "OR";
  _Ll_Token.PLUS = "PLUS";
  _Ll_Token.SUB = "SUB";
  _Ll_Token.MULT = "MULT";
  _Ll_Token.DIV = "DIV";
  _Ll_Token.LTE = "LTE";
  _Ll_Token.IF = "IF";
  _Ll_Token.THEN = "THEN";
  _Ll_Token.ELSE = "ELSE";
  _Ll_Token.SET = "SET";
  _Ll_Token.CHANGE = "CHANGE";
  _Ll_Token.TO = "TO";
  _Ll_Token.PROP = "PROP";
  _Ll_Token.DEP = "DEP";
  _Ll_Token.DEREF = "DEREF";
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _KV_, _$5_Object_46defineProperty(_Jk_, "_nextToken", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _KW_, _$5_Object_46defineProperty(_Jk_, "token", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _KX_, _$5_Object_46defineProperty(_Jk_, "lookahead", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _KY_, _$5_Object_46defineProperty(_Jk_, "fail", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _KZ_, _$5_Object_46defineProperty(_Jk_, "next", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ka_, _$5_Object_46defineProperty(_Jk_, "match", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kb_, _$5_Object_46defineProperty(_Jk_, "skip", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kc_, _$5_Object_46defineProperty(_Jm_, "parse", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kd_, _$5_Object_46defineProperty(_Jm_, "term", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ke_, _$5_Object_46defineProperty(_Jm_, "isBinaryOp", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _Jt_ = (__constructor.prototype = _Ju_, new __constructor());

  _Jv_UnaryOp.prototype = _Jt_;

  _$6_Object_46setPrototypeOf(_Jv_UnaryOp, _Ki_Operation);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Jv_UnaryOp, _$5_Object_46defineProperty(_Jt_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _Js_ = (__constructor.prototype = _Jt_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Jr_BinaryOp, _$5_Object_46defineProperty(_Js_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Jr_BinaryOp.prototype = _Js_;

  _$6_Object_46setPrototypeOf(_Jr_BinaryOp, _Jv_UnaryOp);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kf_, _$5_Object_46defineProperty(_Jm_, "parseBinop", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kg_, _$5_Object_46defineProperty(_Jm_, "application", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  var _LB_UnOpType = {
    Not: 0
  };
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kh_, _$5_Object_46defineProperty(_Jm_, "atom", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IP_, _$5_Object_46defineProperty(_GM_, "compile", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _Jx_ = (__constructor.prototype = _1d_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Jw_UnOp, _$5_Object_46defineProperty(_Jx_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kj_, _$5_Object_46defineProperty(_Jx_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kk_, _$5_Object_46defineProperty(_Jx_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kl_, _$5_Object_46defineProperty(_Jx_, "unOpApply", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Km_, _$5_Object_46defineProperty(_Jx_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _Jw_UnOp.prototype = _Jx_;

  _$6_Object_46setPrototypeOf(_Jw_UnOp, _Gm_Node);

  var _K5_ = (__constructor.prototype = _1d_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _K4_Dep, _$5_Object_46defineProperty(_K5_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kq_, _$5_Object_46defineProperty(_K5_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kr_, _$5_Object_46defineProperty(_K5_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ks_, _$5_Object_46defineProperty(_K5_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _K4_Dep.prototype = _K5_;

  _$6_Object_46setPrototypeOf(_K4_Dep, _Gm_Node);

  var _KA_ = (__constructor.prototype = _1d_, new __constructor());

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _K9_Set, _$5_Object_46defineProperty(_KA_, "constructor", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kt_, _$5_Object_46defineProperty(_KA_, "transition", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Ku_, _$5_Object_46defineProperty(_KA_, "rewrite", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _Kv_, _$5_Object_46defineProperty(_KA_, "copy", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  _K9_Set.prototype = _KA_;

  _$6_Object_46setPrototypeOf(_K9_Set, _Gm_Node);

  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IQ_, _$5_Object_46defineProperty(_GM_, "toGraph", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IR_, _$5_Object_46defineProperty(_GM_, "deleteVarNode", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IS_, _$5_Object_46defineProperty(_GM_, "startPropagation", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IT_, _$5_Object_46defineProperty(_GM_, "shuffle", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IU_, _$5_Object_46defineProperty(_GM_, "batchPass", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IV_, _$5_Object_46defineProperty(_GM_, "pass", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IW_, _$5_Object_46defineProperty(_GM_, "tokenPass", $$0_enumerable_58false_44configurable_58true_44writable_58true);
  $$0_enumerable_58false_44configurable_58true_44writable_58true.value = _IX_, _$5_Object_46defineProperty(_GM_, "getData", $$0_enumerable_58false_44configurable_58true_44writable_58true);

  var _5_machine = (__constructor.prototype = _GM_, new __constructor());

  _5_machine.graph = _6_graph;

  var _G9_ = (__constructor.prototype = _GE_, new __constructor());

  _G9_.machine = _5_machine;
  _G9_.forward = true;
  _G9_.rewrite = false;
  _G9_.transited = true;
  _G9_.link = _13_nextLink;
  _G9_.rewriteFlag = "\u25A1";
  var _GB_ = ["*", "*", "*"];
  _G9_.dataStack = _GB_;
  var _GD_ = [];
  _G9_.boxStack = _GD_;
  _G9_.isMain = true;
  _5_machine.token = _G9_;

  var _GF_ = (__constructor.prototype = _GG_, new __constructor());

  _GF_.graph = _6_graph;
  _GF_.noMore = false;
  _5_machine.gc = _GF_;
  _5_machine.count = 0;
  var _GI_ = [];
  _5_machine.evalTokens = _GI_;
  var _GJ_ = ["nd139", "nd141"];
  _5_machine.cells = _GJ_;
  _5_machine.evaluating = false;

  var _GK_ = new _$4_Map();

  _5_machine.newValues = _GK_;
  _5_machine.hasUpdate = false;
  _5_machine.play = true;
  _5_machine.playing = true;
  _5_machine.finished = false;
  _5_machine.readyEvalTokens = 0;
  _6_graph.machine = _5_machine;
  var _IZ_ = _$1_global;
  var _Ia_ = console;

  var _J7_ = (err, result) => {
    if (err) {
      throw err;
    }

    console.log(result);
    module.exports = result;
  };

  var _$0_derived = _$9_global_46setTimeout(_1_, 0);
}).call(global);