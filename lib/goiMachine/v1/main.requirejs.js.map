{"version":3,"sources":["webpack://goi-machine/webpack/bootstrap","webpack://goi-machine/./lib/goiMachine/v1/main.prepack.js"],"names":["__get_scope_binding_0","__selector","__captured","_3l","_3C","_3n","_3E","_3F","_3r","_3L","_3t","_3N","_3v","_3P","_3x","_3R","_3z","_3T","_41","_3V","_43","_3X","_45","_3Z","_47","_3b","_49","_3d","_4B","_3f","_4D","_3h","_4F","_3j","_3p","_3I","_3J","__scope_0","Array","$$0","enumerable","configurable","writable","$$1","_$0","_$1","Object","_$2","defineProperty","_$3","setPrototypeOf","_J","instance","Constructor","TypeError","_2W","_M","link","rewriteFlag","reset","_N","prototype","_1C","_F","_1D","clearFocus","focus","_1E","setLink","SEARCH","obj","__captured__scope_4","Symbol","iterator","_typeof","constructor","_3K","self","call","_3s","ReferenceError","o","getPrototypeOf","_getPrototypeOf","__proto__","_2d","_27","ctx","_d","_b","id","param","body","_this5","_2X","_3k","_2q","type","value","pred","_O","input","_input","_index","_token","undefined","_nextToken","_Q","_1F","length","_1G","c","_nextChar","test","COMMA","SEMIC","LPAREN","RPAREN","EOF","DEF","str","BIND","IN","NEW","PLUS","TIMES","AND","OR","NOT","EQUALS","IF","TRUE","FALSE","LCID","_str","INT","parseInt","fail","_1H","token","match","_1I","_1J","_1K","_1L","Error","concat","_1M","_1N","next","console","error","_1O","_2Y","_R","lexer","_S","_1P","result","term2","_1Q","thunk","inner","skip","P","B","_id","_P","_B","atom","_1R","term","operation","_1S","name","sig","active","eas","das","lookaheadType","gatherArgs","_1T","args","i","push","_2b","_W","from","to","fromPort","toPort","colour","visited","reverse","penWidth","addToGraph","graph","addToNode","_X","_1k","fromNode","findNodeByKey","links","toNode","_1l","addLink","_1m","group","_1n","removeLink","addToGroup","_1o","key","port","splice","indexOf","_1p","_1q","_1r","_1s","_1t","_1u","level","_2V","__captured__scope_H","_3G","_3H","_3q","target","property","receiver","Reflect","get","_get","base","_4I","desc","getOwnPropertyDescriptor","object","hasOwnProperty","_3A","_1j","shape","text","width","height","_V","_1X","addNode","_1Y","_1Z","removeNode","_1a","_1b","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","done","err","return","_1c","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_1d","_this","findLinksOutOf","nodeKeys","map","l","k","_1e","newNode","_1f","_1g","_1h","_1i","nextLink","rewrite","_1z","nodes","_20","node","_21","_22","_23","_24","_arr","_i","delete","_25","draw","_26","_K","clear","_L","_14","linkKey","allNodes","Map","allLinks","child","_15","set","_16","findLinksConnected","_17","_18","_19","_1A","filter","x","_1B","__captured__scope_3","_2c","_3D","_3o","_4H","_Y","prin","auxs","boxed","_1v","_1w","_1x","_1y","__captured__scope_6","_2f","_3O","_3w","_h","__captured__scope_5","_2e","_3M","_3u","__captured__scope_G","_2p","_3i","_4G","_13","_2D","_2E","_f","_28","_29","inLinks","findLinksInto","outLinks","nextNode","changeTo","copy","opLinks","createDNet","changeFrom","_2A","_2B","_2C","cs","inputs","originalGroup","op","cList","n","__captured__scope_2","_2a","_3B","_3m","_T","_1U","_1V","_1W","__captured__scope_7","_2g","_3Q","_3y","_k","__captured__scope_8","_2h","_3S","_40","_n","b","parseBoolean","_2F","_2G","__captured__scope_9","_2i","_3U","_42","_p","_2H","_2I","inLink","reduce","sum","newLink","__captured__scope_A","_2j","_3W","_44","_r","_2J","_2K","__captured__scope_B","_2k","_3Y","_46","_t","_2L","_2M","__captured__scope_C","_2l","_3a","_48","_v","_2N","_2O","__captured__scope_D","_2m","_3c","_4A","_x","_2P","_2Q","__captured__scope_E","_2n","_3e","_4C","_z","_2R","_2S","left","right","__captured__scope_F","_2o","_3g","_4E","_11","_2T","_2U","keep","del","unbox","_1","setMachine","_2","_3","graphSet","tokenSet","countSet","__captured__scope_1","count","_4","source","parser","ast","parse","start","toGraph","_5","box","auxNode","atomNode","toOp","_6","Number","isInteger","_7","_8","graphTxt","linkTxt","flagTxt","finished","REWRITE","pass","printHistory","play","playing","_9","val","replace","_A","outlinks","RETURN","doneVisiting","j","findJ","_C","_D","list","__constructor","_a","_c","_U","_Z","_g","_j","_m","_l","_o","_q","_s","_u","_w","_y","_10","_12","machine","window"],"mappings":"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","file":"main.requirejs.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/goiMachine/v1/main.prepack.js\");\n","(function () {\n  var __get_scope_binding_0 = function (__selector) {\n    var __captured;\n\n    switch (__selector) {\n      case 0:\n        __captured = [null];\n        break;\n\n      case 1:\n        __captured = [_3l, _3l, _3C, _3C];\n        break;\n\n      case 2:\n        __captured = [_3n, _3n, _3E, _3E, _3F, _3F];\n        break;\n\n      case 3:\n        __captured = [_3r, _3r, _3L, _3L];\n        break;\n\n      case 4:\n        __captured = [_3t, _3t, _3N, _3N];\n        break;\n\n      case 5:\n        __captured = [_3v, _3v, _3P, _3P];\n        break;\n\n      case 6:\n        __captured = [_3x, _3x, _3R, _3R];\n        break;\n\n      case 7:\n        __captured = [_3z, _3z, _3T, _3T];\n        break;\n\n      case 8:\n        __captured = [_41, _41, _3V, _3V];\n        break;\n\n      case 9:\n        __captured = [_43, _43, _3X, _3X];\n        break;\n\n      case 10:\n        __captured = [_45, _45, _3Z, _3Z];\n        break;\n\n      case 11:\n        __captured = [_47, _47, _3b, _3b];\n        break;\n\n      case 12:\n        __captured = [_49, _49, _3d, _3d];\n        break;\n\n      case 13:\n        __captured = [_4B, _4B, _3f, _3f];\n        break;\n\n      case 14:\n        __captured = [_4D, _4D, _3h, _3h];\n        break;\n\n      case 15:\n        __captured = [_4F, _4F, _3j, _3j];\n        break;\n\n      case 16:\n        __captured = [_3p, _3p, _3I, _3I, _3J, _3J];\n        break;\n    }\n\n    __scope_0[__selector] = __captured;\n    return __captured;\n  };\n\n  var __scope_0 = new Array(17);\n\n  var $$0 = {\n    enumerable: false,\n    configurable: true,\n    writable: true\n  };\n  var $$1 = {\n    enumerable: false,\n    configurable: true,\n    writable: false\n  };\n\n  var _$0 = this;\n\n  var _$1 = _$0.Object;\n  var _$2 = _$1.defineProperty;\n  var _$3 = _$1.setPrototypeOf;\n\n  var _J = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _2W = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _M = function () {\n    _2W(this, _M);\n\n    this.link = null;\n    this.rewriteFlag = null;\n    this.reset();\n  };\n\n  var _N = _M.prototype;\n\n  var _1C = function () {\n    return _F;\n  };\n\n  var _1D = function (link) {\n    if (this.link != null) this.link.clearFocus();\n    this.link = link;\n\n    if (this.link != null) {\n      this.link.focus(\"red\");\n    }\n  };\n\n  var _1E = function (link) {\n    this.setLink(link);\n    this.rewriteFlag = _F.SEARCH;\n  };\n\n  var _3r = function (obj) {\n    var __captured__scope_4 = __scope_0[3] || __get_scope_binding_0(3);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_4[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_4[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_4[1](obj);\n  };\n\n  var _3K = function (self, call) {\n    var __captured__scope_4 = __scope_0[3] || __get_scope_binding_0(3);\n\n    if (call && (__captured__scope_4[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _3s(self);\n  };\n\n  var _3s = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3L = function (o) {\n    var __captured__scope_4 = __scope_0[3] || __get_scope_binding_0(3);\n\n    __captured__scope_4[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_4[3](o);\n  };\n\n  var _2d = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _27 = function (ctx) {\n    _2d(this, _27);\n\n    this.ctx = ctx;\n  };\n\n  var _d = _27.prototype;\n\n  var _b = function (ctx, id, param, body) {\n    var __captured__scope_4 = __scope_0[3] || __get_scope_binding_0(3);\n\n    var _this5;\n\n    _2d(this, _b);\n\n    _this5 = _3K(this, __captured__scope_4[3](_b).call(this, ctx));\n    _this5.id = id;\n    _this5.param = param;\n    _this5.body = body;\n    return _this5;\n  };\n\n  var _2X = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3k = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _2q = function (type, value, pred) {\n    _3k(this, _2q);\n\n    this.type = type;\n    this.value = value;\n    this.pred = pred;\n  };\n\n  var _O = function (input) {\n    _2X(this, _O);\n\n    this._input = input;\n    this._index = 0;\n    this._token = undefined;\n\n    this._nextToken();\n  };\n\n  var _Q = _O.prototype;\n\n  var _1F = function () {\n    if (this._index >= this._input.length) {\n      return '\\0';\n    }\n\n    return this._input[this._index++];\n  };\n\n  var _1G = function () {\n    var c;\n\n    do {\n      c = this._nextChar();\n    } while (/\\s/.test(c));\n\n    switch (c) {\n      case ',':\n        this._token = new _2q(_2q.COMMA);\n        break;\n\n      case ';':\n        this._token = new _2q(_2q.SEMIC);\n        break;\n\n      case '(':\n        this._token = new _2q(_2q.LPAREN);\n        break;\n\n      case ')':\n        this._token = new _2q(_2q.RPAREN);\n        break;\n\n      case '\\0':\n        this._token = new _2q(_2q.EOF);\n        break;\n\n      case '=':\n        this._token = new _2q(_2q.DEF);\n        break;\n\n      default:\n        // text for string\n        if (/[a-zA-Z]|'/.test(c)) {\n          var str = '';\n\n          do {\n            str += c;\n            c = this._nextChar();\n          } while (/[a-zA-Z]|'|_/.test(c)); // put back the last char which is not part of the identifier\n\n\n          this._index--;\n          if (str == \"bind\") this._token = new _2q(_2q.BIND);else if (str == \"in\") this._token = new _2q(_2q.IN);else if (str == \"new\") this._token = new _2q(_2q.NEW);else if (str == \"PLUS\") this._token = new _2q(_2q.PLUS);else if (str == \"TIMES\") this._token = new _2q(_2q.TIMES);else if (str == \"AND\") this._token = new _2q(_2q.AND);else if (str == \"OR\") this._token = new _2q(_2q.OR);else if (str == \"NOT\") this._token = new _2q(_2q.NOT);else if (str == \"EQUALS\") this._token = new _2q(_2q.EQUALS);else if (str == \"IF\") this._token = new _2q(_2q.IF);else if (str == \"TRUE\") this._token = new _2q(_2q.TRUE, true);else if (str == \"FALSE\") this._token = new _2q(_2q.FALSE, false);else this._token = new _2q(_2q.LCID, str);\n        } // text for numbers\n        else if (/[0-9]/.test(c)) {\n            var _str = '';\n\n            do {\n              _str += c;\n              c = this._nextChar();\n            } while (/[0-9]/.test(c)); // put back the last char which is not part of the identifier\n\n\n            this._index--;\n            this._token = new _2q(_2q.INT, parseInt(_str));\n          } else {\n            this.fail();\n          }\n\n    }\n  };\n\n  var _1H = function (type) {\n    if (!type) {\n      return this._token.value;\n    }\n\n    var token = this._token;\n    this.match(type);\n    return token.value;\n  };\n\n  var _1I = function () {\n    return this._token.value;\n  };\n\n  var _1J = function () {\n    return this._token;\n  };\n\n  var _1K = function () {\n    return this._token.type;\n  };\n\n  var _1L = function () {\n    throw new Error(\"Unexpected token at offset \".concat(this._index));\n  };\n\n  var _1M = function (type) {\n    return this._token.type == type;\n  };\n\n  var _1N = function (type) {\n    if (this.next(type)) {\n      this._nextToken();\n\n      return;\n    }\n\n    console.error(\"\".concat(this._index, \": Invalid token: Expected '\").concat(type, \"' found '\").concat(this._token.type, \"'\"));\n    throw new Error('Parse Error');\n  };\n\n  var _1O = function (type) {\n    if (this.next(type)) {\n      this._nextToken();\n\n      return true;\n    }\n\n    return false;\n  };\n\n  var _2Y = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _R = function (lexer) {\n    _2Y(this, _R);\n\n    this.lexer = lexer;\n  };\n\n  var _S = _R.prototype;\n\n  var _1P = function () {\n    var result = this.term2([]); // make sure we consumed all the program, otherwise there was a syntax error\n\n    this.lexer.match(_2q.EOF);\n    return result;\n  };\n\n  var _1Q = function (ctx, thunk) {\n    if (thunk) {\n      var inner = this.term2(ctx);\n      return new _b(ctx, inner);\n    } else {\n      if (this.lexer.skip(_2q.BIND)) {\n        var id = this.term2(ctx);\n        id.ctx = [id].concat(id.ctx);\n        this.lexer.match(_2q.DEF);\n        var P = this.term2(ctx);\n        this.lexer.match(_2q.IN);\n        var B = this.term2([id].concat(ctx));\n        return new _b(ctx, id, P, B);\n      } else if (this.lexer.skip(_2q.NEW)) {\n        var _id = this.term2(ctx);\n\n        _id.ctx = [_id].concat(_id.ctx);\n        this.lexer.match(_2q.DEF);\n\n        var _P = this.term2(ctx);\n\n        this.lexer.match(_2q.IN);\n\n        var _B = this.term2([_id].concat(ctx));\n\n        return new _b(ctx, _id, _P, _B);\n      } else {\n        return this.atom(ctx);\n      }\n    }\n  };\n\n  var _1R = function (ctx) {\n    if (this.lexer.skip(_2q.LPAREN)) {\n      var term = this.term2(ctx);\n      this.lexer.match(_2q.RPAREN);\n      return term;\n    } else if (this.lexer.next(_2q.LCID)) {\n      var id = this.lexer.token(_2q.LCID);\n      return new _b(ctx, id);\n    } else {\n      return this.operation(ctx);\n    }\n  };\n\n  var _1S = function (ctx) {\n    var name;\n    var sig;\n    var active;\n    var eas = [];\n    var das = [];\n    var token = this.lexer.lookaheadType();\n\n    switch (token) {\n      case _2q.PLUS:\n        name = \"+\";\n        sig = [2, 0];\n        active = true;\n        break;\n\n      case _2q.TIMES:\n        name = \"*\";\n        sig = [2, 0];\n        active = true;\n        break;\n\n      case _2q.AND:\n        name = \"∧\";\n        sig = [2, 0];\n        active = true;\n        break;\n\n      case _2q.OR:\n        name = \"∨\";\n        sig = [2, 0];\n        active = true;\n        break;\n\n      case _2q.NOT:\n        name = \"¬\";\n        sig = [1, 0];\n        active = true;\n        break;\n\n      case _2q.EQUALS:\n        name = \"==\";\n        sig = [2, 0];\n        active = true;\n        break;\n\n      case _2q.IF:\n        name = \"if\";\n        sig = [1, 2];\n        active = true;\n        break;\n\n      default:\n        name = this.lexer.value();\n        sig = [0, 0];\n        active = false;\n        break;\n    }\n\n    this.lexer.match(token);\n\n    if (sig[0] > 0) {\n      this.lexer.match(_2q.LPAREN);\n      eas = this.gatherArgs(ctx, sig[0], false);\n      if (sig[1] == 0) this.lexer.match(_2q.RPAREN);\n    }\n\n    if (sig[1] > 0) {\n      if (sig[0] == 0) this.lexer.match(_2q.LPAREN);\n      this.lexer.match(_2q.SEMIC);\n      das = this.gatherArgs(ctx, sig[1], true);\n      this.lexer.match(_2q.RPAREN);\n    }\n\n    return new _b(ctx, sig, name, active, eas, das);\n  };\n\n  var _1T = function (ctx, type, thunk) {\n    var args = [];\n\n    for (var i = 0; i < type; i++) {\n      var term = this.term2(ctx, thunk);\n      args.push(term);\n\n      if (this.lexer.next(_2q.COMMA)) {\n        this.lexer.match(_2q.COMMA);\n      }\n    }\n\n    return args;\n  };\n\n  var _2b = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _W = function (from, to, fromPort, toPort, colour) {\n    _2b(this, _W);\n\n    this.from = from;\n    this.to = to;\n    this.fromPort = fromPort;\n    this.toPort = toPort;\n    this.visited = false; // HACKING\n\n    this.reverse = false;\n    this.colour = colour;\n    this.penWidth = null;\n    this.addToGraph(graph); // cheating\n\n    if (colour != \"lightgrey\") {\n      // cheating\n      this.addToNode(); // cheating\n    }\n  };\n\n  var _X = _W.prototype;\n\n  var _1k = function () {\n    var fromNode = this.graph.findNodeByKey(this.from);\n    fromNode.links.push(this);\n    var toNode = this.graph.findNodeByKey(this.to);\n    toNode.links.push(this);\n  };\n\n  var _1l = function (graph) {\n    if (graph != null) graph.addLink(this);\n    this.graph = graph;\n    return this; // to provide chain operation\n  };\n\n  var _1m = function (group) {\n    group.addLink(this);\n    this.group = group;\n    return this; // to provide chain operation\n  };\n\n  var _1n = function (group) {\n    this.group.removeLink(this);\n    this.addToGroup(group);\n    return this;\n  };\n\n  var _1o = function (key, port) {\n    var fromNode = this.graph.findNodeByKey(this.from);\n    fromNode.links.splice(fromNode.links.indexOf(this), 1);\n    this.from = key;\n    this.fromPort = port;\n    fromNode = this.graph.findNodeByKey(this.from);\n    fromNode.links.push(this);\n  };\n\n  var _1p = function (key, port) {\n    var toNode = this.graph.findNodeByKey(this.to);\n    toNode.links.splice(toNode.links.indexOf(this), 1);\n    this.to = key;\n    this.toPort = port;\n    toNode = this.graph.findNodeByKey(this.to);\n    toNode.links.push(this);\n  };\n\n  var _1q = function (colour) {\n    this.colour = colour;\n    this.penWidth = \"20\";\n  };\n\n  var _1r = function () {\n    this.colour = null;\n    this.penWidth = null;\n    this.visited = true; // HACKING\n  };\n\n  var _1s = function () {\n    var fromNode = this.graph.findNodeByKey(this.from);\n    fromNode.links.splice(fromNode.links.indexOf(this), 1);\n    var toNode = this.graph.findNodeByKey(this.to);\n    toNode.links.splice(toNode.links.indexOf(this), 1);\n    this.group.removeLink(this);\n    this.graph.removeLink(this);\n  };\n\n  var _1t = function () {\n    return this.from + \"->\" + this.to;\n  };\n\n  var _1u = function (level) {\n    var str = level;\n\n    if (!this.reverse) {\n      str += this.from + '->' + this.to + '[';\n      if (this.fromPort != null) str += 'tailport=' + this.fromPort;\n      if (this.toPort != null) str += ',headport=' + this.toPort;\n    } else {\n      str += this.to + '->' + this.from + '[dir=back';\n      if (this.fromPort != null) str += ',headport=' + this.fromPort;\n      if (this.toPort != null) str += ',tailport=' + this.toPort;\n    }\n\n    if (this.colour != null) str += ',color=' + this.colour;\n    if (this.penWidth != null) str += ',penwidth=' + this.penWidth;\n    str += '];';\n    return str;\n  };\n\n  var _2V = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3p = function (obj) {\n    var __captured__scope_H = __scope_0[16] || __get_scope_binding_0(16);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_H[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_H[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_H[1](obj);\n  };\n\n  var _3G = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3H = function (self, call) {\n    var __captured__scope_H = __scope_0[16] || __get_scope_binding_0(16);\n\n    if (call && (__captured__scope_H[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _3q(self);\n  };\n\n  var _3q = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3J = function (target, property, receiver) {\n    var __captured__scope_H = __scope_0[16] || __get_scope_binding_0(16);\n\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      __captured__scope_H[5] = Reflect.get;\n    } else {\n      __captured__scope_H[5] = function _get(target, property, receiver) {\n        var base = _4I(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return __captured__scope_H[5](target, property, receiver || target);\n  };\n\n  var _4I = function (object, property) {\n    var __captured__scope_H = __scope_0[16] || __get_scope_binding_0(16);\n\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = __captured__scope_H[3](object);\n      if (object === null) break;\n    }\n\n    return object;\n  };\n\n  var _3I = function (o) {\n    var __captured__scope_H = __scope_0[16] || __get_scope_binding_0(16);\n\n    __captured__scope_H[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_H[3](o);\n  };\n\n  var _3A = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _1j = function (shape, text, name) {\n    _3A(this, _1j);\n\n    this.key = null;\n    this.shape = shape;\n    this.text = text;\n    this.name = name; // identifier name or constant name if any\n\n    this.graph = null;\n    this.group = null;\n    this.width = 0.3;\n    this.height = 0.3;\n    this.links = [];\n    this.addToGraph(graph); // cheating!\n  };\n\n  var _V = _1j.prototype;\n\n  var _1X = function (graph) {\n    if (graph != null) graph.addNode(this);\n    this.graph = graph;\n    return this; // to provide chain operation\n  };\n\n  var _1Y = function (group) {\n    group.addNode(this);\n    this.group = group;\n    return this; // to provide chain operation\n  };\n\n  var _1Z = function (group) {\n    this.group.removeNode(this);\n    this.addToGroup(group);\n    return this;\n  };\n\n  var _1a = function () {\n    return this.links;\n  };\n\n  var _1b = function () {\n    var links = [];\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = this.links[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var link = _step.value;\n        if (link.to == this.key) links.push(link);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return links;\n  };\n\n  var _1c = function () {\n    var links = [];\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = this.links[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var link = _step2.value;\n        if (link.from == this.key) links.push(link);\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    return links;\n  };\n\n  var _1d = function () {\n    var _this = this;\n\n    var links = this.findLinksOutOf();\n    var nodeKeys = links.map(function (l) {\n      return l.to;\n    });\n    return nodeKeys.map(function (k) {\n      return _this.graph.findNodeByKey(k);\n    });\n  };\n\n  var _1e = function (graph) {\n    var newNode = new _1j(this.shape, this.text, this.name).addToGraph(graph);\n    newNode.width = this.width;\n    newNode.height = this.height;\n    return newNode;\n  };\n\n  var _1f = function () {\n    this.group.removeNode(this);\n    this.graph.removeNode(this);\n  };\n\n  var _1g = function (level) {\n    var str = level + this.key + '[label=\"' + this.text;\n    ;\n    str += '\"';\n    if (this.shape != null) str += ',shape=' + this.shape;\n    if (this.width != null) str += ',width=' + this.width;\n    if (this.height != null) str += ',height=' + this.height;\n    return str += '];';\n  };\n\n  var _1h = function (token, link) {\n    return link;\n  };\n\n  var _1i = function (token, nextLink) {\n    token.rewrite = false;\n    return nextLink;\n  };\n\n  var _1z = function () {\n    var __captured__scope_H = __scope_0[16] || __get_scope_binding_0(16);\n\n    var _this;\n\n    _3G(this, _1z);\n\n    _this = _3H(this, __captured__scope_H[3](_1z).call(this, null, null, null)); // shape, text, name\n\n    _this.nodes = [];\n    _this.links = []; // for copying\n\n    return _this;\n  };\n\n  var _20 = function (node) {\n    this.nodes.push(node);\n  };\n\n  var _21 = function (node) {\n    return this.nodes.splice(this.nodes.indexOf(node), 1);\n  };\n\n  var _22 = function (link) {\n    this.links.push(link);\n  };\n\n  var _23 = function (link) {\n    var i = this.links.indexOf(link);\n    if (i != -1) this.links.splice(i, 1);\n  };\n\n  var _24 = function () {\n    var __captured__scope_H = __scope_0[16] || __get_scope_binding_0(16);\n\n    var _arr = Array.from(this.nodes);\n\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var node = _arr[_i];\n      node.delete();\n    }\n\n    __captured__scope_H[5](__captured__scope_H[3](_1z.prototype), \"delete\", this).call(this);\n  };\n\n  var _25 = function (level) {\n    var str = \"\";\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = this.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var node = _step.value;\n        str += node.draw(level);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return str;\n  };\n\n  var _26 = function () {};\n\n  var _K = function () {\n    _2V(this, _K);\n\n    this.clear();\n  };\n\n  var _L = _K.prototype;\n\n  var _14 = function () {\n    this.key = 0;\n    this.linkKey = 0;\n    this.allNodes = new Map(); // for efficiency searching\n\n    this.allLinks = []; // for printing ONLY\n\n    this.child = new _1z();\n  };\n\n  var _15 = function (node) {\n    node.key = 'nd' + this.key;\n    this.allNodes.set(node.key, node);\n    this.key++;\n  };\n\n  var _16 = function (node) {\n    var _arr = Array.from(node.findLinksConnected());\n\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var link = _arr[_i];\n      link.delete();\n    }\n\n    return this.allNodes.delete(node.key);\n  };\n\n  var _17 = function (key) {\n    return this.allNodes.get(key);\n  };\n\n  var _18 = function (link) {\n    this.allLinks.push(link);\n  };\n\n  var _19 = function (link) {\n    this.allLinks.splice(this.allLinks.indexOf(link), 1);\n  };\n\n  var _1A = function (from, to) {\n    var fromNode = this.findNodeByKey(from);\n    return fromNode.findLinksOutOf().filter(function (x) {\n      return x.to == to;\n    })[0];\n  };\n\n  var _1B = function (width, height) {\n    var str = this.child.draw('\\n  ');\n    str += '\\n';\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = this.allLinks[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var link = _step.value;\n        str += link.draw('\\n  ');\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return 'digraph G {' + '\\n  rankdir=BT;' + '\\n  edge[arrowhead=none,arrowtail=none];' + '\\n  node[fixedsize=true,shape=circle]' + '\\n  size=\"' + width + ',' + height + '\";' + '\\n  labeldistance=0;' + '\\n  nodesep=.175;' + '\\n  ranksep=.175;' + '\\n' + str + '\\n}';\n  };\n\n  var _3n = function (obj) {\n    var __captured__scope_3 = __scope_0[2] || __get_scope_binding_0(2);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_3[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_3[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_3[1](obj);\n  };\n\n  var _2c = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3D = function (self, call) {\n    var __captured__scope_3 = __scope_0[2] || __get_scope_binding_0(2);\n\n    if (call && (__captured__scope_3[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _3o(self);\n  };\n\n  var _3o = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3F = function (target, property, receiver) {\n    var __captured__scope_3 = __scope_0[2] || __get_scope_binding_0(2);\n\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      __captured__scope_3[5] = Reflect.get;\n    } else {\n      __captured__scope_3[5] = function _get(target, property, receiver) {\n        var base = _4H(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return __captured__scope_3[5](target, property, receiver || target);\n  };\n\n  var _4H = function (object, property) {\n    var __captured__scope_3 = __scope_0[2] || __get_scope_binding_0(2);\n\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = __captured__scope_3[3](object);\n      if (object === null) break;\n    }\n\n    return object;\n  };\n\n  var _3E = function (o) {\n    var __captured__scope_3 = __scope_0[2] || __get_scope_binding_0(2);\n\n    __captured__scope_3[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_3[3](o);\n  };\n\n  var _Y = function (prin, auxs) {\n    var __captured__scope_3 = __scope_0[2] || __get_scope_binding_0(2);\n\n    var _this;\n\n    _2c(this, _Y);\n\n    _this = _3D(this, __captured__scope_3[3](_Y).call(this));\n    _this.prin = null;\n\n    _this.set(prin, auxs);\n\n    _this.boxed = false;\n    return _this;\n  };\n\n  var _1v = function (prin, auxs) {\n    this.prin = prin;\n    this.auxs = auxs;\n    return this;\n  };\n\n  var _1w = function () {\n    this.boxed = true;\n    return this.prin;\n  };\n\n  var _1x = function () {\n    this.boxed = false;\n    return this.prin;\n  };\n\n  var _1y = function (level) {\n    var __captured__scope_3 = __scope_0[2] || __get_scope_binding_0(2);\n\n    if (this.boxed) {\n      var str = \"\";\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var node = _step.value;\n          str += node.draw(level + '  ');\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return level + 'subgraph cluster_' + this.key + ' {' + level + '  graph[style=dotted];' + str + level + '};';\n    }\n\n    return __captured__scope_3[5](__captured__scope_3[3](_Y.prototype), \"draw\", this).call(this, level);\n  };\n\n  var _3v = function (obj) {\n    var __captured__scope_6 = __scope_0[5] || __get_scope_binding_0(5);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_6[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_6[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_6[1](obj);\n  };\n\n  var _2f = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3O = function (self, call) {\n    var __captured__scope_6 = __scope_0[5] || __get_scope_binding_0(5);\n\n    if (call && (__captured__scope_6[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _3w(self);\n  };\n\n  var _3w = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3P = function (o) {\n    var __captured__scope_6 = __scope_0[5] || __get_scope_binding_0(5);\n\n    __captured__scope_6[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_6[3](o);\n  };\n\n  var _h = function (name) {\n    var __captured__scope_6 = __scope_0[5] || __get_scope_binding_0(5);\n\n    var _this;\n\n    _2f(this, _h);\n\n    _this = _3O(this, __captured__scope_6[3](_h).call(this, \"circle\", \"\", name));\n    _this.height = 0.1;\n    _this.width = 0.1;\n    return _this;\n  };\n\n  var _3t = function (obj) {\n    var __captured__scope_5 = __scope_0[4] || __get_scope_binding_0(4);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_5[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_5[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_5[1](obj);\n  };\n\n  var _2e = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3M = function (self, call) {\n    var __captured__scope_5 = __scope_0[4] || __get_scope_binding_0(4);\n\n    if (call && (__captured__scope_5[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _3u(self);\n  };\n\n  var _3u = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3N = function (o) {\n    var __captured__scope_5 = __scope_0[4] || __get_scope_binding_0(4);\n\n    __captured__scope_5[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_5[3](o);\n  };\n\n  var _4F = function (obj) {\n    var __captured__scope_G = __scope_0[15] || __get_scope_binding_0(15);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_G[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_G[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_G[1](obj);\n  };\n\n  var _2p = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3i = function (self, call) {\n    var __captured__scope_G = __scope_0[15] || __get_scope_binding_0(15);\n\n    if (call && (__captured__scope_G[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _4G(self);\n  };\n\n  var _4G = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3j = function (o) {\n    var __captured__scope_G = __scope_0[15] || __get_scope_binding_0(15);\n\n    __captured__scope_G[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_G[3](o);\n  };\n\n  var _13 = function (name, active) {\n    var __captured__scope_G = __scope_0[15] || __get_scope_binding_0(15);\n\n    var _this;\n\n    _2p(this, _13);\n\n    _this = _3i(this, __captured__scope_G[3](_13).call(this, null, name, name));\n    _this.active = active;\n    return _this;\n  };\n\n  var _2D = function (token) {};\n\n  var _2E = function () {\n    return new _13(this.name, this.active);\n  };\n\n  var _f = function (name) {\n    var __captured__scope_5 = __scope_0[4] || __get_scope_binding_0(4);\n\n    _2e(this, _f);\n\n    return _3M(this, __captured__scope_5[3](_f).call(this, \"point\", \"\", name));\n  };\n\n  var _28 = function (token, link) {\n    if (link.to == this.key) {\n      return this.findLinksOutOf(null)[0];\n    }\n  };\n\n  var _29 = function (token) {\n    var link = token.link;\n    var inLinks = this.findLinksInto();\n    var outLinks = this.findLinksOutOf();\n    var nextLink = outLinks[0];\n    var nextNode = this.graph.findNodeByKey(nextLink.to);\n\n    if (nextNode instanceof _f || nextNode instanceof _h) {\n      inLinks.map(function (l) {\n        return l.changeTo(nextNode.key, \"_\");\n      });\n      nextLink.delete();\n      this.delete();\n    } else if (nextNode instanceof _13) {\n      var term = new _Y().addToGroup(this.group);\n      var copy = nextNode.copy().addToGroup(term); // clean up here\n\n      var opLinks = nextNode.findLinksOutOf();\n\n      var auxs = _f.createDNet(opLinks.length, [nextNode, nextNode, copy, copy], term);\n\n      link.changeTo(copy.key, \"_\");\n\n      for (var i = 0; i < opLinks.length; i++) {\n        opLinks[i].changeFrom(auxs[i].key, \"_\");\n      }\n\n      term.set(copy, auxs);\n    }\n\n    token.rewriteFlag = _F.SEARCH;\n    return link;\n  };\n\n  var _2A = function () {\n    return new _f(this.name);\n  };\n\n  var _2B = function (level) {\n    return level + this.key + '[shape=' + this.shape + '];';\n  };\n\n  var _2C = function (cs, inputs, originalGroup, op) {\n    var c;\n    var from;\n    var to;\n    var cList = [];\n    var group = new _1z();\n\n    for (var n = 0; n < cs; n++) {\n      c = new _f().addToGroup(group);\n      cList.push(c);\n      if (inputs.length == 0) // maybe this needs to be \"more elegant\"\n        new _W(op.key, c.key, \"_\", \"_\", \"lightgrey\").addToGroup(group);\n    }\n\n    if (cList.length > 0) {\n      for (var i = 0; i < inputs.length; i++) {\n        from = inputs[i];\n        to = cList[i % cs];\n        new _W(from.key, to.key, \"_\", \"_\").addToGroup(group);\n      }\n    }\n\n    group.addToGroup(originalGroup);\n    return cList;\n  };\n\n  var _3l = function (obj) {\n    var __captured__scope_2 = __scope_0[1] || __get_scope_binding_0(1);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_2[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_2[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_2[1](obj);\n  };\n\n  var _2a = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3B = function (self, call) {\n    var __captured__scope_2 = __scope_0[1] || __get_scope_binding_0(1);\n\n    if (call && (__captured__scope_2[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _3m(self);\n  };\n\n  var _3m = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3C = function (o) {\n    var __captured__scope_2 = __scope_0[1] || __get_scope_binding_0(1);\n\n    __captured__scope_2[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_2[3](o);\n  };\n\n  var _T = function () {\n    var __captured__scope_2 = __scope_0[1] || __get_scope_binding_0(1);\n\n    _2a(this, _T);\n\n    return _3B(this, __captured__scope_2[3](_T).call(this, \"point\", \"\"));\n  };\n\n  var _1U = function (token) {\n    return this.findLinksOutOf(null)[0];\n  };\n\n  var _1V = function () {\n    return new _T();\n  };\n\n  var _1W = function (level) {\n    return level + this.key + '[shape=' + this.shape + '];';\n  };\n\n  var _3x = function (obj) {\n    var __captured__scope_7 = __scope_0[6] || __get_scope_binding_0(6);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_7[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_7[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_7[1](obj);\n  };\n\n  var _2g = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3Q = function (self, call) {\n    var __captured__scope_7 = __scope_0[6] || __get_scope_binding_0(6);\n\n    if (call && (__captured__scope_7[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _3y(self);\n  };\n\n  var _3y = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3R = function (o) {\n    var __captured__scope_7 = __scope_0[6] || __get_scope_binding_0(6);\n\n    __captured__scope_7[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_7[3](o);\n  };\n\n  var _k = function (n) {\n    var __captured__scope_7 = __scope_0[6] || __get_scope_binding_0(6);\n\n    _2g(this, _k);\n\n    return _3Q(this, __captured__scope_7[3](_k).call(this, n, false));\n  };\n\n  var _3z = function (obj) {\n    var __captured__scope_8 = __scope_0[7] || __get_scope_binding_0(7);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_8[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_8[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_8[1](obj);\n  };\n\n  var _2h = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3S = function (self, call) {\n    var __captured__scope_8 = __scope_0[7] || __get_scope_binding_0(7);\n\n    if (call && (__captured__scope_8[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _40(self);\n  };\n\n  var _40 = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3T = function (o) {\n    var __captured__scope_8 = __scope_0[7] || __get_scope_binding_0(7);\n\n    __captured__scope_8[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_8[3](o);\n  };\n\n  var _n = function (b) {\n    var __captured__scope_8 = __scope_0[7] || __get_scope_binding_0(7);\n\n    _2h(this, _n);\n\n    b = _n.parseBoolean(b);\n    return _3S(this, __captured__scope_8[3](_n).call(this, b, false));\n  };\n\n  var _2F = function () {\n    return new _n();\n  };\n\n  var _2G = function (b) {\n    if (b == \"false\" || b == 0) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  var _41 = function (obj) {\n    var __captured__scope_9 = __scope_0[8] || __get_scope_binding_0(8);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_9[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_9[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_9[1](obj);\n  };\n\n  var _2i = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3U = function (self, call) {\n    var __captured__scope_9 = __scope_0[8] || __get_scope_binding_0(8);\n\n    if (call && (__captured__scope_9[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _42(self);\n  };\n\n  var _42 = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3V = function (o) {\n    var __captured__scope_9 = __scope_0[8] || __get_scope_binding_0(8);\n\n    __captured__scope_9[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_9[3](o);\n  };\n\n  var _p = function () {\n    var __captured__scope_9 = __scope_0[8] || __get_scope_binding_0(8);\n\n    _2i(this, _p);\n\n    return _3U(this, __captured__scope_9[3](_p).call(this, \"+\", true));\n  };\n\n  var _2H = function () {\n    return new _p();\n  };\n\n  var _2I = function (token) {\n    var _this = this;\n\n    var inLink = this.findLinksInto()[0];\n    var outLinks = this.findLinksOutOf();\n    var n = outLinks.reduce(function (sum, x) {\n      return sum + _this.graph.findNodeByKey(x.to).name;\n    }, 0);\n    var newNode = new _k(n, false).addToGroup(this.group);\n    var newLink = new _W(inLink.from, newNode.key, \"_\", \"_\").addToGroup(this.group);\n    outLinks.map(function (x) {\n      return x.delete();\n    });\n    outLinks.map(function (x) {\n      return _this.graph.findNodeByKey(x.to).delete();\n    });\n    this.delete();\n    token.rewriteFlag = _F.SEARCH;\n    return newLink;\n  };\n\n  var _43 = function (obj) {\n    var __captured__scope_A = __scope_0[9] || __get_scope_binding_0(9);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_A[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_A[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_A[1](obj);\n  };\n\n  var _2j = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3W = function (self, call) {\n    var __captured__scope_A = __scope_0[9] || __get_scope_binding_0(9);\n\n    if (call && (__captured__scope_A[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _44(self);\n  };\n\n  var _44 = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3X = function (o) {\n    var __captured__scope_A = __scope_0[9] || __get_scope_binding_0(9);\n\n    __captured__scope_A[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_A[3](o);\n  };\n\n  var _r = function () {\n    var __captured__scope_A = __scope_0[9] || __get_scope_binding_0(9);\n\n    _2j(this, _r);\n\n    return _3W(this, __captured__scope_A[3](_r).call(this, \"*\", true));\n  };\n\n  var _2J = function () {\n    return new _r();\n  };\n\n  var _2K = function (token) {\n    var _this = this;\n\n    var inLink = this.findLinksInto()[0];\n    var outLinks = this.findLinksOutOf();\n    var n = outLinks.reduce(function (sum, x) {\n      return sum * _this.graph.findNodeByKey(x.to).name;\n    }, 1);\n    var newNode = new _k(n, false).addToGroup(this.group);\n    var newLink = new _W(inLink.from, newNode.key, \"_\", \"_\").addToGroup(this.group);\n    outLinks.map(function (x) {\n      return x.delete();\n    });\n    outLinks.map(function (x) {\n      return _this.graph.findNodeByKey(x.to).delete();\n    });\n    this.delete();\n    token.rewriteFlag = _F.SEARCH;\n    return newLink;\n  };\n\n  var _45 = function (obj) {\n    var __captured__scope_B = __scope_0[10] || __get_scope_binding_0(10);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_B[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_B[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_B[1](obj);\n  };\n\n  var _2k = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3Y = function (self, call) {\n    var __captured__scope_B = __scope_0[10] || __get_scope_binding_0(10);\n\n    if (call && (__captured__scope_B[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _46(self);\n  };\n\n  var _46 = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3Z = function (o) {\n    var __captured__scope_B = __scope_0[10] || __get_scope_binding_0(10);\n\n    __captured__scope_B[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_B[3](o);\n  };\n\n  var _t = function () {\n    var __captured__scope_B = __scope_0[10] || __get_scope_binding_0(10);\n\n    _2k(this, _t);\n\n    return _3Y(this, __captured__scope_B[3](_t).call(this, \"∧\", true));\n  };\n\n  var _2L = function () {\n    return new _t();\n  };\n\n  var _2M = function (token) {\n    var _this = this;\n\n    var inLink = this.findLinksInto()[0];\n    var outLinks = this.findLinksOutOf();\n    var b = outLinks.reduce(function (sum, x) {\n      return sum && _n.parseBoolean(_this.graph.findNodeByKey(x.to).name);\n    }, true);\n    var newNode = new _n(b, false).addToGroup(this.group);\n    var newLink = new _W(inLink.from, newNode.key, \"_\", \"_\").addToGroup(this.group);\n    outLinks.map(function (x) {\n      return x.delete();\n    });\n    outLinks.map(function (x) {\n      return _this.graph.findNodeByKey(x.to).delete();\n    });\n    this.delete();\n    token.rewriteFlag = _F.SEARCH;\n    return newLink;\n  };\n\n  var _47 = function (obj) {\n    var __captured__scope_C = __scope_0[11] || __get_scope_binding_0(11);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_C[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_C[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_C[1](obj);\n  };\n\n  var _2l = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3a = function (self, call) {\n    var __captured__scope_C = __scope_0[11] || __get_scope_binding_0(11);\n\n    if (call && (__captured__scope_C[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _48(self);\n  };\n\n  var _48 = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3b = function (o) {\n    var __captured__scope_C = __scope_0[11] || __get_scope_binding_0(11);\n\n    __captured__scope_C[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_C[3](o);\n  };\n\n  var _v = function () {\n    var __captured__scope_C = __scope_0[11] || __get_scope_binding_0(11);\n\n    _2l(this, _v);\n\n    return _3a(this, __captured__scope_C[3](_v).call(this, \"∨\", true));\n  };\n\n  var _2N = function () {\n    return new _v();\n  };\n\n  var _2O = function (token) {\n    var _this = this;\n\n    var inLink = this.findLinksInto()[0];\n    var outLinks = this.findLinksOutOf();\n    var b = outLinks.reduce(function (sum, x) {\n      return sum || _n.parseBoolean(_this.graph.findNodeByKey(x.to).name);\n    }, false);\n    var newNode = new _n(b, false).addToGroup(this.group);\n    var newLink = new _W(inLink.from, newNode.key, \"_\", \"_\").addToGroup(this.group);\n    outLinks.map(function (x) {\n      return x.delete();\n    });\n    outLinks.map(function (x) {\n      return _this.graph.findNodeByKey(x.to).delete();\n    });\n    this.delete();\n    token.rewriteFlag = _F.SEARCH;\n    return newLink;\n  };\n\n  var _49 = function (obj) {\n    var __captured__scope_D = __scope_0[12] || __get_scope_binding_0(12);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_D[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_D[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_D[1](obj);\n  };\n\n  var _2m = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3c = function (self, call) {\n    var __captured__scope_D = __scope_0[12] || __get_scope_binding_0(12);\n\n    if (call && (__captured__scope_D[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _4A(self);\n  };\n\n  var _4A = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3d = function (o) {\n    var __captured__scope_D = __scope_0[12] || __get_scope_binding_0(12);\n\n    __captured__scope_D[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_D[3](o);\n  };\n\n  var _x = function () {\n    var __captured__scope_D = __scope_0[12] || __get_scope_binding_0(12);\n\n    _2m(this, _x);\n\n    return _3c(this, __captured__scope_D[3](_x).call(this, \"¬\", true));\n  };\n\n  var _2P = function () {\n    return new _x();\n  };\n\n  var _2Q = function (token) {\n    var _this = this;\n\n    var inLink = this.findLinksInto()[0];\n    var outLinks = this.findLinksOutOf();\n    var b = !_n.parseBoolean(this.graph.findNodeByKey(outLinks[0].to).name);\n    var newNode = new _n(b, false).addToGroup(this.group);\n    var newLink = new _W(inLink.from, newNode.key, \"_\", \"_\").addToGroup(this.group);\n    outLinks.map(function (x) {\n      return x.delete();\n    });\n    outLinks.map(function (x) {\n      return _this.graph.findNodeByKey(x.to).delete();\n    });\n    this.delete();\n    token.rewriteFlag = _F.SEARCH;\n    return newLink;\n  };\n\n  var _4B = function (obj) {\n    var __captured__scope_E = __scope_0[13] || __get_scope_binding_0(13);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_E[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_E[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_E[1](obj);\n  };\n\n  var _2n = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3e = function (self, call) {\n    var __captured__scope_E = __scope_0[13] || __get_scope_binding_0(13);\n\n    if (call && (__captured__scope_E[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _4C(self);\n  };\n\n  var _4C = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3f = function (o) {\n    var __captured__scope_E = __scope_0[13] || __get_scope_binding_0(13);\n\n    __captured__scope_E[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_E[3](o);\n  };\n\n  var _z = function () {\n    var __captured__scope_E = __scope_0[13] || __get_scope_binding_0(13);\n\n    _2n(this, _z);\n\n    return _3e(this, __captured__scope_E[3](_z).call(this, \"==\", true));\n  };\n\n  var _2R = function () {\n    return new _z();\n  };\n\n  var _2S = function (token) {\n    var _this = this;\n\n    var inLink = this.findLinksInto()[0];\n    var outLinks = this.findLinksOutOf();\n    var left = this.graph.findNodeByKey(outLinks[0].to).name;\n    var right = this.graph.findNodeByKey(outLinks[1].to).name;\n    var b = left == right;\n    var newNode = new _n(b, false).addToGroup(this.group);\n    var newLink = new _W(inLink.from, newNode.key, \"_\", \"_\").addToGroup(this.group);\n    outLinks.map(function (x) {\n      return x.delete();\n    });\n    outLinks.map(function (x) {\n      return _this.graph.findNodeByKey(x.to).delete();\n    });\n    this.delete();\n    token.rewriteFlag = _F.SEARCH;\n    return newLink;\n  };\n\n  var _4D = function (obj) {\n    var __captured__scope_F = __scope_0[14] || __get_scope_binding_0(14);\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      __captured__scope_F[1] = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      __captured__scope_F[1] = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return __captured__scope_F[1](obj);\n  };\n\n  var _2o = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _3g = function (self, call) {\n    var __captured__scope_F = __scope_0[14] || __get_scope_binding_0(14);\n\n    if (call && (__captured__scope_F[1](call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _4E(self);\n  };\n\n  var _4E = function (self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  };\n\n  var _3h = function (o) {\n    var __captured__scope_F = __scope_0[14] || __get_scope_binding_0(14);\n\n    __captured__scope_F[3] = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return __captured__scope_F[3](o);\n  };\n\n  var _11 = function () {\n    var __captured__scope_F = __scope_0[14] || __get_scope_binding_0(14);\n\n    _2o(this, _11);\n\n    return _3g(this, __captured__scope_F[3](_11).call(this, \"if\", true));\n  };\n\n  var _2T = function () {\n    return new _11();\n  };\n\n  var _2U = function (token) {\n    var inLink = this.findLinksInto()[0];\n    var outLinks = this.findLinksOutOf();\n    var name = this.graph.findNodeByKey(outLinks[0].to).name;\n    var keep;\n    var del;\n\n    if (_n.parseBoolean(name)) {\n      keep = 1;\n      del = 2;\n    } else {\n      keep = 2;\n      del = 1;\n    }\n\n    outLinks[del].delete();\n    var newNode = this.graph.findNodeByKey(outLinks[keep].to).group.unbox();\n    var newLink = new _W(inLink.from, newNode.key, \"_\", \"_\").addToGroup(this.group);\n    outLinks[0].delete();\n    this.graph.findNodeByKey(outLinks[0].to).delete();\n    this.delete();\n    token.rewriteFlag = _F.SEARCH;\n    return newLink;\n  };\n\n  var _1 = function () {\n    _J(this, _1);\n\n    this.setMachine(new _K(), new _M(), 0);\n  };\n\n  var _2 = _1.prototype;\n\n  var _3 = function (graphSet, tokenSet, countSet) {\n    var __captured__scope_1 = __scope_0[0] || __get_scope_binding_0(0);\n\n    this.graph = graphSet;\n    __captured__scope_1[0] = this.graph; // cheating!\n\n    this.token = tokenSet;\n    this.count = countSet;\n  };\n\n  var _4 = function (source) {\n    var lexer = new _O(source + '\\0');\n    var parser = new _R(lexer);\n    var ast = parser.parse();\n    this.count = 0;\n    this.graph.clear();\n    var start = new _T().addToGroup(this.graph.child);\n    var term = this.toGraph(ast, this.graph.child, false);\n    var link = new _W(start.key, term.prin.key, \"_\", \"_\").addToGroup(this.graph.child);\n    this.token.reset(link);\n  };\n\n  var _5 = function (ast, group) {\n    var graph = this.graph;\n    var term = new _Y().addToGroup(group);\n\n    if (ast instanceof _b) {\n      term.box();\n      ast = ast.inner;\n    } // VARIABLES & ATOMS\n\n\n    if (ast instanceof _b) {\n      var auxs = [];\n\n      for (var i = 0; i < ast.ctx.length; i++) {\n        var c = new _f().addToGroup(term);\n        auxs.push(c);\n        if (ast.ctx[i].name == ast.name) var prin = c;\n      }\n\n      term.set(prin, auxs); // BINDINGS & REFERENCES\n    } else if (ast instanceof _b || ast instanceof _b) {\n      var body = this.toGraph(ast.body, term, false).addToGroup(term);\n      var param = this.toGraph(ast.param, term, false).addToGroup(term);\n      var auxs = body.auxs;\n      var auxNode = auxs[0];\n      auxs.splice(0, 1);\n      auxs = auxs.concat(param.auxs);\n\n      if (ast instanceof _b) {\n        var atomNode = new _h(\"a\").addToGroup(param);\n        new _W(atomNode.key, param.prin.key, \"_\", \"_\").addToGroup(param);\n        param.prin = atomNode;\n      }\n\n      new _W(auxNode.key, param.prin.key, \"_\", \"_\").addToGroup(term);\n      auxs = _f.createDNet(ast.ctx.length, auxs, term);\n      term.set(body.prin, auxs); // OPERATIONS\n    } else if (ast instanceof _b) {\n      var op = this.toOp(ast.name, ast.active).addToGroup(term);\n      var auxs = [];\n      var next;\n\n      for (var i = 0; i < ast.sig[0]; i++) {\n        next = this.toGraph(ast.eas[i], term).addToGroup(term);\n        new _W(op.key, next.prin.key, \"_\", \"_\").addToGroup(term);\n        auxs = auxs.concat(next.auxs);\n      }\n\n      for (var i = 0; i < ast.sig[1]; i++) {\n        next = this.toGraph(ast.das[i], term).addToGroup(term);\n        var link = new _W(op.key, next.prin.key, \"_\", \"_\");\n        link.visited = true; // hacking\n\n        link.addToGroup(term);\n        auxs = auxs.concat(next.auxs);\n      }\n\n      auxs = _f.createDNet(ast.ctx.length, auxs, term, op);\n      term.set(op, auxs);\n    }\n\n    return term;\n  };\n\n  var _6 = function (name, active) {\n    if (Number.isInteger(parseInt(name))) {\n      return new _k(name);\n    } else if (name == \"true\" || name == \"false\") {\n      return new _n(name);\n    } else if (name == \"+\") {\n      return new _p();\n    } else if (name == \"*\") {\n      return new _r();\n    } else if (name == \"∧\") {\n      return new _t();\n    } else if (name == \"∨\") {\n      return new _v();\n    } else if (name == \"¬\") {\n      return new _x();\n    } else if (name == \"==\") {\n      return new _z();\n    } else if (name == \"if\") {\n      return new _11();\n    } else {\n      return new _13(name, active);\n    }\n  };\n\n  var _7 = function () {\n    // TODO\n    // Loop through all links in the graph\n    // Perform quotiening rules\n    return null;\n  };\n\n  var _8 = function (graphTxt, linkTxt, flagTxt) {\n    if (!finished) {\n      this.count++;\n      var node = this.graph.findNodeByKey(this.token.link.to);\n      var nextLink;\n\n      if (this.token.rewriteFlag == _F.REWRITE) {\n        nextLink = node.rewrite(this.token);\n      } else {\n        nextLink = this.pass(this.token);\n      }\n\n      if (nextLink != null) {\n        this.token.setLink(nextLink);\n        this.printHistory(graphTxt, linkTxt, flagTxt);\n      } else {\n        this.token.setLink(null);\n        play = false;\n        playing = false;\n        finished = true;\n      }\n    }\n  };\n\n  var _9 = function (graphTxt, linkTxt, flagTxt) {\n    graphTxt.val(this.graph.draw().replace(/\\n/g, \"\") + '\\n' + graphTxt.val());\n    linkTxt.val(this.token.link + '\\n' + linkTxt.val());\n    flagTxt.val(this.token.rewriteFlag + '\\n' + flagTxt.val());\n  };\n\n  var _A = function (token) {\n    // this needs cleaning up!\n    var link = token.link;\n\n    if (token.rewriteFlag == _F.SEARCH) {\n      var to = this.graph.findNodeByKey(link.to);\n      var outlinks = to.findLinksOutOf();\n\n      if (to instanceof _h) {\n        token.rewriteFlag = _F.RETURN;\n        return link;\n      } else if (to instanceof _13) {\n        if (outlinks.length == 0) {\n          if (to.active) {\n            token.rewriteFlag = _F.REWRITE;\n          } else {\n            token.rewriteFlag = _F.RETURN;\n          }\n\n          return link;\n        } else {\n          return outlinks[0];\n        }\n      } else if (to instanceof _f) {\n        token.rewriteFlag = _F.REWRITE;\n        return link;\n      }\n    } else if (token.rewriteFlag == _F.RETURN) {\n      var from = this.graph.findNodeByKey(link.from);\n      var outlinks = from.findLinksOutOf();\n\n      if (this.doneVisiting(link, outlinks)) {\n        // HACKING\n        if (from.active) {\n          token.rewriteFlag = _F.REWRITE;\n          return from.findLinksInto()[0];\n        } else {\n          token.rewriteFlag = _F.RETURN;\n          return from.findLinksInto()[0];\n        }\n      } else {\n        token.rewriteFlag = _F.SEARCH;\n        var j = this.findJ(link, outlinks);\n        return outlinks[j];\n      }\n    }\n\n    return link;\n  };\n\n  var _C = function (link, links) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = links[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var l = _step.value;\n        if (!l.visited && l != link) return false;\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  var _D = function (link, list) {\n    for (var j = 0; j < list.length; j++) {\n      if (!list[j].visited && list[j] != link) return j;\n    }\n\n    return null;\n  };\n\n  var __constructor = function () {};\n\n  $$0.value = _1X, _$2(_V, \"addToGraph\", $$0);\n  $$0.value = _1Y, _$2(_V, \"addToGroup\", $$0);\n  $$0.value = _1Z, _$2(_V, \"changeToGroup\", $$0);\n  $$0.value = _1a, _$2(_V, \"findLinksConnected\", $$0);\n  $$0.value = _1b, _$2(_V, \"findLinksInto\", $$0);\n  $$0.value = _1c, _$2(_V, \"findLinksOutOf\", $$0);\n  $$0.value = _1d, _$2(_V, \"findNodesOutOf\", $$0);\n  $$0.value = _1e, _$2(_V, \"copy\", $$0);\n  $$0.value = _1f, _$2(_V, \"delete\", $$0);\n  $$0.value = _1g, _$2(_V, \"draw\", $$0);\n  $$0.value = _1h, _$2(_V, \"transition\", $$0);\n  $$0.value = _1i, _$2(_V, \"rewrite\", $$0);\n\n  var _a = (__constructor.prototype = _V, new __constructor());\n\n  $$0.value = _1z, _$2(_a, \"constructor\", $$0);\n  $$0.value = _20, _$2(_a, \"addNode\", $$0);\n  $$0.value = _21, _$2(_a, \"removeNode\", $$0);\n  $$0.value = _22, _$2(_a, \"addLink\", $$0);\n  $$0.value = _23, _$2(_a, \"removeLink\", $$0);\n  $$0.value = _24, _$2(_a, \"delete\", $$0);\n  $$0.value = _25, _$2(_a, \"draw\", $$0);\n  $$0.value = _26, _$2(_a, \"copy\", $$0);\n  _1z.prototype = _a;\n\n  _$3(_1z, _1j);\n\n  $$0.value = _14, _$2(_L, \"clear\", $$0);\n  $$0.value = _15, _$2(_L, \"addNode\", $$0);\n  $$0.value = _16, _$2(_L, \"removeNode\", $$0);\n  $$0.value = _17, _$2(_L, \"findNodeByKey\", $$0);\n  $$0.value = _18, _$2(_L, \"addLink\", $$0);\n  $$0.value = _19, _$2(_L, \"removeLink\", $$0);\n  $$0.value = _1A, _$2(_L, \"findLinkByKeys\", $$0);\n  $$0.value = _1B, _$2(_L, \"draw\", $$0);\n  var _F = {\n    SEARCH: \"?\",\n    REWRITE: \"\\u21AF\",\n    RETURN: \"\\u2713\"\n  };\n  $$0.value = _1C, _$2(_M, \"RewriteFlag\", $$0);\n  $$0.value = _1D, _$2(_N, \"setLink\", $$0);\n  $$0.value = _1E, _$2(_N, \"reset\", $$0);\n  $$0.value = _3, _$2(_2, \"setMachine\", $$0);\n  $$0.value = _1F, _$2(_Q, \"_nextChar\", $$0);\n  _2q.EOF = \"EOF\";\n  _2q.LCID = \"LCID\";\n  _2q.LPAREN = \"LPAREN\";\n  _2q.RPAREN = \"RPAREN\";\n  _2q.SEMIC = \"SEMIC\";\n  _2q.BIND = \"BIND\";\n  _2q.NEW = \"NEW\";\n  _2q.DEF = \"DEF\";\n  _2q.IN = \"IN\";\n  _2q.PLUS = \"PLUS\";\n  _2q.TIMES = \"TIMES\";\n  _2q.INT = \"INT\";\n  _2q.AND = \"AND\";\n  _2q.OR = \"OR\";\n  _2q.NOT = \"NOT\";\n  _2q.TRUE = \"TRUE\";\n  _2q.FALSE = \"FALSE\";\n  _2q.EQUALS = \"EQUALS\";\n  _2q.IF = \"IF\";\n  $$0.value = _1G, _$2(_Q, \"_nextToken\", $$0);\n  $$0.value = _1H, _$2(_Q, \"token\", $$0);\n  $$0.value = _1I, _$2(_Q, \"value\", $$0);\n  $$0.value = _1J, _$2(_Q, \"lookahead\", $$0);\n  $$0.value = _1K, _$2(_Q, \"lookaheadType\", $$0);\n  $$0.value = _1L, _$2(_Q, \"fail\", $$0);\n  $$0.value = _1M, _$2(_Q, \"next\", $$0);\n  $$0.value = _1N, _$2(_Q, \"match\", $$0);\n  $$0.value = _1O, _$2(_Q, \"skip\", $$0);\n  $$0.value = _1P, _$2(_S, \"parse\", $$0);\n\n  var _c = (__constructor.prototype = _d, new __constructor());\n\n  $$0.value = _b, _$2(_c, \"constructor\", $$0);\n  _b.prototype = _c;\n  $$1.value = \"Reference\", _$2(_b, \"name\", $$1);\n\n  _$3(_b, _27);\n\n  $$0.value = _1Q, _$2(_S, \"term2\", $$0);\n  $$0.value = _1R, _$2(_S, \"atom\", $$0);\n  $$0.value = _1S, _$2(_S, \"operation\", $$0);\n  $$0.value = _1T, _$2(_S, \"gatherArgs\", $$0);\n\n  var _U = (__constructor.prototype = _V, new __constructor());\n\n  $$0.value = _T, _$2(_U, \"constructor\", $$0);\n  $$0.value = _1U, _$2(_U, \"transition\", $$0);\n  $$0.value = _1V, _$2(_U, \"copy\", $$0);\n  $$0.value = _1W, _$2(_U, \"draw\", $$0);\n  _T.prototype = _U;\n\n  _$3(_T, _1j);\n\n  $$0.value = _1k, _$2(_X, \"addToNode\", $$0);\n  $$0.value = _1l, _$2(_X, \"addToGraph\", $$0);\n  $$0.value = _1m, _$2(_X, \"addToGroup\", $$0);\n  $$0.value = _1n, _$2(_X, \"changeToGroup\", $$0);\n  $$0.value = _1o, _$2(_X, \"changeFrom\", $$0);\n  $$0.value = _1p, _$2(_X, \"changeTo\", $$0);\n  $$0.value = _1q, _$2(_X, \"focus\", $$0);\n  $$0.value = _1r, _$2(_X, \"clearFocus\", $$0);\n  $$0.value = _1s, _$2(_X, \"delete\", $$0);\n  $$0.value = _1t, _$2(_X, \"toString\", $$0);\n  $$0.value = _1u, _$2(_X, \"draw\", $$0);\n  $$0.value = _4, _$2(_2, \"compile\", $$0);\n\n  var _Z = (__constructor.prototype = _a, new __constructor());\n\n  $$0.value = _Y, _$2(_Z, \"constructor\", $$0);\n  $$0.value = _1v, _$2(_Z, \"set\", $$0);\n  $$0.value = _1w, _$2(_Z, \"box\", $$0);\n  $$0.value = _1x, _$2(_Z, \"unbox\", $$0);\n  $$0.value = _1y, _$2(_Z, \"draw\", $$0);\n  _Y.prototype = _Z;\n\n  _$3(_Y, _1z);\n\n  var _g = (__constructor.prototype = _V, new __constructor());\n\n  $$0.value = _f, _$2(_g, \"constructor\", $$0);\n  $$0.value = _28, _$2(_g, \"transition\", $$0);\n\n  var _j = (__constructor.prototype = _V, new __constructor());\n\n  $$0.value = _h, _$2(_j, \"constructor\", $$0);\n  _h.prototype = _j;\n\n  _$3(_h, _1j);\n\n  var _m = (__constructor.prototype = _V, new __constructor());\n\n  $$0.value = _13, _$2(_m, \"constructor\", $$0);\n  $$0.value = _2D, _$2(_m, \"rewrite\", $$0);\n  $$0.value = _2E, _$2(_m, \"copy\", $$0);\n  _13.prototype = _m;\n\n  _$3(_13, _1j);\n\n  $$0.value = _29, _$2(_g, \"rewrite\", $$0);\n  $$0.value = _2A, _$2(_g, \"copy\", $$0);\n  $$0.value = _2B, _$2(_g, \"draw\", $$0);\n  _f.prototype = _g;\n  $$0.value = _2C, _$2(_f, \"createDNet\", $$0);\n\n  _$3(_f, _1j);\n\n  $$0.value = _5, _$2(_2, \"toGraph\", $$0);\n\n  var _l = (__constructor.prototype = _m, new __constructor());\n\n  $$0.value = _k, _$2(_l, \"constructor\", $$0);\n  _k.prototype = _l;\n\n  _$3(_k, _13);\n\n  var _o = (__constructor.prototype = _m, new __constructor());\n\n  $$0.value = _n, _$2(_o, \"constructor\", $$0);\n  $$0.value = _2F, _$2(_o, \"copy\", $$0);\n  _n.prototype = _o;\n  $$0.value = _2G, _$2(_n, \"parseBoolean\", $$0);\n\n  _$3(_n, _13);\n\n  var _q = (__constructor.prototype = _m, new __constructor());\n\n  $$0.value = _p, _$2(_q, \"constructor\", $$0);\n  $$0.value = _2H, _$2(_q, \"copy\", $$0);\n  $$0.value = _2I, _$2(_q, \"rewrite\", $$0);\n  _p.prototype = _q;\n\n  _$3(_p, _13);\n\n  var _s = (__constructor.prototype = _m, new __constructor());\n\n  $$0.value = _r, _$2(_s, \"constructor\", $$0);\n  $$0.value = _2J, _$2(_s, \"copy\", $$0);\n  $$0.value = _2K, _$2(_s, \"rewrite\", $$0);\n  _r.prototype = _s;\n\n  _$3(_r, _13);\n\n  var _u = (__constructor.prototype = _m, new __constructor());\n\n  $$0.value = _t, _$2(_u, \"constructor\", $$0);\n  $$0.value = _2L, _$2(_u, \"copy\", $$0);\n  $$0.value = _2M, _$2(_u, \"rewrite\", $$0);\n  _t.prototype = _u;\n\n  _$3(_t, _13);\n\n  var _w = (__constructor.prototype = _m, new __constructor());\n\n  $$0.value = _v, _$2(_w, \"constructor\", $$0);\n  $$0.value = _2N, _$2(_w, \"copy\", $$0);\n  $$0.value = _2O, _$2(_w, \"rewrite\", $$0);\n  _v.prototype = _w;\n\n  _$3(_v, _13);\n\n  var _y = (__constructor.prototype = _m, new __constructor());\n\n  $$0.value = _x, _$2(_y, \"constructor\", $$0);\n  $$0.value = _2P, _$2(_y, \"copy\", $$0);\n  $$0.value = _2Q, _$2(_y, \"rewrite\", $$0);\n  _x.prototype = _y;\n\n  _$3(_x, _13);\n\n  var _10 = (__constructor.prototype = _m, new __constructor());\n\n  $$0.value = _z, _$2(_10, \"constructor\", $$0);\n  $$0.value = _2R, _$2(_10, \"copy\", $$0);\n  $$0.value = _2S, _$2(_10, \"rewrite\", $$0);\n  _z.prototype = _10;\n\n  _$3(_z, _13);\n\n  var _12 = (__constructor.prototype = _m, new __constructor());\n\n  $$0.value = _11, _$2(_12, \"constructor\", $$0);\n  $$0.value = _2T, _$2(_12, \"copy\", $$0);\n  $$0.value = _2U, _$2(_12, \"rewrite\", $$0);\n  _11.prototype = _12;\n\n  _$3(_11, _13);\n\n  $$0.value = _6, _$2(_2, \"toOp\", $$0);\n  $$0.value = _7, _$2(_2, \"quotieningRules\", $$0);\n  $$0.value = _8, _$2(_2, \"transition\", $$0);\n  $$0.value = _9, _$2(_2, \"printHistory\", $$0);\n  $$0.value = _A, _$2(_2, \"pass\", $$0);\n  $$0.value = _C, _$2(_2, \"doneVisiting\", $$0);\n  $$0.value = _D, _$2(_2, \"findJ\", $$0);\n  _$0.machine = _1;\n}).call(window);"],"sourceRoot":""}