{"version":3,"sources":["webpack://goi-machine/webpack/bootstrap","webpack://goi-machine/./lib/goiMachine/v3/main.prepack.js"],"names":["graph","_$R_global","_3_","require","__get_scope_binding_0_get_95scope_95binding","__selector","__captured","__scope_0_main","Array","_$0_derived","_$1_derived","RewriteFlag","_$2_derived","_$3_derived","_$4_derived","_$5_derived","_$6_derived","_$7_derived","_$8_derived","_$9_derived","_$A_derived","_$B_derived","_$C_derived","_$D_derived","_$E_derived","_$F_derived","_$G_derived","_$H_derived","_$I_derived","_$J_derived","_$K_derived","_$L_derived","_$M_derived","_$N_derived","_$O_derived","_$P_derived","_$Q_derived","_W_","setMachine","graphSet","tokenSet","countSet","__captured__scope_1_","token","count","source","lexer","parser","ast","parse","clear","start","addToGroup","child","term","toGraph","link","key","prin","reset","group","box","inner","auxs","i","ctx","length","c","push","name","set","body","param","auxNode","splice","concat","atomNode","createDNet","op","toOp","active","next","sig","eas","das","visited","Number","isInteger","parseInt","graphTxt","linkTxt","flagTxt","finished","node","findNodeByKey","to","nextLink","rewriteFlag","REWRITE","rewrite","pass","setLink","printHistory","play","playing","val","draw","replace","SEARCH","outlinks","findLinksOutOf","RETURN","from","doneVisiting","findLinksInto","j","findJ","links","l","list","machine","call","window"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;AClFA,IAAIA,KAAJ;AACA,CAAC,YAAY;AACX,MAAIC,UAAU,GAAG,IAAjB;;AAEA,MAAIC,GAAG,GAAG,SAANA,GAAM,CAAUC,OAAV,EAAmB;AAC3B,QAAIC,2CAA2C,GAAG,SAA9CA,2CAA8C,CAAUC,UAAV,EAAsB;AACtE,UAAIC,UAAJ;;AAEA,cAAQD,UAAR;AACE,aAAK,CAAL;AACEC,oBAAU,GAAG,CAAC,KAAK,CAAN,CAAb;AACA;AAHJ;;AAMAC,oBAAc,CAACF,UAAD,CAAd,GAA6BC,UAA7B;AACA,aAAOA,UAAP;AACD,KAXD;;AAaA,QAAIC,cAAc,GAAG,IAAIC,KAAJ,CAAU,CAAV,CAArB;;AAEA,QAAIC,WAAW,GAAGN,OAAO,CAAC,OAAD,CAAzB;;AAEA,QAAIO,WAAW,GAAGD,WAAW,CAACE,WAAZ,EAAlB;;AAEA,QAAIC,WAAW,GAAGT,OAAO,CAAC,SAAD,CAAzB;;AAEA,QAAIU,WAAW,GAAGV,OAAO,CAAC,eAAD,CAAzB;;AAEA,QAAIW,WAAW,GAAGX,OAAO,CAAC,aAAD,CAAzB;;AAEA,QAAIY,WAAW,GAAGZ,OAAO,CAAC,eAAD,CAAzB;;AAEA,QAAIa,WAAW,GAAGb,OAAO,CAAC,WAAD,CAAzB;;AAEA,QAAIc,WAAW,GAAGd,OAAO,CAAC,cAAD,CAAzB;;AAEA,QAAIe,WAAW,GAAGf,OAAO,CAAC,eAAD,CAAzB;;AAEA,QAAIgB,WAAW,GAAGhB,OAAO,CAAC,OAAD,CAAzB;;AAEA,QAAIiB,WAAW,GAAGjB,OAAO,CAAC,MAAD,CAAzB;;AAEA,QAAIkB,WAAW,GAAGlB,OAAO,CAAC,OAAD,CAAzB;;AAEA,QAAImB,WAAW,GAAGnB,OAAO,CAAC,OAAD,CAAzB;;AAEA,QAAIoB,WAAW,GAAGpB,OAAO,CAAC,MAAD,CAAzB;;AAEA,QAAIqB,WAAW,GAAGrB,OAAO,CAAC,YAAD,CAAzB;;AAEA,QAAIsB,WAAW,GAAGtB,OAAO,CAAC,gBAAD,CAAzB;;AAEA,QAAIuB,WAAW,GAAGvB,OAAO,CAAC,aAAD,CAAzB;;AAEA,QAAIwB,WAAW,GAAGxB,OAAO,CAAC,UAAD,CAAzB;;AAEA,QAAIyB,WAAW,GAAGzB,OAAO,CAAC,eAAD,CAAzB;;AAEA,QAAI0B,WAAW,GAAG1B,OAAO,CAAC,gBAAD,CAAzB;;AAEA,QAAI2B,WAAW,GAAG3B,OAAO,CAAC,gBAAD,CAAzB;;AAEA,QAAI4B,WAAW,GAAG5B,OAAO,CAAC,iBAAD,CAAzB;;AAEA,QAAI6B,WAAW,GAAG7B,OAAO,CAAC,eAAD,CAAzB;;AAEA,QAAI8B,WAAW,GAAG9B,OAAO,CAAC,cAAD,CAAzB;;AAEA,QAAI+B,WAAW,GAAG/B,OAAO,CAAC,eAAD,CAAzB;;AAEA,QAAIgC,WAAW,GAAGhC,OAAO,CAAC,kBAAD,CAAzB;;AAEA,QAAIiC,WAAW,GAAGjC,OAAO,CAAC,cAAD,CAAzB;;AAEA,QAAIkC,GAAG;AAAA;AAAA;AACL,qBAAc;AAAA;;AACZ,aAAKC,UAAL,CAAgB,IAAIjB,WAAJ,EAAhB,EAAmC,IAAIF,WAAJ,EAAnC,EAAsD,CAAtD;AACD;;AAHI;AAAA;AAAA,mCAKMoB,QALN,EAKgBC,QALhB,EAK0BC,QAL1B,EAKoC;AACvC,eAAKzC,KAAL,GAAauC,QAAb;AACAG,8BAAoB,CAAC,CAAD,CAApB,GAA0B,KAAK1C,KAA/B,CAFuC,CAED;;AAEtC,eAAK2C,KAAL,GAAaH,QAAb;AACA,eAAKI,KAAL,GAAaH,QAAb;AACD;AAXI;AAAA;AAAA,gCAaGI,MAbH,EAaW;AACd,cAAMC,KAAK,GAAG,IAAI7B,WAAJ,CAAgB4B,MAAM,GAAG,IAAzB,CAAd;AACA,cAAME,MAAM,GAAG,IAAI7B,WAAJ,CAAgB4B,KAAhB,CAAf;AACA,cAAME,GAAG,GAAGD,MAAM,CAACE,KAAP,EAAZ;AACA,eAAKL,KAAL,GAAa,CAAb;AACA,eAAK5C,KAAL,CAAWkD,KAAX;AACA,cAAIC,KAAK,GAAG,IAAIzB,WAAJ,GAAkB0B,UAAlB,CAA6B,KAAKpD,KAAL,CAAWqD,KAAxC,CAAZ;AACA,cAAIC,IAAI,GAAG,KAAKC,OAAL,CAAaP,GAAb,EAAkB,KAAKhD,KAAL,CAAWqD,KAA7B,EAAoC,KAApC,CAAX;AACA,cAAIG,IAAI,GAAG,IAAIpC,WAAJ,CAAgB+B,KAAK,CAACM,GAAtB,EAA2BH,IAAI,CAACI,IAAL,CAAUD,GAArC,EAA0C,GAA1C,EAA+C,GAA/C,EAAoDL,UAApD,CAA+D,KAAKpD,KAAL,CAAWqD,KAA1E,CAAX;AACA,eAAKV,KAAL,CAAWgB,KAAX,CAAiBH,IAAjB;AACD;AAvBI;AAAA;AAAA,gCAyBGR,GAzBH,EAyBQY,KAzBR,EAyBe;AAClB,cAAI5D,KAAK,GAAG,KAAKA,KAAjB;AACA,cAAIsD,IAAI,GAAG,IAAI/B,WAAJ,GAAkB6B,UAAlB,CAA6BQ,KAA7B,CAAX;;AAEA,cAAIZ,GAAG,YAAYhC,WAAnB,EAAgC;AAC9BsC,gBAAI,CAACO,GAAL;AACAb,eAAG,GAAGA,GAAG,CAACc,KAAV;AACD,WAPiB,CAOhB;;;AAGF,cAAId,GAAG,YAAYpC,WAAnB,EAAgC;AAC9B,gBAAImD,IAAI,GAAG,EAAX;;AAEA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,GAAG,CAACiB,GAAJ,CAAQC,MAA5B,EAAoCF,CAAC,EAArC,EAAyC;AACvC,kBAAIG,CAAC,GAAG,IAAI1C,WAAJ,GAAkB2B,UAAlB,CAA6BE,IAA7B,CAAR;AACAS,kBAAI,CAACK,IAAL,CAAUD,CAAV;AACA,kBAAInB,GAAG,CAACiB,GAAJ,CAAQD,CAAR,EAAWK,IAAX,IAAmBrB,GAAG,CAACqB,IAA3B,EAAiC,IAAIX,IAAI,GAAGS,CAAX;AAClC;;AAEDb,gBAAI,CAACgB,GAAL,CAASZ,IAAT,EAAeK,IAAf,EAT8B,CASR;AACvB,WAVD,MAUO,IAAIf,GAAG,YAAYlC,WAAf,IAA8BkC,GAAG,YAAYjC,WAAjD,EAA8D;AACnE,gBAAIwD,IAAI,GAAG,KAAKhB,OAAL,CAAaP,GAAG,CAACuB,IAAjB,EAAuBjB,IAAvB,EAA6B,KAA7B,EAAoCF,UAApC,CAA+CE,IAA/C,CAAX;AACA,gBAAIkB,KAAK,GAAG,KAAKjB,OAAL,CAAaP,GAAG,CAACwB,KAAjB,EAAwBlB,IAAxB,EAA8B,KAA9B,EAAqCF,UAArC,CAAgDE,IAAhD,CAAZ;AACA,gBAAIS,IAAI,GAAGQ,IAAI,CAACR,IAAhB;AACA,gBAAIU,OAAO,GAAGV,IAAI,CAAC,CAAD,CAAlB;AACAA,gBAAI,CAACW,MAAL,CAAY,CAAZ,EAAe,CAAf;AACAX,gBAAI,GAAGA,IAAI,CAACY,MAAL,CAAYH,KAAK,CAACT,IAAlB,CAAP;;AAEA,gBAAIf,GAAG,YAAYjC,WAAnB,EAAgC;AAC9B,kBAAI6D,QAAQ,GAAG,IAAIpD,WAAJ,CAAgB,GAAhB,EAAqB4B,UAArB,CAAgCoB,KAAhC,CAAf;AACA,kBAAIpD,WAAJ,CAAgBwD,QAAQ,CAACnB,GAAzB,EAA8Be,KAAK,CAACd,IAAN,CAAWD,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,EAAwDL,UAAxD,CAAmEoB,KAAnE;AACAA,mBAAK,CAACd,IAAN,GAAakB,QAAb;AACD;;AAED,gBAAIxD,WAAJ,CAAgBqD,OAAO,CAAChB,GAAxB,EAA6Be,KAAK,CAACd,IAAN,CAAWD,GAAxC,EAA6C,GAA7C,EAAkD,GAAlD,EAAuDL,UAAvD,CAAkEE,IAAlE;AACAS,gBAAI,GAAGtC,WAAW,CAACoD,UAAZ,CAAuB7B,GAAG,CAACiB,GAAJ,CAAQC,MAA/B,EAAuCH,IAAvC,EAA6CT,IAA7C,CAAP;AACAA,gBAAI,CAACgB,GAAL,CAASC,IAAI,CAACb,IAAd,EAAoBK,IAApB,EAhBmE,CAgBxC;AAC5B,WAjBM,MAiBA,IAAIf,GAAG,YAAYnC,WAAnB,EAAgC;AACrC,gBAAIiE,EAAE,GAAG,KAAKC,IAAL,CAAU/B,GAAG,CAACqB,IAAd,EAAoBrB,GAAG,CAACgC,MAAxB,EAAgC5B,UAAhC,CAA2CE,IAA3C,CAAT;AACA,gBAAIS,IAAI,GAAG,EAAX;AACA,gBAAIkB,IAAJ;;AAEA,iBAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,GAAG,CAACkC,GAAJ,CAAQ,CAAR,CAApB,EAAgClB,CAAC,EAAjC,EAAqC;AACnCiB,kBAAI,GAAG,KAAK1B,OAAL,CAAaP,GAAG,CAACmC,GAAJ,CAAQnB,CAAR,CAAb,EAAyBV,IAAzB,EAA+BF,UAA/B,CAA0CE,IAA1C,CAAP;AACA,kBAAIlC,WAAJ,CAAgB0D,EAAE,CAACrB,GAAnB,EAAwBwB,IAAI,CAACvB,IAAL,CAAUD,GAAlC,EAAuC,GAAvC,EAA4C,GAA5C,EAAiDL,UAAjD,CAA4DE,IAA5D;AACAS,kBAAI,GAAGA,IAAI,CAACY,MAAL,CAAYM,IAAI,CAAClB,IAAjB,CAAP;AACD;;AAED,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,GAAG,CAACkC,GAAJ,CAAQ,CAAR,CAApB,EAAgClB,CAAC,EAAjC,EAAqC;AACnCiB,kBAAI,GAAG,KAAK1B,OAAL,CAAaP,GAAG,CAACoC,GAAJ,CAAQpB,CAAR,CAAb,EAAyBV,IAAzB,EAA+BF,UAA/B,CAA0CE,IAA1C,CAAP;AACA,kBAAIE,IAAI,GAAG,IAAIpC,WAAJ,CAAgB0D,EAAE,CAACrB,GAAnB,EAAwBwB,IAAI,CAACvB,IAAL,CAAUD,GAAlC,EAAuC,GAAvC,EAA4C,GAA5C,CAAX;AACAD,kBAAI,CAAC6B,OAAL,GAAe,IAAf,CAHmC,CAGd;;AAErB7B,kBAAI,CAACJ,UAAL,CAAgBE,IAAhB;AACAS,kBAAI,GAAGA,IAAI,CAACY,MAAL,CAAYM,IAAI,CAAClB,IAAjB,CAAP;AACD;;AAEDA,gBAAI,GAAGtC,WAAW,CAACoD,UAAZ,CAAuB7B,GAAG,CAACiB,GAAJ,CAAQC,MAA/B,EAAuCH,IAAvC,EAA6CT,IAA7C,EAAmDwB,EAAnD,CAAP;AACAxB,gBAAI,CAACgB,GAAL,CAASQ,EAAT,EAAaf,IAAb;AACD;;AAED,iBAAOT,IAAP;AACD;AAvFI;AAAA;AAAA,6BAyFAe,IAzFA,EAyFMW,MAzFN,EAyFc;AACjB,cAAIM,MAAM,CAACC,SAAP,CAAiBC,QAAQ,CAACnB,IAAD,CAAzB,CAAJ,EAAsC;AACpC,mBAAO,IAAIzC,WAAJ,CAAgByC,IAAhB,CAAP;AACD,WAFD,MAEO,IAAIA,IAAI,IAAI,MAAR,IAAkBA,IAAI,IAAI,OAA9B,EAAuC;AAC5C,mBAAO,IAAIxC,WAAJ,CAAgBwC,IAAhB,CAAP;AACD,WAFM,MAEA,IAAIA,IAAI,IAAI,GAAZ,EAAiB;AACtB,mBAAO,IAAIvC,WAAJ,EAAP;AACD,WAFM,MAEA,IAAIuC,IAAI,IAAI,GAAZ,EAAiB;AACtB,mBAAO,IAAItC,WAAJ,EAAP;AACD,WAFM,MAEA,IAAIsC,IAAI,IAAI,GAAZ,EAAiB;AACtB,mBAAO,IAAIrC,WAAJ,EAAP;AACD,WAFM,MAEA,IAAIqC,IAAI,IAAI,GAAZ,EAAiB;AACtB,mBAAO,IAAIpC,WAAJ,EAAP;AACD,WAFM,MAEA,IAAIoC,IAAI,IAAI,GAAZ,EAAiB;AACtB,mBAAO,IAAInC,WAAJ,EAAP;AACD,WAFM,MAEA,IAAImC,IAAI,IAAI,IAAZ,EAAkB;AACvB,mBAAO,IAAIlC,WAAJ,EAAP;AACD,WAFM,MAEA,IAAIkC,IAAI,IAAI,IAAZ,EAAkB;AACvB,mBAAO,IAAIjC,WAAJ,EAAP;AACD,WAFM,MAEA;AACL,mBAAO,IAAIT,WAAJ,CAAgB0C,IAAhB,EAAsBW,MAAtB,CAAP;AACD;AACF;AA/GI;AAAA;AAAA,0CAiHa;AAChB;AACA;AACA;AACA,iBAAO,IAAP;AACD;AAtHI;AAAA;AAAA,mCAwHMS,QAxHN,EAwHgBC,OAxHhB,EAwHyBC,OAxHzB,EAwHkC;AACrC,cAAI,CAACC,QAAL,EAAe;AACb,iBAAKhD,KAAL;AACA,gBAAIiD,IAAI,GAAG,KAAK7F,KAAL,CAAW8F,aAAX,CAAyB,KAAKnD,KAAL,CAAWa,IAAX,CAAgBuC,EAAzC,CAAX;AACA,gBAAIC,QAAJ;;AAEA,gBAAI,KAAKrD,KAAL,CAAWsD,WAAX,IAA0BvF,WAAW,CAACwF,OAA1C,EAAmD;AACjDF,sBAAQ,GAAGH,IAAI,CAACM,OAAL,CAAa,KAAKxD,KAAlB,CAAX;AACD,aAFD,MAEO;AACLqD,sBAAQ,GAAG,KAAKI,IAAL,CAAU,KAAKzD,KAAf,CAAX;AACD;;AAED,gBAAIqD,QAAQ,IAAI,IAAhB,EAAsB;AACpB,mBAAKrD,KAAL,CAAW0D,OAAX,CAAmBL,QAAnB;AACA,mBAAKM,YAAL,CAAkBb,QAAlB,EAA4BC,OAA5B,EAAqCC,OAArC;AACD,aAHD,MAGO;AACL,mBAAKhD,KAAL,CAAW0D,OAAX,CAAmB,IAAnB;AACAE,kBAAI,GAAG,KAAP;AACAC,qBAAO,GAAG,KAAV;AACAZ,sBAAQ,GAAG,IAAX;AACD;AACF;AACF;AA9II;AAAA;AAAA,qCAgJQH,QAhJR,EAgJkBC,OAhJlB,EAgJ2BC,OAhJ3B,EAgJoC;AACvCF,kBAAQ,CAACgB,GAAT,CAAa,KAAKzG,KAAL,CAAW0G,IAAX,GAAkBC,OAAlB,CAA0B,KAA1B,EAAiC,EAAjC,IAAuC,IAAvC,GAA8ClB,QAAQ,CAACgB,GAAT,EAA3D;AACAf,iBAAO,CAACe,GAAR,CAAY,KAAK9D,KAAL,CAAWa,IAAX,GAAkB,IAAlB,GAAyBkC,OAAO,CAACe,GAAR,EAArC;AACAd,iBAAO,CAACc,GAAR,CAAY,KAAK9D,KAAL,CAAWsD,WAAX,GAAyB,IAAzB,GAAgCN,OAAO,CAACc,GAAR,EAA5C;AACD;AApJI;AAAA;AAAA,6BAsJA9D,KAtJA,EAsJO;AACV;AACA,cAAIa,IAAI,GAAGb,KAAK,CAACa,IAAjB;;AAEA,cAAIb,KAAK,CAACsD,WAAN,IAAqBvF,WAAW,CAACkG,MAArC,EAA6C;AAC3C,gBAAIb,EAAE,GAAG,KAAK/F,KAAL,CAAW8F,aAAX,CAAyBtC,IAAI,CAACuC,EAA9B,CAAT;AACA,gBAAIc,QAAQ,GAAGd,EAAE,CAACe,cAAH,EAAf;;AAEA,gBAAIf,EAAE,YAAYvE,WAAlB,EAA+B;AAC7BmB,mBAAK,CAACsD,WAAN,GAAoBvF,WAAW,CAACqG,MAAhC;AACA,qBAAOvD,IAAP;AACD,aAHD,MAGO,IAAIuC,EAAE,YAAYpE,WAAlB,EAA+B;AACpC,kBAAIkF,QAAQ,CAAC3C,MAAT,IAAmB,CAAvB,EAA0B;AACxB,oBAAI6B,EAAE,CAACf,MAAP,EAAe;AACbrC,uBAAK,CAACsD,WAAN,GAAoBvF,WAAW,CAACwF,OAAhC;AACD,iBAFD,MAEO;AACLvD,uBAAK,CAACsD,WAAN,GAAoBvF,WAAW,CAACqG,MAAhC;AACD;;AAED,uBAAOvD,IAAP;AACD,eARD,MAQO;AACL,uBAAOqD,QAAQ,CAAC,CAAD,CAAf;AACD;AACF,aAZM,MAYA,IAAId,EAAE,YAAYtE,WAAlB,EAA+B;AACpCkB,mBAAK,CAACsD,WAAN,GAAoBvF,WAAW,CAACwF,OAAhC;AACA,qBAAO1C,IAAP;AACD;AACF,WAvBD,MAuBO,IAAIb,KAAK,CAACsD,WAAN,IAAqBvF,WAAW,CAACqG,MAArC,EAA6C;AAClD,gBAAIC,IAAI,GAAG,KAAKhH,KAAL,CAAW8F,aAAX,CAAyBtC,IAAI,CAACwD,IAA9B,CAAX;AACA,gBAAIH,QAAQ,GAAGG,IAAI,CAACF,cAAL,EAAf;;AAEA,gBAAI,KAAKG,YAAL,CAAkBzD,IAAlB,EAAwBqD,QAAxB,CAAJ,EAAuC;AACrC;AACA,kBAAIG,IAAI,CAAChC,MAAT,EAAiB;AACfrC,qBAAK,CAACsD,WAAN,GAAoBvF,WAAW,CAACwF,OAAhC;AACA,uBAAOc,IAAI,CAACE,aAAL,GAAqB,CAArB,CAAP;AACD,eAHD,MAGO;AACLvE,qBAAK,CAACsD,WAAN,GAAoBvF,WAAW,CAACqG,MAAhC;AACA,uBAAOC,IAAI,CAACE,aAAL,GAAqB,CAArB,CAAP;AACD;AACF,aATD,MASO;AACLvE,mBAAK,CAACsD,WAAN,GAAoBvF,WAAW,CAACkG,MAAhC;AACA,kBAAIO,CAAC,GAAG,KAAKC,KAAL,CAAW5D,IAAX,EAAiBqD,QAAjB,CAAR;AACA,qBAAOA,QAAQ,CAACM,CAAD,CAAf;AACD;AACF;;AAED,iBAAO3D,IAAP;AACD;AAtMI;AAAA;AAAA,qCAwMQA,IAxMR,EAwMc6D,KAxMd,EAwMqB;AAAA;AAAA;AAAA;;AAAA;AACxB,iCAAcA,KAAd,8HAAqB;AAAA,kBAAZC,CAAY;AACnB,kBAAI,CAACA,CAAC,CAACjC,OAAH,IAAciC,CAAC,IAAI9D,IAAvB,EAA6B,OAAO,KAAP;AAC9B;AAHuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKxB,iBAAO,IAAP;AACD;AA9MI;AAAA;AAAA,8BAgNCA,IAhND,EAgNO+D,IAhNP,EAgNa;AAChB,eAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGI,IAAI,CAACrD,MAAzB,EAAiCiD,CAAC,EAAlC,EAAsC;AACpC,gBAAI,CAACI,IAAI,CAACJ,CAAD,CAAJ,CAAQ9B,OAAT,IAAoBkC,IAAI,CAACJ,CAAD,CAAJ,IAAW3D,IAAnC,EAAyC,OAAO2D,CAAP;AAC1C;;AAED,iBAAO,IAAP;AACD;AAtNI;;AAAA;AAAA,OAAP;;AA0NA,WAAO9E,GAAP;AACD,GAjSD;;AAmSApC,YAAU,CAACD,KAAX,GAAmB,IAAnB;AACAC,YAAU,CAACuH,OAAX,GAAqBtH,GAArB;AACD,CAxSD,EAwSGuH,IAxSH,CAwSQC,MAxSR,E","file":"main.requirejs.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/goiMachine/v3/main.prepack.js\");\n","var graph;\n(function () {\n  var _$R_global = this;\n\n  var _3_ = function (require) {\n    var __get_scope_binding_0_get_95scope_95binding = function (__selector) {\n      var __captured;\n\n      switch (__selector) {\n        case 0:\n          __captured = [void 0];\n          break;\n      }\n\n      __scope_0_main[__selector] = __captured;\n      return __captured;\n    };\n\n    var __scope_0_main = new Array(1);\n\n    var _$0_derived = require(\"token\");\n\n    var _$1_derived = _$0_derived.RewriteFlag();\n\n    var _$2_derived = require(\"ast/var\");\n\n    var _$3_derived = require(\"ast/operation\");\n\n    var _$4_derived = require(\"ast/binding\");\n\n    var _$5_derived = require(\"ast/reference\");\n\n    var _$6_derived = require(\"ast/thunk\");\n\n    var _$7_derived = require(\"parser/lexer\");\n\n    var _$8_derived = require(\"parser/parser\");\n\n    var _$9_derived = require(\"token\");\n\n    var _$A_derived = require(\"link\");\n\n    var _$B_derived = require(\"graph\");\n\n    var _$C_derived = require(\"group\");\n\n    var _$D_derived = require(\"term\");\n\n    var _$E_derived = require(\"nodes/atom\");\n\n    var _$F_derived = require(\"nodes/contract\");\n\n    var _$G_derived = require(\"nodes/start\");\n\n    var _$H_derived = require(\"nodes/op\");\n\n    var _$I_derived = require(\"nodes/ops/int\");\n\n    var _$J_derived = require(\"nodes/ops/bool\");\n\n    var _$K_derived = require(\"nodes/ops/plus\");\n\n    var _$L_derived = require(\"nodes/ops/times\");\n\n    var _$M_derived = require(\"nodes/ops/and\");\n\n    var _$N_derived = require(\"nodes/ops/or\");\n\n    var _$O_derived = require(\"nodes/ops/not\");\n\n    var _$P_derived = require(\"nodes/ops/equals\");\n\n    var _$Q_derived = require(\"nodes/ops/if\");\n\n    var _W_ = class {\n      constructor() {\n        this.setMachine(new _$B_derived(), new _$9_derived(), 0);\n      }\n\n      setMachine(graphSet, tokenSet, countSet) {\n        this.graph = graphSet;\n        __captured__scope_1_[0] = this.graph; // cheating!\n\n        this.token = tokenSet;\n        this.count = countSet;\n      }\n\n      compile(source) {\n        const lexer = new _$7_derived(source + '\\0');\n        const parser = new _$8_derived(lexer);\n        const ast = parser.parse();\n        this.count = 0;\n        this.graph.clear();\n        var start = new _$G_derived().addToGroup(this.graph.child);\n        var term = this.toGraph(ast, this.graph.child, false);\n        var link = new _$A_derived(start.key, term.prin.key, \"_\", \"_\").addToGroup(this.graph.child);\n        this.token.reset(link);\n      }\n\n      toGraph(ast, group) {\n        var graph = this.graph;\n        var term = new _$D_derived().addToGroup(group);\n\n        if (ast instanceof _$6_derived) {\n          term.box();\n          ast = ast.inner;\n        } // VARIABLES & ATOMS\n\n\n        if (ast instanceof _$2_derived) {\n          var auxs = [];\n\n          for (var i = 0; i < ast.ctx.length; i++) {\n            var c = new _$F_derived().addToGroup(term);\n            auxs.push(c);\n            if (ast.ctx[i].name == ast.name) var prin = c;\n          }\n\n          term.set(prin, auxs); // BINDINGS & REFERENCES\n        } else if (ast instanceof _$4_derived || ast instanceof _$5_derived) {\n          var body = this.toGraph(ast.body, term, false).addToGroup(term);\n          var param = this.toGraph(ast.param, term, false).addToGroup(term);\n          var auxs = body.auxs;\n          var auxNode = auxs[0];\n          auxs.splice(0, 1);\n          auxs = auxs.concat(param.auxs);\n\n          if (ast instanceof _$5_derived) {\n            var atomNode = new _$E_derived(\"a\").addToGroup(param);\n            new _$A_derived(atomNode.key, param.prin.key, \"_\", \"_\").addToGroup(param);\n            param.prin = atomNode;\n          }\n\n          new _$A_derived(auxNode.key, param.prin.key, \"_\", \"_\").addToGroup(term);\n          auxs = _$F_derived.createDNet(ast.ctx.length, auxs, term);\n          term.set(body.prin, auxs); // OPERATIONS\n        } else if (ast instanceof _$3_derived) {\n          var op = this.toOp(ast.name, ast.active).addToGroup(term);\n          var auxs = [];\n          var next;\n\n          for (var i = 0; i < ast.sig[0]; i++) {\n            next = this.toGraph(ast.eas[i], term).addToGroup(term);\n            new _$A_derived(op.key, next.prin.key, \"_\", \"_\").addToGroup(term);\n            auxs = auxs.concat(next.auxs);\n          }\n\n          for (var i = 0; i < ast.sig[1]; i++) {\n            next = this.toGraph(ast.das[i], term).addToGroup(term);\n            var link = new _$A_derived(op.key, next.prin.key, \"_\", \"_\");\n            link.visited = true; // hacking\n\n            link.addToGroup(term);\n            auxs = auxs.concat(next.auxs);\n          }\n\n          auxs = _$F_derived.createDNet(ast.ctx.length, auxs, term, op);\n          term.set(op, auxs);\n        }\n\n        return term;\n      }\n\n      toOp(name, active) {\n        if (Number.isInteger(parseInt(name))) {\n          return new _$I_derived(name);\n        } else if (name == \"true\" || name == \"false\") {\n          return new _$J_derived(name);\n        } else if (name == \"+\") {\n          return new _$K_derived();\n        } else if (name == \"*\") {\n          return new _$L_derived();\n        } else if (name == \"∧\") {\n          return new _$M_derived();\n        } else if (name == \"∨\") {\n          return new _$N_derived();\n        } else if (name == \"¬\") {\n          return new _$O_derived();\n        } else if (name == \"==\") {\n          return new _$P_derived();\n        } else if (name == \"if\") {\n          return new _$Q_derived();\n        } else {\n          return new _$H_derived(name, active);\n        }\n      }\n\n      quotieningRules() {\n        // TODO\n        // Loop through all links in the graph\n        // Perform quotiening rules\n        return null;\n      }\n\n      transition(graphTxt, linkTxt, flagTxt) {\n        if (!finished) {\n          this.count++;\n          var node = this.graph.findNodeByKey(this.token.link.to);\n          var nextLink;\n\n          if (this.token.rewriteFlag == _$1_derived.REWRITE) {\n            nextLink = node.rewrite(this.token);\n          } else {\n            nextLink = this.pass(this.token);\n          }\n\n          if (nextLink != null) {\n            this.token.setLink(nextLink);\n            this.printHistory(graphTxt, linkTxt, flagTxt);\n          } else {\n            this.token.setLink(null);\n            play = false;\n            playing = false;\n            finished = true;\n          }\n        }\n      }\n\n      printHistory(graphTxt, linkTxt, flagTxt) {\n        graphTxt.val(this.graph.draw().replace(/\\n/g, \"\") + '\\n' + graphTxt.val());\n        linkTxt.val(this.token.link + '\\n' + linkTxt.val());\n        flagTxt.val(this.token.rewriteFlag + '\\n' + flagTxt.val());\n      }\n\n      pass(token) {\n        // this needs cleaning up!\n        var link = token.link;\n\n        if (token.rewriteFlag == _$1_derived.SEARCH) {\n          var to = this.graph.findNodeByKey(link.to);\n          var outlinks = to.findLinksOutOf();\n\n          if (to instanceof _$E_derived) {\n            token.rewriteFlag = _$1_derived.RETURN;\n            return link;\n          } else if (to instanceof _$H_derived) {\n            if (outlinks.length == 0) {\n              if (to.active) {\n                token.rewriteFlag = _$1_derived.REWRITE;\n              } else {\n                token.rewriteFlag = _$1_derived.RETURN;\n              }\n\n              return link;\n            } else {\n              return outlinks[0];\n            }\n          } else if (to instanceof _$F_derived) {\n            token.rewriteFlag = _$1_derived.REWRITE;\n            return link;\n          }\n        } else if (token.rewriteFlag == _$1_derived.RETURN) {\n          var from = this.graph.findNodeByKey(link.from);\n          var outlinks = from.findLinksOutOf();\n\n          if (this.doneVisiting(link, outlinks)) {\n            // HACKING\n            if (from.active) {\n              token.rewriteFlag = _$1_derived.REWRITE;\n              return from.findLinksInto()[0];\n            } else {\n              token.rewriteFlag = _$1_derived.RETURN;\n              return from.findLinksInto()[0];\n            }\n          } else {\n            token.rewriteFlag = _$1_derived.SEARCH;\n            var j = this.findJ(link, outlinks);\n            return outlinks[j];\n          }\n        }\n\n        return link;\n      }\n\n      doneVisiting(link, links) {\n        for (let l of links) {\n          if (!l.visited && l != link) return false;\n        }\n\n        return true;\n      }\n\n      findJ(link, list) {\n        for (var j = 0; j < list.length; j++) {\n          if (!list[j].visited && list[j] != link) return j;\n        }\n\n        return null;\n      }\n\n    };\n\n    return _W_;\n  };\n\n  _$R_global.graph = null;\n  _$R_global.machine = _3_;\n}).call(window);"],"sourceRoot":""}